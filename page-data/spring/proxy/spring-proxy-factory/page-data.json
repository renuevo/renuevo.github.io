{"componentChunkName":"component---src-templates-blog-post-js","path":"/spring/proxy/spring-proxy-factory/","result":{"data":{"site":{"siteMetadata":{"title":"renuevo blog","author":"deokhwa kim","siteUrl":"https://renuevo.github.io","comment":{"disqusShortName":"https-renuevo-github-io","utterances":""},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"584984b8-6e73-54db-ba47-fccc9a6d44d8","excerpt":"Spring AOPì—ì„œ ì‚¬ìš©í•˜ëŠ” Proxy ìŠ¤í”„ë§ì—ì„œ ì‚¬ìš©í•˜ëŠ” í”„ë¡ì‹œì— ëŒ€í•´ ì•Œì•„ë³¼ ì‹œê°„ì…ë‹ˆë‹¤ ì´ 3í¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì„œ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤   Spring Proxyì˜ JDK Dynamic Proxyì™€ CGLIB   a. Proxy ì‚´í´ë³´ê¸° b. JDK Dynamic Proxy c. CGLIB   Springì˜ í”„ë¡ì‹œ ìƒì„± (ProxyBeanFactory)   a. FactoryBean b. ProxyBeanFactory   Spring Proxyì˜ ë¹ˆ í›„ì²˜ë¦¬ê¸°(BeanPostProcessorâ€¦","html":"<h2 id=\"spring-aopì—ì„œ-ì‚¬ìš©í•˜ëŠ”-proxy\" style=\"position:relative;\"><a href=\"#spring-aop%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-proxy\" aria-label=\"spring aopì—ì„œ ì‚¬ìš©í•˜ëŠ” proxy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring AOPì—ì„œ ì‚¬ìš©í•˜ëŠ” Proxy</h2>\n<p><strong>ìŠ¤í”„ë§ì—ì„œ ì‚¬ìš©í•˜ëŠ” í”„ë¡ì‹œì— ëŒ€í•´ ì•Œì•„ë³¼ ì‹œê°„ì…ë‹ˆë‹¤</strong></p>\n<p>ì´ 3í¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì„œ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤  </p>\n<ol>\n<li>\n<p><a href=\"https://renuevo.github.io/spring/proxy/spring-proxy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Proxyì˜ JDK Dynamic Proxyì™€ CGLIB</a>  </p>\n<blockquote>\n<p>a. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy/#proxy-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Proxy ì‚´í´ë³´ê¸°</a><br>\nb. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy/#jdk-dynamic-proxy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JDK Dynamic Proxy</a><br>\nc. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy/#cglib\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CGLIB</a>  </p>\n</blockquote>\n</li>\n<li>\n<p><a href=\"https://renuevo.github.io/spring/proxy/spring-proxy-factory\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Springì˜ í”„ë¡ì‹œ ìƒì„± (ProxyBeanFactory)</a>  </p>\n<blockquote>\n<p>a. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy-factory/#factory-bean\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FactoryBean</a><br>\nb. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy-factory/#proxyfactorybean\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ProxyBeanFactory</a>  </p>\n</blockquote>\n</li>\n<li><a href=\"\">Spring Proxyì˜ ë¹ˆ í›„ì²˜ë¦¬ê¸°(BeanPostProcessor)</a> ğŸš§ ì‘ì„±ì¤‘  </li>\n</ol>\n<h2 id=\"proxy-factory-ì‚´í´ë³´ê¸°\" style=\"position:relative;\"><a href=\"#proxy-factory-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"proxy factory ì‚´í´ë³´ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Proxy Factory ì‚´í´ë³´ê¸°</h2>\n<p>ì´ì „ í¬ìŠ¤íŒ…ì—ì„œ í”„ë¡ì‹œë¥¼ ì§ì ‘ ìƒì„±í•´ì„œ ê´€ë¦¬í• ë•Œì˜ ë¬¸ì œì ì„ ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤  </p>\n<ol>\n<li>í”„ë¡ì‹œê°€ ì¤‘ì²©ë˜ë©´ ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤  </li>\n<li>targetë³„ë¡œ í”„ë¡ì‹œë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œ ë° ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ì¦ê°€í•œë‹¤  </li>\n<li>ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œë„ í”„ë¡ì‹œì— êµ¬í˜„í•´ì„œ ì„œë¹™í•´ì•¼ í•œë‹¤  </li>\n<li>ê°™ì€ ê¸°ëŠ¥ì˜ í”„ë¡ì‹œ ê¸°ëŠ¥ì´ targetë³„ë¡œ ì¤‘ë³µë  ìˆ˜ ìˆë‹¤  </li>\n</ol>\n<p>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ìŠ¤í”„ë§ì—ì„œëŠ” <code class=\"language-text\">Proxy Factory</code>ë¥¼ í†µí•´ í”„ë¡ì‹œë¥¼ ìƒì„±í•©ë‹ˆë‹¤  </p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.55491329479769%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAACxLAAAsSwGlPZapAAABH0lEQVQoz52SWYuDUAyF/f//zidfKi5VUdS27nXN8GWIyCwwzIU0t7nJycmJThRFcr/fpW1b+e85jkON40zTJNj7/ZZt22RdVzXuxNM0ldvtJmVZatH1HTMgA3a4LMsiTdPIMAzS9710XaceezweUte1TmDvePJ5o5E1UIb8wGSe5z+PaM2TJBHP87ThOI6fgKDT/fl8aieS6ZrnuSYZK5pypxhmGHFyMGpPDauqkjiOT81835cgCFQKAFgaHp1hRQ5+3/dvy3Eoso4UXA9amk54mCANcZvm9XopEXBODQEi2bbII55YlmUShqEURaFxWAHIf/RzXVfZIscJSPF1s7ZJtGU8xgcAJvZGPp4YRGx85/od/XQoYqyvcvz2gX8AjM8HyV0hBssAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"proxy factory\"\n        title=\"proxy factory\"\n        src=\"/static/09fe71c480c634ab592ae3becc7db054/1e043/proxy-factory.png\"\n        srcset=\"/static/09fe71c480c634ab592ae3becc7db054/991de/proxy-factory.png 173w,\n/static/09fe71c480c634ab592ae3becc7db054/e4d6b/proxy-factory.png 345w,\n/static/09fe71c480c634ab592ae3becc7db054/1e043/proxy-factory.png 690w,\n/static/09fe71c480c634ab592ae3becc7db054/e3189/proxy-factory.png 1035w,\n/static/09fe71c480c634ab592ae3becc7db054/b1001/proxy-factory.png 1380w,\n/static/09fe71c480c634ab592ae3becc7db054/3620b/proxy-factory.png 3624w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Proxy Factory</span></p>\n<p><strong>í”„ë¡ì‹œ íŒ©í† ë¦¬(Proxy Factory)ëŠ” ìŠ¤í”„ë§ì˜ ë™ì  í”„ë¡ì‹œë¥¼ í†µí•©í•˜ì—¬ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤</strong><br>\nì´ë¥¼ í†µí•´ ìƒì„± ë°©ë²•ì„ í•˜ë‚˜ë¡œ í†µì¼í•˜ì—¬ ì½”ë“œ ì¤‘ë³µê³¼ ê´€ë¦¬í¬ì¸íŠ¸ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>\nì¸í„°í˜ì´ìŠ¤ì˜ ìœ ë¬´ì— ë”°ë¼ì„œ JDK, CGLIB í”„ë¡ì‹œë¥¼ ì„ íƒí•˜ì—¬ ìƒì„±í•´ ì¤ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@SpringBootTest</span>\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">class</span> <span class=\"token function\">SpringProxyBeanFactoryTest</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> factoryJdkProxyService<span class=\"token operator\">:</span> FactoryJdkProxyService<span class=\"token punctuation\">,</span>   <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> ì¸í„°í˜ì´ìŠ¤\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> factoryCglibService<span class=\"token operator\">:</span> FactoryCglibService          <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> ì„œë¹„ìŠ¤ê°ì²´\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ShouldSpec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Factory Proxy Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> factoryJdkProxyService<span class=\"token punctuation\">.</span>javaClass<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> JDK í”„ë¡ì‹œ\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> factoryCglibService<span class=\"token punctuation\">.</span>javaClass<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>     <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> CGLIB í”„ë¡ì‹œ\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">INFO 28088 --- [pool-1-thread-1] c.g.r.proxy.SpringProxyBeanFactoryTest   : class com.sun.proxy.$Proxy60\nINFO 28088 --- [pool-1-thread-1] c.g.r.proxy.SpringProxyBeanFactoryTest   : class com.github.renuevo.proxy.domain.factory.FactoryCglibService$$EnhancerBySpringCGLIB$$236a53fd</code></pre></div>\n<br/>\n<p>ê·¸ëŸ¼ ìŠ¤í”„ë§ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ProxyFactoryì˜ ëŒ€í•´ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<hr>\n<br/>\n<h2 id=\"factory-bean\" style=\"position:relative;\"><a href=\"#factory-bean\" aria-label=\"factory bean permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Factory Bean</h2>\n<p>ìŠ¤í”„ë§ì´ ì‚¬ìš©í•˜ëŠ” ì¼ë°˜ì ì¸ ê°ì²´ëŠ” new ì—°ì‚°ìë¡œ ê°„ë‹¹íˆ ìƒì„±í•  ìˆ˜ ì—†ì„ë•Œê°€ ìˆìŠµë‹ˆë‹¤<br>\nDI(ì˜ì¡´ì„± ì£¼ì…) ë° Beanìœ¼ë¡œ ê´€ë¦¬ê°€ í•„ìš”í•  ë•Œê°€ ê·¸ ì´ìœ ì…ë‹ˆë‹¤<br>\nFactoryBeanì€ ë¹ˆì„ ìƒì„±í•˜ëŠ” íŒ©í† ë¦¬ì—­í• ì„ ì œê³µí•˜ëŠ” Interfaceì…ë‹ˆë‹¤  </p>\n<br/>\n<p><strong>FactoryBeanì„ í†µí•´ ê°ì²´ë¥¼ DI ë° Beanìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ë©° IoCì— ë§ê²Œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> FactoryBean<span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n\n\tString OBJECT_TYPE_ATTRIBUTE <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"factoryBeanObjectType\"</span></span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token annotation builtin\">@Nullable</span>\n\tT <span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> throws Exception<span class=\"token punctuation\">;</span> <span class=\"token operator\">-></span> bean ìƒì„±\n\n\t<span class=\"token annotation builtin\">@Nullable</span>\n\tClass<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span><span class=\"token operator\">></span> <span class=\"token function\">getObjectType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">-></span> FactoryBeanìœ¼ë¡œ ìƒì„±ë˜ëŠ” ê°ì²´ì˜ <span class=\"token keyword\">class</span> type\n\n\tdefault boolean <span class=\"token function\">isSingleton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>  <span class=\"token operator\">-></span> bean ìƒì„± ê°ì²´ì˜ ì‹±ê¸€í†¤ ì—¬ë¶€\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ëŸ¬í•œ FactoryBeanì„ í†µí•´ì„œ í”„ë¡ì‹œë¥¼ êµ¬ì„±í•œë‹¤ë©´ í”„ë¡ì‹œì˜ ìƒì„±ì„ ì˜ ê´€ë¦¬ í•  ìˆ˜ ìˆì„ ê²ƒ ì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤<br>\nê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ FactoryBeanì„ í†µí•´ í”„ë¡ì‹œë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<br/>\n<h3 id=\"factorybeanì„-í™œìš©í•˜ì—¬-proxyë¥¼-êµ¬ì„±í•´ë³´ê¸°--code\" style=\"position:relative;\"><a href=\"#factorybean%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EC%97%AC-proxy%EB%A5%BC-%EA%B5%AC%EC%84%B1%ED%95%B4%EB%B3%B4%EA%B8%B0--code\" aria-label=\"factorybeanì„ í™œìš©í•˜ì—¬ proxyë¥¼ êµ¬ì„±í•´ë³´ê¸°  code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FactoryBeanì„ í™œìš©í•˜ì—¬ Proxyë¥¼ êµ¬ì„±í•´ë³´ê¸° ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-kotlin-in-action/tree/master/spring-boot-aop-proxy-in-action\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a></h3>\n<p><span class='code_header'><strong>FactoryBean Proxy Code</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">    <span class=\"token annotation builtin\">@Configuration</span>\n    <span class=\"token keyword\">class</span> FactoryBeanConfig <span class=\"token punctuation\">{</span>\n    \n        <span class=\"token annotation builtin\">@Bean</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>   <span class=\"token keyword\">fun</span> <span class=\"token function\">jdkProxyService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> TestFactoryBean <span class=\"token operator\">=</span> <span class=\"token function\">TestFactoryBean</span><span class=\"token punctuation\">(</span>   <span class=\"token operator\">-></span> FactoryBeanì„ í†µí•œ í”„ë¡ì‹œ ì²˜ë¦¬</span>                interfaceType <span class=\"token operator\">=</span> JdkProxyService<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">,</span>\n                target <span class=\"token operator\">=</span> <span class=\"token function\">JdkProxyServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n    \n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">class</span> <span class=\"token function\">TestFactoryBean</span><span class=\"token punctuation\">(</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> interfaceType<span class=\"token operator\">:</span> Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> target<span class=\"token operator\">:</span> Any\n    <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> FactoryBean<span class=\"token operator\">&lt;</span>Any<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    \n<span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>   <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Any <span class=\"token operator\">=</span> Proxy<span class=\"token punctuation\">.</span><span class=\"token function\">newProxyInstance</span><span class=\"token punctuation\">(</span></span><span class=\"gatsby-highlight-code-line\">            interfaceType<span class=\"token punctuation\">.</span>classLoader<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span>interfaceType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token function\">FactoryBeanInvocationHandler</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span></span>        <span class=\"token punctuation\">)</span>\n    \n        <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">getObjectType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">*</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> interfaceType\n    \n    <span class=\"token punctuation\">}</span>\n    \n    \n    <span class=\"token keyword\">class</span> <span class=\"token function\">FactoryBeanInvocationHandler</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> target<span class=\"token operator\">:</span> Any<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> InvocationHandler <span class=\"token punctuation\">{</span>\n    \n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    \n<span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>   <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>proxy<span class=\"token operator\">:</span> Any<span class=\"token punctuation\">,</span> method<span class=\"token operator\">:</span> Method<span class=\"token punctuation\">,</span> args<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Any<span class=\"token operator\">></span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"Factory Bean Invocation Handler\"</span></span> <span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token keyword\">return</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>args <span class=\"token operator\">?:</span> <span class=\"token function\">arrayOfNulls</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">//ì‹¤ì œ target í˜¸ì¶œ</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">}</span></span>    \n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><span class='red_font'>(1)</span> <code class=\"language-text\">fun jdkProxyService(): TestFactoryBean</code>  </p>\n<blockquote>\n<p>Bean ìƒì„±ì„ ìœ„í•´ TestFactoryBeanì„ return í•˜ì§€ë§Œ Spring ë‚´ë¶€ ë™ì‘ìœ¼ë¡œ interfaceTypeì˜ Beanì´ ë“±ë¡ë©ë‹ˆë‹¤  </p>\n</blockquote>\n<br/>\n<p><span class='red_font'>(2)</span> <code class=\"language-text\">override fun getObject(): Any</code>  </p>\n<blockquote>\n<p>ì‹¤ì œì ìœ¼ë¡œ Beanì— ë“±ë¡ë  ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤<br>\nProxy.newProxyInstanceë¥¼ í†µí•´ì„œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ìƒì„±í•˜ì˜€ìŠµë‹ˆë‹¤  </p>\n</blockquote>\n<br/>\n<p><span class='red_font'>(3)</span> <code class=\"language-text\">override fun invoke(proxy: Any, method: Method, args: Array&lt;out Any>?): Any?</code></p>\n<blockquote>\n<p>FactoryBeanì— ë“±ë¡í•˜ì—¬ ì‚¬ìš©í•  ê¸°ëŠ¥ì„ ì •ì˜ í•©ë‹ˆë‹¤    </p>\n</blockquote>\n<br/>\n<br/>\n<p><span class='code_header'><strong>FactoryBean Proxy Test Code</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@ContextConfiguration</span><span class=\"token punctuation\">(</span>classes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>FactoryBeanConfig<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">class</span> <span class=\"token function\">SpringBeanFactoryTest</span><span class=\"token punctuation\">(</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> jdkProxyService<span class=\"token operator\">:</span> JdkProxyService  <span class=\"token operator\">-></span> ìŠ¤í”„ë§ Bean DI</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ShouldSpec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">extensions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> List<span class=\"token operator\">&lt;</span>Extension<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token function\">listOf</span><span class=\"token punctuation\">(</span>SpringExtension<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">init</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Factory Proxy Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            jdkProxyService<span class=\"token punctuation\">.</span><span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            jdkProxyService<span class=\"token punctuation\">.</span><span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            jdkProxyService<span class=\"token punctuation\">.</span><span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span class='code_header'><strong>Result</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">INFO com.github.renuevo.proxy.domain.factory.FactoryBeanInvocationHandler - Factory Bean Invocation Handler\nINFO com.github.renuevo.proxy.domain.jdk.JdkProxyServiceImpl - I'm A\nINFO com.github.renuevo.proxy.domain.factory.FactoryBeanInvocationHandler - Factory Bean Invocation Handler\nINFO com.github.renuevo.proxy.domain.jdk.JdkProxyServiceImpl - I'm B\nINFO com.github.renuevo.proxy.domain.factory.FactoryBeanInvocationHandler - Factory Bean Invocation Handler\nINFO com.github.renuevo.proxy.domain.jdk.JdkProxyServiceImpl - I'm C</code></pre></div>\n<p>í…ŒìŠ¤íŠ¸ë¡œ ìŠ¤í”„ë§ Beanì„ í• ë‹¹ë°›ì•„ì„œ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ FactoryBeanInvocationHandlerì´ ì˜ ì ìš©ëœê±¸ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>\nì´ë¥¼ í†µí•´ FactoryBeanì„ í™œìš©í•˜ì—¬ í”„ë¡ì‹œ ìƒì„±ì„ í•œê²° ì‰½ê²Œ í•  ìˆ˜ ìˆê³  ë¶€ê°€ê¸°ëŠ¥ì„ ë…ë¦½ì ìœ¼ë¡œ ì¬ì‚¬ìš©í•˜ëŠ”ê²Œ ê°€ëŠ¥í•´ ì§‘ë‹ˆë‹¤  </p>\n<br/>\n<h3 id=\"factorybeanìœ¼ë¡œ-proxyêµ¬ì„±ì‹œ-í•œê³„ì \" style=\"position:relative;\"><a href=\"#factorybean%EC%9C%BC%EB%A1%9C-proxy%EA%B5%AC%EC%84%B1%EC%8B%9C-%ED%95%9C%EA%B3%84%EC%A0%90\" aria-label=\"factorybeanìœ¼ë¡œ proxyêµ¬ì„±ì‹œ í•œê³„ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FactoryBeanìœ¼ë¡œ Proxyêµ¬ì„±ì‹œ í•œê³„ì </h3>\n<p>ì•ì„œ FactoryBeanì„ í™œìš©í•´ ìŠ¤í”„ë§ì˜ í”„ë¡ì‹œ íŒ©í† ë¦¬ë¥¼ êµ¬í˜„í•´ ë³´ì•˜ìŠµë‹ˆë‹¤<br>\ní•˜ì§€ë§Œ ì´ëŸ¬í•œ êµ¬í˜„ì—ë„ <span class='red_font'>í•œê³„ì </span>ì´ ì¡´ì¬í•©ë‹ˆë‹¤  </p>\n<ol>\n<li>\n<p><strong>InvocationHandler ê°™ì€ ë¶€ê°€ê¸°ëŠ¥ì„ ì ìš©í•  íƒ€ê²Ÿì˜ ëŒ€í•œ ê´€ë¦¬</strong>  </p>\n<blockquote>\n<p>ë¶€ê°€ ê¸°ëŠ¥ì„ ê¸°ì¤€ìœ¼ë¡œ ì—¬ëŸ¬ íƒ€ê²Ÿì— ì ìš©í•  ë•Œì˜ ì–´ë ¤ì›€ì´ ë“¤ì–´ë‚¨  </p>\n</blockquote>\n</li>\n<li>\n<p><strong>íƒ€ê²Ÿ ê¸°ì¤€ìœ¼ë¡œ InvocationHandler ê°™ì€ ë¶€ê°€ê¸°ëŠ¥ì„ ì—¬ëŸ¬ê²Œ ë“±ë¡</strong>  </p>\n<blockquote>\n<p>íƒ€ê²Ÿì„ ê¸°ì¤€ìœ¼ë¡œ InvocationHandlerì„ ì—¬ëŸ¬ê²Œ ë“±ë¡í•˜ë ¤ê³  í•˜ë©´ FactoryBeanì„ ê³„ì†í•´ì„œ ìƒì„±í•´ ì£¼ì–´ì•¼í•¨  </p>\n</blockquote>\n</li>\n</ol>\n<br/>\n<p>ê²°êµ­ ì´ëŸ¬í•œ í•œê³„ì ìœ¼ë¡œ OCP(ê°œë°©íì‡„ ì›ì¹™)ì„ ì§€í‚¤ë©° ê°œë°œí•˜ê¸° í˜ë“¤ì–´ ì§‘ë‹ˆë‹¤<br>\ní”„ë¡ì‹œ Bean ì„¤ì •ì˜ ëŒ€í•œ ì¤‘ë³µì½”ë“œì™€ ììœ ë¡œìš´ í™•ì¥ì´ ì–´ë ¤ì›Œ ì§€ëŠ” ê²ƒì…ë‹ˆë‹¤  </p>\n<br/>\n<h2 id=\"proxyfactorybean\" style=\"position:relative;\"><a href=\"#proxyfactorybean\" aria-label=\"proxyfactorybean permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ProxyFactoryBean</h2>\n<p>ì´ëŸ¬í•œ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ìŠ¤í”„ë§ì—ì„œëŠ” í”„ë¡ì‹œ Beanì„ ìƒì„±í•´ ì£¼ëŠ” <code class=\"language-text\">ProxyFactoryBean</code>ì„ ì œê³µí•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> ProxyFactoryBean extends ProxyCreatorSupport\n\t\timplements FactoryBean<span class=\"token operator\">&lt;</span>Object<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> BeanClassLoaderAware<span class=\"token punctuation\">,</span> BeanFactoryAware <span class=\"token punctuation\">{</span>\n\t\t\n\t\t<span class=\"token operator\">..</span><span class=\"token operator\">..</span><span class=\"token operator\">..</span>\n\t\t\n\t<span class=\"token keyword\">public</span> Object <span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> throws BeansException <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">\t\t<span class=\"token function\">initializeAdvisorChain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">-</span> ë¶€ê°€ê¸°ëŠ¥ ì²´ì¸</span>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isSingleton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">getSingletonInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>targetName <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Using non-singleton proxies with singleton targets is often undesirable. \"</span></span> <span class=\"token operator\">+</span>\n\t\t\t\t\t\t<span class=\"token string-literal singleline\"><span class=\"token string\">\"Enable prototype proxies by setting the 'targetName' property.\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">newPrototypeInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\n\n\t<span class=\"token keyword\">public</span> Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span><span class=\"token operator\">></span> <span class=\"token function\">getObjectType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">synchronized</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>singletonInstance <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>singletonInstance<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\tClass<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span><span class=\"token operator\">></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> ifcs <span class=\"token operator\">=</span> <span class=\"token function\">getProxiedInterfaces</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ifcs<span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> ifcs<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ifcs<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">createCompositeInterface</span><span class=\"token punctuation\">(</span>ifcs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>targetName <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>beanFactory <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>beanFactory<span class=\"token punctuation\">.</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>targetName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">getTargetClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t\n\t<span class=\"token keyword\">public</span> boolean <span class=\"token function\">isSingleton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>singleton<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\t\n\t\t<span class=\"token operator\">..</span><span class=\"token operator\">..</span><span class=\"token operator\">..</span>\n\t\t\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<br/>\n<p><code class=\"language-text\">FactoryBean&lt;Object></code>ì„ ìƒì†ë°›ê³  ìˆê³  ì´ì „ ì„ì‹œë¡œ êµ¬í˜„í•´ë³¸ ProxyFactoryì™€ ê°™ì´ getObject()ë¥¼ í†µí•´ í”„ë¡ì‹œ ê°ì²´ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤  </p>\n<br/>\n<p>ìŠ¤í”„ë§ì—ì„œ ì´ëŸ¬í•œ í”„ë¡ì‹œì— ëŒ€í•œ ë¶€ê°€ê¸°ëŠ¥ì„ ì ìš©í•˜ê¸° ìœ„í•´ 3ê°€ì§€ ìš©ì–´ê°€ ë“±ì¥í•©ë‹ˆë‹¤<br>\nAOPë¥¼ ì“°ë‹¤ë³´ë©´ ìì£¼ ë“±ì¥í•˜ëŠ” ìš©ì–´ì¸ <code class=\"language-text\">Advisor</code>, <code class=\"language-text\">Advice</code>, <code class=\"language-text\">Pointcut</code> ì…ë‹ˆë‹¤  </p>\n<ol>\n<li><strong>Advisor : Advice(ë¶€ê°€ê¸°ëŠ¥) + Pointcut(ì ìš©ëŒ€ìƒ)</strong>  </li>\n<li><strong>Advice</strong> : íƒ€ê²Ÿì— ì ìš©í•  ë¶€ê°€ê¸°ëŠ¥  </li>\n<li><strong>Pointcut</strong> : ë¶€ê°€ê¸°ëŠ¥ ì ìš©ëŒ€ìƒì„ ì§€ì •  </li>\n</ol>\n<p>í”„ë¡ì‹œì—ëŠ” <code class=\"language-text\">Advisor</code>ì™€ <code class=\"language-text\">Adivce</code>ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆê³  <code class=\"language-text\">initializeAdvisorChain()</code>ì„ í†µí•´ í”„ë¡ì‹œì˜ ë¶€ê°€ê¸°ëŠ¥ì´ ì ìš©ë©ë‹ˆë‹¤  </p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.57225433526012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAACxLAAAsSwGlPZapAAABG0lEQVQoz41SW3KDMBDjNNAAAeMHfkNnev8zqVon07RpptMP4bW11u7KdMNkMKsdsRQEwucCvccWh1qwbB6S8zbbf6FryVeL1XjoGLFwnZTH5iOFA6bF/RL8a9/Jpx8NlA0oZ4XWO0U88vGBo55Q2qN/0aHcETyLN8GBGEcNtwUkn1FsRLQFanIvx5Wz1QQYWjM+TdAN90rjhYIrO4sn3uOBxNHVxfzoRHKHe6xcgK8Z0+oeHNcu0vh4VNiQiAMlFaIiy94nPPgKFzMS43RKnGCYI1xDrTD0vZuUw7w5VrKYdeBjFBL00nme7w2LxPRWsFiPq6XPck/d+KvZW6cyfntlQU8PF5tZ6UDOGZm/jST0d/47viyYniwhPgHoYfw9eEu6LgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ProxyBeanFactory Relation\"\n        title=\"ProxyBeanFactory Relation\"\n        src=\"/static/d152a02e12db902dc6949afe32e02950/1e043/ProxyBeanFactory-relation.png\"\n        srcset=\"/static/d152a02e12db902dc6949afe32e02950/991de/ProxyBeanFactory-relation.png 173w,\n/static/d152a02e12db902dc6949afe32e02950/e4d6b/ProxyBeanFactory-relation.png 345w,\n/static/d152a02e12db902dc6949afe32e02950/1e043/ProxyBeanFactory-relation.png 690w,\n/static/d152a02e12db902dc6949afe32e02950/e3189/ProxyBeanFactory-relation.png 1035w,\n/static/d152a02e12db902dc6949afe32e02950/b1001/ProxyBeanFactory-relation.png 1380w,\n/static/d152a02e12db902dc6949afe32e02950/5661c/ProxyBeanFactory-relation.png 5316w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br>\n<span class='img_caption'>ProxyBeanFactory Dependency</span>  </p>\n<p>ProxyBeanFactoryì˜ ë””íœë˜ì‹œë¥¼ ë³´ê²Œë˜ë©´ <code class=\"language-text\">AdvisedSupport</code>ê°€ ì¡´ì¬í•©ë‹ˆë‹¤<br>\nAdvisedSupportì—ì„œëŠ” íƒ€ê²Ÿê³¼ ë¶€ê°€ê¸°ëŠ¥(Advisor, Advice)ë¥¼ ë“±ë¡í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> AdvisedSupport extends ProxyConfig implements Advised <span class=\"token punctuation\">{</span>\n\n   <span class=\"token operator\">..</span><span class=\"token operator\">..</span><span class=\"token operator\">..</span>\n   \n   <span class=\"token annotation builtin\">@Override</span>\n   <span class=\"token keyword\">public</span> void <span class=\"token function\">setTarget</span><span class=\"token punctuation\">(</span>Object target<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setTargetSource</span><span class=\"token punctuation\">(</span>new <span class=\"token function\">SingletonTargetSource</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   \n   <span class=\"token annotation builtin\">@Override</span>\n   <span class=\"token keyword\">public</span> void <span class=\"token function\">addAdvisor</span><span class=\"token punctuation\">(</span>Advisor advisor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      int pos <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>advisors<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">addAdvisor</span><span class=\"token punctuation\">(</span>pos<span class=\"token punctuation\">,</span> advisor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   \n   <span class=\"token annotation builtin\">@Override</span>\n   <span class=\"token keyword\">public</span> void <span class=\"token function\">addAdvice</span><span class=\"token punctuation\">(</span>Advice advice<span class=\"token punctuation\">)</span> throws AopConfigException <span class=\"token punctuation\">{</span>\n      int pos <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>advisors<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">addAdvice</span><span class=\"token punctuation\">(</span>pos<span class=\"token punctuation\">,</span> advice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   \n   <span class=\"token operator\">..</span><span class=\"token operator\">..</span><span class=\"token operator\">..</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê²°ë¡ ì ìœ¼ë¡œ pointcut, adviceë“±ì„ ë³„ë„ë¡œ êµ¬ì„±í•˜ì—¬ ë“±ë¡í•˜ëŠ” êµ¬ì¡°ê°€ ë˜ë©´ì„œ<br>\në¶€ê°€ê¸°ëŠ¥ì„ ë…ë¦½ì ì¸ ê°ì²´ë¡œ ê´€ë¦¬í•˜ë©° ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³  OCP ì›ì¹™ì— ë§ê²Œ êµ¬ì¡°ê°€ ê°–ì¶”ì–´ ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤  </p>\n<br/>\n<p>ê·¸ëŸ¼ ê°„ë‹¨í•œ ì½”ë“œë¥¼ í†µí•´ ì–´ë– í•œ êµ¬ì¡°ê°€ ëœê²ƒ ì¸ì§€ í™•ì¸í•´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<br/>\n<h3 id=\"ì½”ë“œë¥¼-í†µí•´-proxyfactorybean-ì‚´í´ë³´ê¸°--code\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C%EB%A5%BC-%ED%86%B5%ED%95%B4-proxyfactorybean-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0--code\" aria-label=\"ì½”ë“œë¥¼ í†µí•´ proxyfactorybean ì‚´í´ë³´ê¸°  code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì½”ë“œë¥¼ í†µí•´ ProxyFactoryBean ì‚´í´ë³´ê¸° ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-kotlin-in-action/tree/master/spring-boot-aop-proxy-in-action\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a></h3>\n<p><strong>í”„ë¡ì‹œì˜ êµ¬í˜„ì€ ìˆœì„œëŠ” 4ê°€ì§€ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤</strong>  </p>\n<ol>\n<li>Pointcutìœ¼ë¡œ ëŒ€ìƒ ì„ ì •  </li>\n<li>Adviceë¥¼ í†µí•œ ê¸°ëŠ¥ êµ¬í˜„  </li>\n<li>Advisorë¡œ Pointcutê³¼ Adviceë¥¼ ë¬¶ê¸°  </li>\n<li>ProxyFactoryBeanì„ í†µí•œ Proxy ë“±ë¡  </li>\n</ol>\n<p>ì´ë ‡ê²Œ 4ê°œë¥¼ êµ¬í˜„í•˜ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì€ flowë¥¼ í†µí•´ Proxyê°€ ë™ì‘í•˜ê²Œ ë©ë‹ˆë‹¤  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.55491329479769%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAACxLAAAsSwGlPZapAAABAklEQVQoz4WSiYqAMAxE/f8vVBFEEcX7vo8uL1CpruwWYtNJOp2OtXzfV2EYqiAIZJ6mSTGu65Iwh8beuK4xLAiIcRxl3vf9k+Q8z08S8wBmiwSSeZ6FcFkWWR/HITnYMAxSX9dVcLOfGn03IR+ALMtUkiTS0Pe9KK6qStZRFAnWdZ3gbduqpmlUWZZiFeT3lfnoaxMUzcGmoihUnucP71CrbWJ+KDQ9oZHYtk3VdS1qyFGHYmrciHjvvRXqhd6IStu2leu6D295EY7jCKk+yNx//xQNYDYquB6+xXEsvpKnaXrn1LFCvwhTqfU+gedBaIyf4Xne7e1Xzy/CN/gX9l/PD5YXDSdL6CvrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AdvisedSupportProxy\"\n        title=\"AdvisedSupportProxy\"\n        src=\"/static/2cb8faa10f0e663237e4c49bf7e4a6ec/1e043/advised-support-proxy.png\"\n        srcset=\"/static/2cb8faa10f0e663237e4c49bf7e4a6ec/991de/advised-support-proxy.png 173w,\n/static/2cb8faa10f0e663237e4c49bf7e4a6ec/e4d6b/advised-support-proxy.png 345w,\n/static/2cb8faa10f0e663237e4c49bf7e4a6ec/1e043/advised-support-proxy.png 690w,\n/static/2cb8faa10f0e663237e4c49bf7e4a6ec/e3189/advised-support-proxy.png 1035w,\n/static/2cb8faa10f0e663237e4c49bf7e4a6ec/b1001/advised-support-proxy.png 1380w,\n/static/2cb8faa10f0e663237e4c49bf7e4a6ec/3620b/advised-support-proxy.png 3624w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Advised Support Proxy</span></p>\n<br/>\n<p>ë¨¼ì € êµ¬í˜„í•´ ì¤„ê²ƒì€ <code class=\"language-text\">MethodInterceptor</code>ì…ë‹ˆë‹¤<br>\nì—¬ê¸°ì„œ ë§ì”€ë“œë¦¬ëŠ” MethodInterceptorëŠ” ì•ì„œ í”„ë¡ì‹œì—ì„œ êµ¬í˜„í–ˆê²ƒê³¼ëŠ” ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>aopalliance<span class=\"token punctuation\">.</span>intercept</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@FunctionalInterface</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">MethodInterceptor</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Interceptor</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token annotation punctuation\">@Nullable</span>\n\t<span class=\"token class-name\">Object</span> <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Nonnull</span> <span class=\"token class-name\">MethodInvocation</span> invocation<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Throwable</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n\n<span class=\"token keyword\">package</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>cglib<span class=\"token punctuation\">.</span>proxy</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">MethodInterceptor</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Callback</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Object</span> <span class=\"token function\">intercept</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> var1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Method</span> var2<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> var3<span class=\"token punctuation\">,</span> <span class=\"token class-name\">MethodProxy</span> var4<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Throwable</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li>\n<p><code class=\"language-text\">org.springframework.cglib.proxy.MethodInterceptor</code>  </p>\n<blockquote>\n<p>í”„ë¡ì‹œ êµ¬í˜„ì—ì„œ ì‚¬ìš©, Callbackì„ ìƒì†ë°›ëŠ” ì¸í„°í˜ì´ìŠ¤  </p>\n</blockquote>\n</li>\n<li>\n<p><code class=\"language-text\">org.aopalliance.intercept.MethodInterceptor</code>  </p>\n<blockquote>\n<p>ìŠ¤í”„ë§ Adviceë¥¼ ìƒì†í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤  </p>\n</blockquote>\n</li>\n</ol>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.11560693641618%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACxLAAAsSwGlPZapAAABjUlEQVQoz42S63KCMBCFfRgFwk2TcBGRGUUsAmqdjtMfnb7/a5zuRrTYOq0/Didkw8nmIyPHj/CnPA2b3CPfOBq5pVCQFza5rbGmcUA1q187eiaQFweOwj5e4Py5x25Xoukq1PsKWz2Hotot0KbHf6Em0NV4DRJ0ywJdnuO4LtBkOdoghhT6PvAZ8eKQQr2JxNTXkFPCYEkzd8VyO7IbxnBpJzdMIHxykhiIa7zOprFDXYppAneW0By/97X+pCPLUzi17zgcG2zqFXaHC5vmWGFHak9blNuVCT1/dGhpriKGdbcx9W1Twp/G34E8iOICUbqAiueI5gvEWWb8KhVn1GmENF9C0zgtcuRVAZ1mRiIYdMiPiaswEfSniAe77Ukjy5UYO6qf0xizhxpiRrxC+m5Qux774V/2iKVPnEJ5cRbPBcQt1Kl5Fz++uetwKN61rEvi1RKrNbq3lxtL5stsmR+HWw+a+RXIO4UqNWxm1I0krkOpJIOM5nfcHgbe7htf5J7l0C128c16yG0Y+AVCOHwD0ujowgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"MethodInterceptor\"\n        title=\"MethodInterceptor\"\n        src=\"/static/583e5606faac76b9174320529b4b8344/1e043/MethodInterceptor.png\"\n        srcset=\"/static/583e5606faac76b9174320529b4b8344/991de/MethodInterceptor.png 173w,\n/static/583e5606faac76b9174320529b4b8344/e4d6b/MethodInterceptor.png 345w,\n/static/583e5606faac76b9174320529b4b8344/1e043/MethodInterceptor.png 690w,\n/static/583e5606faac76b9174320529b4b8344/e3189/MethodInterceptor.png 1035w,\n/static/583e5606faac76b9174320529b4b8344/b1001/MethodInterceptor.png 1380w,\n/static/583e5606faac76b9174320529b4b8344/497e9/MethodInterceptor.png 2064w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br>\n<span class='img_caption'>MethodInterceptor</span></p>\n<p>MethodInterceptorëŠ” Adivce ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ê³  ìˆìŠµë‹ˆë‹¤<br>\nProxyBeanFactoryì—ì„œ ì‚¬ìš©í•˜ëŠ” MethodInterceptorëŠ” org.aopalliance.intercept íŒ¨í‚¤ì§€ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤   </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> CustomAdvice <span class=\"token operator\">:</span> MethodInterceptor <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>invocation<span class=\"token operator\">:</span> MethodInvocation<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"Proxy ë¶€ê°€ê¸°ëŠ¥\"</span></span> <span class=\"token punctuation\">}</span>\n        \n        <span class=\"token keyword\">return</span> invocation<span class=\"token punctuation\">.</span><span class=\"token function\">proceed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê°„ë‹¨í•˜ê²Œ MethodInterceptorì˜ ê¸°ëŠ¥ìœ¼ë¡œ â€œProxy ë¶€ê°€ê¸°ëŠ¥â€ì´ë¼ê³  ì¶œë ¥í•˜ë„ë¡ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤  </p>\n<br/>\n<p>ì´ì œ ì°¨ë¡€ëŒ€ë¡œ í”„ë¡ì‹œì—ì„œ ì‚¬ìš©í•  ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ ì¤ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Configuration</span>\n<span class=\"token keyword\">class</span> CustomAdvisorConfig <span class=\"token punctuation\">{</span>\n\n       <span class=\"token annotation builtin\">@Bean</span>\n <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>   <span class=\"token keyword\">fun</span> <span class=\"token function\">targetPointcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Pointcut <span class=\"token operator\">=</span> <span class=\"token function\">NameMatchMethodPointcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">addMethodName</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"method*\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n   \n   \n       <span class=\"token annotation builtin\">@Bean</span>\n <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>   <span class=\"token keyword\">fun</span> <span class=\"token function\">customAdvice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Advice <span class=\"token operator\">=</span> <span class=\"token function\">CustomAdvice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n   \n   \n       <span class=\"token annotation builtin\">@Bean</span>\n <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>   <span class=\"token keyword\">fun</span> <span class=\"token function\">customAdvisor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Advisor <span class=\"token operator\">=</span> <span class=\"token function\">DefaultPointcutAdvisor</span><span class=\"token punctuation\">(</span><span class=\"token function\">targetPointcut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">customAdvice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n   \n   \n       <span class=\"token annotation builtin\">@Bean</span>\n <span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>   <span class=\"token keyword\">fun</span> <span class=\"token function\">proxyFactoryBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">ProxyFactoryBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">           <span class=\"token function\">setTarget</span><span class=\"token punctuation\">(</span><span class=\"token function\">ProxyFactoryBeanTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">-></span> Target Class ì§€ì •</span><span class=\"gatsby-highlight-code-line\">           <span class=\"token function\">setInterceptorNames</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"customAdvisor\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> ì´ë¦„ì„ í†µí•œ Advisor ì§€ì •</span>       <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> ProxyFactoryBeanTarget <span class=\"token operator\">:</span> <span class=\"token function\">FactoryCglibService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br/>\n<p><span class='red_font'>(1)</span> <code class=\"language-text\">Pointcutì„ í†µí•œ ì ìš©ëŒ€ìƒ êµ¬í˜„</code>  </p>\n<blockquote>\n<p>í•¨ìˆ˜ëª…ì´ ì´ë¦„ì´ â€œmethodâ€ë¡œ ì‹œì‘í•˜ëŠ” ë©”ì†Œë“œì— ë¶€ê°€ê¸°ëŠ¥ì´ ì ìš©ë©ë‹ˆë‹¤  </p>\n</blockquote>\n<br/>\n<p><span class='red_font'>(2)</span> <code class=\"language-text\">Adviceë¥¼ í†µí•œ ë¶€ê°€ê¸°ëŠ¥ êµ¬í˜„</code>  </p>\n<blockquote>\n<p>ì´ì „ MethodInterceptorë¥¼ ìƒì†ë°›ì•„ êµ¬í˜„í•œ â€œProxy ë¶€ê°€ê¸°ëŠ¥â€ ì¶œë ¥ì´ ê¸°ëŠ¥ìœ¼ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤  </p>\n</blockquote>\n<br/>\n<p><span class='red_font'>(3)</span> <code class=\"language-text\">Advisorë¥¼ í†µí•œ ì ìš©ëŒ€ìƒê³¼ ê¸°ëŠ¥ ë¬¶ê¸°</code>  </p>\n<blockquote>\n<p>ìœ„ì—ì„œ ì„ ì–¸ëœ Pointcutì˜ ì ìš©ëŒ€ìƒê³¼ Adviceì˜ ê¸°ëŠ¥ì„ ë¬¶ì–´ì„œ Proxyì— ë“±ë¡í•˜ë„ë¡ ìƒì„±ë©ë‹ˆë‹¤  </p>\n</blockquote>\n<br/>\n<p><span class='red_font'>(4)</span> <code class=\"language-text\">ProxyFactoryBeanì„ í†µí•œ Proxy ìƒì„±</code>  </p>\n<blockquote>\n<p>Targetê³¼ Adivsorë¥¼ ë“±ë¡í•˜ì—¬ Targetì— Proxyë¥¼ ì ìš© ì‹œí‚µë‹ˆë‹¤  </p>\n</blockquote>\n<br/>\n<p>ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ê°ê°ì˜ ì—­í• ì„ ë¶„ë¦¬í•˜ê³  ê¸°ëŠ¥ì„ ì •ì˜í•˜ë¯€ë¡œ OCPì›ì¹™ì˜ ë§ëŠ” ê°œë°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>\nì´ë ‡ê²Œ ì¸í„°í˜ì´ìŠ¤ë¡œ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³  ê°ì²´ë¡œ ê¸°ëŠ¥ì„ ì •ì˜í•˜ê³  í¬í•¨ì‹œì¼œ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ <strong>í•©ì„±(Composition)</strong>ì´ë¼ê³  í•©ë‹ˆë‹¤  </p>\n<br/>\n<p><span class='code_header'>í”„ë¡ì‹œ í™•ì¸ ì½”ë“œ</span></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@SpringBootTest</span>\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">class</span> <span class=\"token function\">SpringProxyBeanFactoryTest</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> factoryJdkProxyService<span class=\"token operator\">:</span> FactoryJdkProxyService<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> factoryCglibService<span class=\"token operator\">:</span> FactoryCglibService<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> proxyFactoryBean<span class=\"token operator\">:</span> ProxyFactoryBeanTarget\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ShouldSpec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">context</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Proxy Bean Factory Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Factory Proxy Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> factoryJdkProxyService<span class=\"token punctuation\">.</span>javaClass<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> factoryCglibService<span class=\"token punctuation\">.</span>javaClass<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> proxyFactoryBean<span class=\"token punctuation\">.</span>javaClass<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Call Proxy Bean Factory Method\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            proxyFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxyFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxyFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">### Factory Proxy Test\nINFO 20788 --- [pool-1-thread-1] c.g.r.proxy.SpringProxyBeanFactoryTest   : class com.sun.proxy.$Proxy60\nINFO 20788 --- [pool-1-thread-1] c.g.r.proxy.SpringProxyBeanFactoryTest   : class com.github.renuevo.proxy.domain.factory.FactoryCglibService$$EnhancerBySpringCGLIB$$feeedfff\nINFO 20788 --- [pool-1-thread-1] c.g.r.proxy.SpringProxyBeanFactoryTest   : class com.github.renuevo.proxy.domain.factory.config.ProxyFactoryBeanTarget$$EnhancerBySpringCGLIB$$5eee0c36\n\n\n### Call Proxy Bean Factory Method\nINFO 18716 --- [         task-4] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 18716 --- [         task-6] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 18716 --- [         task-5] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 18716 --- [         task-4] c.g.r.p.d.factory.FactoryCglibService    : I'm A\nINFO 18716 --- [         task-5] c.g.r.p.d.factory.FactoryCglibService    : I'm B\nINFO 18716 --- [         task-6] c.g.r.p.d.factory.FactoryCglibService    : I'm C</code></pre></div>\n<p>ê°€ì¥ ë¨¼ì € í™•ì¸í•´ ë³¸ê²ƒì€ <strong>í”„ë¡ì‹œ ì¢…ë¥˜ì™€ í”„ë¡ì‹œ ê¸°ëŠ¥ ë™ì‘</strong> ì—¬ë¶€ì…ë‹ˆë‹¤  </p>\n<p>â€œFactory Proxy Testâ€ í…ŒìŠ¤íŠ¸ì—ì„œ <code class=\"language-text\">JDK Proxy, CGLIB, CGLIB</code>ìœ¼ë¡œ í”„ë¡ì‹œê°€ ìƒì„±ëœê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>\n<p>â€œCall Proxy Bean Factory Methodâ€ í…ŒìŠ¤íŠ¸ì—ì„œ asyncë¡œ ìˆœì„œëŠ” ë³´ì¥ë˜ì§€ ì•Šì•˜ì§€ë§Œ ë¶€ê°€ê¸°ëŠ¥ì´ ì˜ ì°íˆëŠ”ê±¸ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤  </p>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@SpringBootTest</span>\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">class</span> <span class=\"token function\">SpringProxyBeanFactoryTest</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> customAdvisor<span class=\"token operator\">:</span> Advisor\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">ShouldSpec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function\">context</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Proxy Bean Factory Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"JDK Proxy Factory Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> proxy <span class=\"token operator\">=</span> <span class=\"token function\">ProxyFactory</span><span class=\"token punctuation\">(</span><span class=\"token function\">FactoryJdkProxyServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">addAdvisor</span><span class=\"token punctuation\">(</span>customAdvisor<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>proxy <span class=\"token keyword\">as</span> FactoryJdkProxyService\n\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> proxy<span class=\"token punctuation\">.</span>javaClass<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"CGlib Proxy Factory Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> proxy <span class=\"token operator\">=</span> <span class=\"token function\">ProxyFactory</span><span class=\"token punctuation\">(</span><span class=\"token function\">ProxyFactoryBeanTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span> <span class=\"token punctuation\">{</span>\n                isProxyTargetClass <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n                <span class=\"token function\">addAdvisor</span><span class=\"token punctuation\">(</span>customAdvisor<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>proxy <span class=\"token keyword\">as</span> ProxyFactoryBeanTarget\n\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> proxy<span class=\"token punctuation\">.</span>javaClass<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Interface Target To CGLIB Proxy Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> proxy <span class=\"token operator\">=</span> <span class=\"token function\">ProxyFactory</span><span class=\"token punctuation\">(</span><span class=\"token function\">FactoryJdkProxyServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span> <span class=\"token punctuation\">{</span>\n                isProxyTargetClass <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n                <span class=\"token function\">addAdvisor</span><span class=\"token punctuation\">(</span>customAdvisor<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>proxy <span class=\"token keyword\">as</span> FactoryJdkProxyService\n\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> proxy<span class=\"token punctuation\">.</span>javaClass<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">### JDK Proxy Factory Test\nINFO 13840 --- [pool-1-thread-1] c.g.r.proxy.SpringProxyBeanFactoryTest   : class com.sun.proxy.$Proxy60\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.f.FactoryJdkProxyServiceImpl   : I'm A\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.f.FactoryJdkProxyServiceImpl   : I'm B\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.f.FactoryJdkProxyServiceImpl   : I'm C\n\n\n### CGlib Proxy Factory Test\nINFO 13840 --- [pool-1-thread-1] c.g.r.proxy.SpringProxyBeanFactoryTest   : class com.github.renuevo.proxy.domain.factory.config.ProxyFactoryBeanTarget$$EnhancerBySpringCGLIB$$a27f344b\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.FactoryCglibService    : I'm A\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.FactoryCglibService    : I'm B\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.FactoryCglibService    : I'm C\n\n\n### Interface Target To CGLIB Proxy Test\nINFO 13840 --- [pool-1-thread-1] c.g.r.proxy.SpringProxyBeanFactoryTest   : class com.github.renuevo.proxy.domain.factory.FactoryJdkProxyServiceImpl$$EnhancerBySpringCGLIB$$1187480c\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.f.FactoryJdkProxyServiceImpl   : I'm A\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.f.FactoryJdkProxyServiceImpl   : I'm B\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.factory.config.CustomAdvice    : Proxy ë¶€ê°€ê¸°ëŠ¥\nINFO 13840 --- [pool-1-thread-1] c.g.r.p.d.f.FactoryJdkProxyServiceImpl   : I'm C</code></pre></div>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ProxyFactoryë¥¼ í†µí•´ ì„ì˜ë¡œ í”„ë¡ì‹œë¥¼ ìƒì„±í•´ì„œ í™•ì¸í•´ ë³´ì•˜ìŠµë‹ˆë‹¤<br>\nì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆë‹¤ê³  í•˜ë”ë¼ë„ <code class=\"language-text\">isProxyTargetClass = true</code>ë¥¼ í™œìš©í•˜ë©´ CGLIB í”„ë¡ì‹œë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ”ê²ƒ ê¹Œì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤  </p>\n<hr>\n<h2 id=\"ê´€ë ¨-ì°¸ê³ \" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A0%A8-%EC%B0%B8%EA%B3%A0\" aria-label=\"ê´€ë ¨ ì°¸ê³  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê´€ë ¨ ì°¸ê³ </h2>\n<p><a href=\"https://yejun-the-developer.tistory.com/7\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ë¡œí‚¤ë‹˜ ë¸”ë¡œê·¸</a><br>\n<a href=\"https://jiwondev.tistory.com/152\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JiwonDevë‹˜ ë¸”ë¡œê·¸</a><br>\n<a href=\"https://gmoon92.github.io/spring/aop/2019/02/23/spring-aop-proxy-bean.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Moonë‹˜ ë¸”ë¡œê·¸</a><br>\n<a href=\"https://davidpark20.tistory.com/48\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ë‹¤ë¹„ë“œë°•ì˜ ê°œë°œì´ì•¼ê¸° ë¸”ë¡œê·¸</a><br>\n<a href=\"https://davidpark20.tistory.com/49\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ë‹¤ë¹„ë“œë°•ì˜ ê°œë°œì´ì•¼ê¸° ë¸”ë¡œê·¸</a>  </p>","frontmatter":{"title":"[Spring] Springì˜ í”„ë¡ì‹œ ìƒì„± (ProxyBeanFactory)","date":"September 08, 2022"}}},"pageContext":{"slug":"/spring/proxy/spring-proxy-factory/","previous":{"fields":{"slug":"/spring/proxy/spring-proxy/"},"frontmatter":{"title":"[Spring] Spring Proxyì˜ JDK Dynamic Proxyì™€ CGLIB","category":"Spring"}},"next":null}},"staticQueryHashes":["3128451518","96099027"]}