{"componentChunkName":"component---src-templates-blog-post-js","path":"/spring/proxy/spring-proxy/","result":{"data":{"site":{"siteMetadata":{"title":"renuevo blog","author":"rubber","siteUrl":"https://renuevo.github.io","comment":{"disqusShortName":"https-renuevo-github-io","utterances":""},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"ba5c95f0-ac19-5229-8c18-dcdb688566de","excerpt":"Spring AOPì—ì„œ ì‚¬ìš©í•˜ëŠ” Proxy ìŠ¤í”„ë§ì—ì„œ ì‚¬ìš©í•˜ëŠ” í”„ë¡ì‹œì— ëŒ€í•´ ì•Œì•„ë³¼ ì‹œê°„ì…ë‹ˆë‹¤ ì´ 3í¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì„œ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤   Spring Proxyì˜ JDK Dynamic Proxyì™€ CGLIB   a. Proxy ì‚´í´ë³´ê¸° b. JDK Dynamic Proxy c. CGLIB   Springì˜ í”„ë¡ì‹œ ìƒì„± (ProxyBeanFactory) a. FactoryBean b. ProxyBeanFactory   Spring Proxyì˜ ë¹ˆ í›„ì²˜ë¦¬ê¸°(BeanPostProcessorâ€¦","html":"<h2 id=\"spring-aopì—ì„œ-ì‚¬ìš©í•˜ëŠ”-proxy\" style=\"position:relative;\"><a href=\"#spring-aop%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-proxy\" aria-label=\"spring aopì—ì„œ ì‚¬ìš©í•˜ëŠ” proxy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring AOPì—ì„œ ì‚¬ìš©í•˜ëŠ” Proxy</h2>\n<p><strong>ìŠ¤í”„ë§ì—ì„œ ì‚¬ìš©í•˜ëŠ” í”„ë¡ì‹œì— ëŒ€í•´ ì•Œì•„ë³¼ ì‹œê°„ì…ë‹ˆë‹¤</strong></p>\n<p>ì´ 3í¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì„œ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤  </p>\n<ol>\n<li>\n<p><a href=\"https://renuevo.github.io/spring/proxy/spring-proxy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Proxyì˜ JDK Dynamic Proxyì™€ CGLIB</a>  </p>\n<blockquote>\n<p>a. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy/#proxy-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Proxy ì‚´í´ë³´ê¸°</a><br>\nb. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy/#jdk-dynamic-proxy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JDK Dynamic Proxy</a><br>\nc. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy/#cglib\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CGLIB</a>  </p>\n</blockquote>\n</li>\n<li>\n<p><a href=\"https://renuevo.github.io/spring/proxy/spring-proxy-factory\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Springì˜ í”„ë¡ì‹œ ìƒì„± (ProxyBeanFactory)</a></p>\n<blockquote>\n<p>a. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy-factory/#factory-bean\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FactoryBean</a><br>\nb. <a href=\"https://renuevo.github.io/spring/proxy/spring-proxy-factory/#proxyfactorybean\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ProxyBeanFactory</a>  </p>\n</blockquote>\n</li>\n<li><a href=\"\">Spring Proxyì˜ ë¹ˆ í›„ì²˜ë¦¬ê¸°(BeanPostProcessor)</a> ğŸš§ ì‘ì„±ì¤‘</li>\n</ol>\n<h2 id=\"proxy-ì‚´í´ë³´ê¸°\" style=\"position:relative;\"><a href=\"#proxy-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"proxy ì‚´í´ë³´ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Proxy ì‚´í´ë³´ê¸°</h2>\n<p>ì¼ë°˜ì ìœ¼ë¡œ ìŠ¤í”„ë§ì—ì„œ ë§í•˜ëŠ” ê¸°ëŠ¥ì  í”„ë¡ì‹œëŠ” 2ê°€ì§€ íŒ¨í„´ì˜ ê¸°ëŠ¥ ì—­í• ì„ í•©ë‹ˆë‹¤  </p>\n<ol>\n<li><strong>ë°ì½”ë ˆì´ì…˜ íŒ¨í„´ (Decorator Pattern)</strong> ğŸ‘‰ <a href=\"https://renuevo.github.io/design-pattern/decorator-pattern/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ë°ì½”ë ˆì´ì…˜ í¬ìŠ¤íŒ…</a></li>\n</ol>\n<blockquote>\n<p>ë¶€ê°€ì ìœ¼ë¡œ ê¸°ëŠ¥ì„ ë¶€ì—¬í•œë‹¤</p>\n</blockquote>\n<ol start=\"2\">\n<li><strong>í”„ë¡ì‹œ íŒ¨í„´ (Proxy Pattern)</strong></li>\n</ol>\n<blockquote>\n<p>ì ‘ê·¼ì— ëŒ€í•œ ì œì–´ë¥¼ í•œë‹¤</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.52601156069364%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAACxLAAAsSwGlPZapAAAAk0lEQVQoz7VRWQ6FIBDz/nf0x4h+KAkuyE5fOi94ApyklMzSaWCotaIXGAM6BkUHHiEEQYxRuJQixZwzvPdvnmhuWq5xSunvkEPOOazrimVZcBwH9n2HMQZKKeF5nqG1lnvjaZpgrcU4jti2TURFkNue58F5niLGJi6hS269ruutsY95gs7v+xZx1l7BT96w5y//AA36Jp+ocjxyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"proxy\"\n        title=\"proxy\"\n        src=\"/static/c6aec1262657594ce3f76a730bc1d66d/1e043/proxy.png\"\n        srcset=\"/static/c6aec1262657594ce3f76a730bc1d66d/991de/proxy.png 173w,\n/static/c6aec1262657594ce3f76a730bc1d66d/e4d6b/proxy.png 345w,\n/static/c6aec1262657594ce3f76a730bc1d66d/1e043/proxy.png 690w,\n/static/c6aec1262657594ce3f76a730bc1d66d/e3189/proxy.png 1035w,\n/static/c6aec1262657594ce3f76a730bc1d66d/b1001/proxy.png 1380w,\n/static/c6aec1262657594ce3f76a730bc1d66d/7595a/proxy.png 3576w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>í”„ë¡ì‹œëŠ” <code class=\"language-text\">OCP(ê°œë°©-íì‡„ ì›ì¹™)</code>ì„ ì§€í‚¤ëŠ” ì•„ì£¼ ì¢‹ì€ ìˆ˜ë‹¨ì…ë‹ˆë‹¤<br>\ní´ë¼ì´ì–¸íŠ¸ê°€ ì„œë¹„ìŠ¤ í˜¸ì¶œì‹œ í”„ë¡ì‹œë¥¼ í†µí•´ ì‹¤ì œ target(ì„œë¹„ìŠ¤êµ¬í˜„ì²´)ì„ í˜¸ì¶œí•˜ë„ë¡ ë§Œë“­ë‹ˆë‹¤<br>\nì¤‘ê°„ì—ì„œ í”„ë¡ì‹œëŠ” <strong>ë¶€ê°€ê¸°ëŠ¥ or ì ‘ê·¼ì œì–´</strong> ë“±ì˜ ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤  </p>\n<p>ì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•˜ëŠ” <code class=\"language-text\">@Transactional</code> ê°™ì€ ì• ë“¤ì´ ì´ëŸ¬í•œ í”„ë¡ì‹œë¥¼ í†µí•´ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë©°<br>\nì´ëŸ¬í•œ íŠ¸ë¦­ì„ í†µí•´ ê°œë°œìëŠ” ì„œë¹„ìŠ¤ êµ¬í˜„ì—ë§Œ ë”ìš± ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤  </p>\n<br/>\n<br/>\n<p><strong>ğŸ‘í•˜ì§€ë§Œ í”„ë¡ì‹œëŠ” <span class='red_font'>ë‹¨ì </span>ë„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤</strong>  </p>\n<ol>\n<li>target(ì„œë¹„ìŠ¤)ì˜ ê°œìˆ˜ë§Œí¼ í”„ë¡ì‹œê°€ ìƒì„±ë˜ì–´ì•¼ í•œë‹¤  </li>\n<li>ê°™ì€ ê¸°ëŠ¥ì˜ ê²½ìš° ì½”ë“œ ì¤‘ë³µì´ ì¼ì–´ë‚œë‹¤  </li>\n<li>í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œë„ ë˜í•‘ì²˜ë¦¬ë˜ì–´ í”„ë¡ì‹œë¥¼ í†µí•´ targetì— ë„ë‹¬í•œë‹¤  </li>\n</ol>\n<br/>\n<p>ì´ëŸ¬í•œ ë‹¨ì ë“¤ì„ ë³´ì™„í•˜ê¸° ìœ„í•œ í•´ê²°ì±…ì´ ë‹¤ì´ë‚˜ë¯¹í”„ë¡ì‹œì…ë‹ˆë‹¤<br>\nê°œë°œìê°€ í”„ë¡ì‹œë¥¼ ë³„ë„ë¡œ ìƒì„±í•˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼ ëŸ°íƒ€ì„ì‹œ ë™ì ìœ¼ë¡œ ê°€ìƒ ê°ì²´ë¥¼ ì ìš©ì‹œí‚µë‹ˆë‹¤<br>\nì´ë ‡ê²Œ ëŸ°íƒ€ì„ì‹œ ë™ì ìœ¼ë¡œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ì ìš©í•˜ëŠ” ë°©ì‹ì„ <code class=\"language-text\">ëŸ°íƒ€ì„ ìœ„ë¹™(Runtime Weaving)</code>ì´ë¼ê³  í•©ë‹ˆë‹¤  </p>\n<br/>\n<p>ê·¸ëŸ¼ ë‹¤ìŒìœ¼ë¡œ Spring AOPê°€ ë‚´ë¶€ì—ì„œ ë™ì ìœ¼ë¡œ í”„ë¡ì‹œë¥¼ ìƒì„±í• ë•Œ ì‚¬ìš©ë˜ëŠ” <code class=\"language-text\">JDK Dynamic Proxy</code>ì™€ <code class=\"language-text\">CGLIB</code>ë¥¼ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<h2 id=\"jdk-dynamic-proxy\" style=\"position:relative;\"><a href=\"#jdk-dynamic-proxy\" aria-label=\"jdk dynamic proxy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JDK Dynamic Proxy</h2>\n<p>ì˜ˆì „(ğŸ¦·)ì—ëŠ” ê¼­ ìŠ¤í”„ë§ 3.0ì—ì„œëŠ” @Serviceë¥¼ ë§Œë“¤ê¸°ì „ì— interfaceë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤ê³  ë°°ì› ì—ˆìŠµë‹ˆë‹¤<br>\nê·¸ ì´ìœ ëŠ” ê·¸ë•Œ ë‹¹ì‹œì— ìŠ¤í”„ë§ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ë˜ í”„ë¡ì‹œê°€ <code class=\"language-text\">JDK Dynamic Proxy</code>ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤<br>\nê·¸ëŸ¼ JDK Dynamic Proxyì˜ êµ¬ì¡°ë¥¼ ì‚´í´ ë³´ë©° ì™œ interfaceê°€ í•„ìš”í•œì§€ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<h3 id=\"jdk-dynamic-proxy-êµ¬ì¡°-ì‚´í´ë³´ê¸°\" style=\"position:relative;\"><a href=\"#jdk-dynamic-proxy-%EA%B5%AC%EC%A1%B0-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"jdk dynamic proxy êµ¬ì¡° ì‚´í´ë³´ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JDK Dynamic Proxy êµ¬ì¡° ì‚´í´ë³´ê¸°</h3>\n<p>JDK Dynamic Proxyì˜ ë‚´ë¶€ êµ¬ì„±ë¶€í„° ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.06936416184971%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAACxLAAAsSwGlPZapAAABOklEQVQoz4WS666CMBCEef/nkx8KhCDIHcUbCKJrvk2WQ4gnNpl0205nZ7d1TqeTuK4rURRJmqaSZdmM1+sljPf7Lb+GcRwCLk7TpDNr21sKET+fT+UtwR4wjvMrq4k+Hg8ZhkG6rpPL5TKDPTCO45/D/7AcXGJcr1fZ7Xay3+8lDEPp+165zCq4dLIWwVVVVXI8HuV8Pkscx5Lnudzvd2maRvt8u93UKeV/dUjv7DHIihPf9+VwOMy9YsDhIXEbBIEmnx0uSZvNRl/d8zwtkxLpmyW0R2CvrmudAVzuOzQTJ2xQFiUYEAPElNm2rZZHDJdWIGZ8NByycADKslQymXCYJIk6L4pC+K/0E0HOwHa71XbQFkxhzkHAnp5s5gQHBkTs2xDbuX0d1txTwfW/4+IaEC3pt3MDlX0AHyRVCdCP66sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JDK Dynamic Proxy\"\n        title=\"JDK Dynamic Proxy\"\n        src=\"/static/014aa2863cc665cffa41ff95549fe600/1e043/jdk-proxy.png\"\n        srcset=\"/static/014aa2863cc665cffa41ff95549fe600/991de/jdk-proxy.png 173w,\n/static/014aa2863cc665cffa41ff95549fe600/e4d6b/jdk-proxy.png 345w,\n/static/014aa2863cc665cffa41ff95549fe600/1e043/jdk-proxy.png 690w,\n/static/014aa2863cc665cffa41ff95549fe600/e3189/jdk-proxy.png 1035w,\n/static/014aa2863cc665cffa41ff95549fe600/b1001/jdk-proxy.png 1380w,\n/static/014aa2863cc665cffa41ff95549fe600/fa65c/jdk-proxy.png 3064w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>JDK Proxy</span></p>\n<p>ì‹¤ì œì ìœ¼ë¡œ ì„œë¹„ìŠ¤êµ¬í˜„ì²´ì™€ ê°™ì€ interfaceë¥¼ ìƒì†ë°›ì•„ì„œ í”„ë¡ì‹œê°€ êµ¬ì„±ë©ë‹ˆë‹¤<br>\nê°™ì€ interfaceë¡œ êµ¬í˜„ë˜ë©´ì„œ í˜¸ì¶œì— ëŒ€í•œ ë©”ì„œë“œë¥¼ ë˜í•‘í•´ì„œ êµ¬í˜„í•˜ëŠ”ê²Œ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\nì´ ê³¼ì •ì—ì„œ ë©”ì„œë“œì •ë³´ë“±ì´ ì‚¬ìš©ë˜ë©´ì„œ ìë°”ë‚´ì˜ ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤  </p>\n<br/>\n<p><strong>ğŸ·ï¸ìœ„ì˜ êµ¬ì¡°ë¡œ JDK Dynamic Proxyì˜ íŠ¹ì§•ì„ ì‚´í´ë³¼ìˆ˜ ìˆìŠµë‹ˆë‹¤</strong>  </p>\n<ol>\n<li>public ë©”ì„œë“œë§Œ proxyê°€ ì‘ë™í•œë‹¤  </li>\n<li>ë‚´ë¶€ë¼ë¦¬ì˜ ë©”ì„œë“œ í˜¸ì¶œë¡œëŠ” proxyë¥¼ íƒ€ì§€ ì•Šê¸° ë•Œë¬¸ì— aopê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤  </li>\n<li>ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•˜ë©´ì„œ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤  </li>\n<li>interfaceê°€ í•„ìˆ˜ì ìœ¼ë¡œ í•„ìš”í•˜ë‹¤  </li>\n</ol>\n<br/>\n<br/>\n<h3 id=\"jdk-dynamic-proxy-ì†ŒìŠ¤ë¡œ-í™•ì¸í•˜ê¸°\" style=\"position:relative;\"><a href=\"#jdk-dynamic-proxy-%EC%86%8C%EC%8A%A4%EB%A1%9C-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\" aria-label=\"jdk dynamic proxy ì†ŒìŠ¤ë¡œ í™•ì¸í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JDK Dynamic Proxy ì†ŒìŠ¤ë¡œ í™•ì¸í•˜ê¸°</h3>\n<p>Proxyìƒì„±ì„ ìœ„í•´ javaì—ì„œëŠ” ë¦¬í”Œë™ì…˜ íŒ¨í‚¤ì§€ë‚´ì˜ Proxy í´ë˜ìŠ¤ê°€ ì¡´ì¬í•©ë‹ˆë‹¤<br>\në‚´ë¶€ì ìœ¼ë¡œ targetì˜ ëŒ€í•œ ë©”ì„œë“œ í˜¸ì¶œì„ ìœ„í•´ <code class=\"language-text\">InvocationHandler</code>ë§Œ êµ¬í˜„í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ í”„ë¡ì‹œ ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤  </p>\n<p>í•µì‹¬ í´ë˜ìŠ¤ëŠ” ì•„ë˜ ë‘ê°œì…ë‹ˆë‹¤  </p>\n<blockquote>\n<ol>\n<li>Proxy  </li>\n<li>InvocationHandler  </li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Proxy</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span>Serializable</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">newProxyInstance</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassLoader</span> loader<span class=\"token punctuation\">,</span>       <span class=\"token operator\">-></span> í”„ë¡ì‹œë¥¼ ë§Œë“¤ <span class=\"token class-name\">Class</span> <span class=\"token class-name\">Loader</span>\n                                          <span class=\"token class-name\">Class</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> interfaces<span class=\"token punctuation\">,</span>    <span class=\"token operator\">-></span> target <span class=\"token keyword\">interface</span>\n                                          <span class=\"token class-name\">InvocationHandler</span> h<span class=\"token punctuation\">)</span>      <span class=\"token operator\">-></span> <span class=\"token class-name\">InvocationHandler</span> êµ¬í˜„ì²´\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\n\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">InvocationHandler</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>\n                            <span class=\"token class-name\">Object</span> proxy<span class=\"token punctuation\">,</span>   <span class=\"token operator\">-></span> í”„ë¡ì‹œ ê°ì²´ <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n                            <span class=\"token class-name\">Method</span> method<span class=\"token punctuation\">,</span>  <span class=\"token operator\">-></span> í˜¸ì¶œëœ ë©”ì„œë“œ \n                            <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args   <span class=\"token operator\">-></span> ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜\n                        <span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Throwable</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ ë‘ê°œì˜ í´ë˜ìŠ¤ë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ JDK Proxyë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆê³  ë©”ì„œë“œë³„ í•¸ë“¤ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\në‚´ë¶€ì ìœ¼ë¡œëŠ” ë©”ì„œë“œ í˜¸ì¶œì€ ì•„ë˜ì™€ ê°™ì€ í”Œë¡œìš° êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.398843930635834%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAACE4AAAhOAFFljFgAAAA/ElEQVQoz41S2aqFQAzz/z9PXBDFDTcQ3HHXXhKYwes5DydQ0DTNtJ0x2rYVx3EkjmPxPE+iKJLzPAW47/trPHMK6tt4i67r+hC/8TZ6hqESfd/Lvu//CmA+TRNzXdcJptm2jTnw4zh+HEbD4zgkDEOp65qm8zyTA8D7vs9wXZfGQJIkzOGAdV0ZukOQCBRhn1mWsZtlWXRHCjgMUZYlDW3blqIoqMNE2hAiGFqWRQEKcEGmabKzIAj0gWmaskNwyEOPyb4a4qbzPJemacgNw6C7wxqwN3SOKaBHh1VVcWRtCKFavFo+igD8IwfjJ684BL5xSfrZ/PI8fuGBP2autj9LuYUZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JDK Dynamic Proxy\"\n        title=\"JDK Dynamic Proxy\"\n        src=\"/static/f22df8b9e3b524c9a65e0992e9c8cfc2/1e043/jdk-proxy-call.png\"\n        srcset=\"/static/f22df8b9e3b524c9a65e0992e9c8cfc2/991de/jdk-proxy-call.png 173w,\n/static/f22df8b9e3b524c9a65e0992e9c8cfc2/e4d6b/jdk-proxy-call.png 345w,\n/static/f22df8b9e3b524c9a65e0992e9c8cfc2/1e043/jdk-proxy-call.png 690w,\n/static/f22df8b9e3b524c9a65e0992e9c8cfc2/e3189/jdk-proxy-call.png 1035w,\n/static/f22df8b9e3b524c9a65e0992e9c8cfc2/b1001/jdk-proxy-call.png 1380w,\n/static/f22df8b9e3b524c9a65e0992e9c8cfc2/fa63f/jdk-proxy-call.png 2298w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>JDK Proxy í˜¸ì¶œêµ¬ì¡°</span></p>\n<br/>\n<br/>\n<p><strong>ê·¸ëŸ¼ ê°„ë‹¨í•˜ê²Œ í”„ë¡ì‹œë¥¼ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤</strong> ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-kotlin-in-action/tree/master/spring-boot-aop-proxy-in-action\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a><br>\n<span class='code_header'><strong>Target Code</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">interface</span> JdkProxyService <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token annotation builtin\">@Service</span>\n<span class=\"token keyword\">class</span> JdkProxyServiceImpl <span class=\"token operator\">:</span> JdkProxyService <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"I'm A\"</span></span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"I'm B\"</span></span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"I'm C\"</span></span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span class='code_header'><strong>Proxy Test Code</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">internal</span> <span class=\"token keyword\">class</span> JdkProxyTest <span class=\"token operator\">:</span> <span class=\"token function\">ShouldSpec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">context</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"JDK Proxy Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Invocation Handler\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> jdkProxyTarget<span class=\"token operator\">:</span> JdkProxyService <span class=\"token operator\">=</span> <span class=\"token function\">JdkProxyServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token keyword\">val</span> proxy <span class=\"token operator\">=</span> Proxy<span class=\"token punctuation\">.</span><span class=\"token function\">newProxyInstance</span><span class=\"token punctuation\">(</span>\n                jdkProxyTarget<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">.</span>classLoader<span class=\"token punctuation\">,</span>\n                <span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span>JdkProxyService<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token function\">TestInvocationHandler</span><span class=\"token punctuation\">(</span>jdkProxyTarget<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> JdkProxyService\n\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">class</span> TestInvocationHandler <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>jdkProxyService<span class=\"token operator\">:</span> JdkProxyService<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> InvocationHandler <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> target <span class=\"token operator\">=</span> jdkProxyService\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>proxy<span class=\"token operator\">:</span> Any<span class=\"token punctuation\">,</span> method<span class=\"token operator\">:</span> Method<span class=\"token punctuation\">,</span> args<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Any<span class=\"token operator\">></span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token keyword\">when</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string-literal singleline\"><span class=\"token string\">\"methodA\"</span></span> <span class=\"token operator\">-></span> log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"ë„ˆëŠ” Aë¡œ í–¥í•˜ëŠ”êµ°\"</span></span> <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">else</span> <span class=\"token operator\">-></span> log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"TestInvocationHandler ì§€ë‚˜ê°‘ë‹ˆë‹¤\"</span></span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>args <span class=\"token operator\">?:</span> <span class=\"token function\">arrayOfNulls</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>    <span class=\"token operator\">-></span> ì‹¤ì œ target í˜¸ì¶œ\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span class='code_header'><strong>Result</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">INFO com.github.renuevo.proxy.TestInvocationHandler - ë„ˆëŠ” Aë¡œ í–¥í•˜ëŠ”êµ°\nINFO com.github.renuevo.proxy.domain.jdk.JdkProxyServiceImpl - I'm A\nINFO com.github.renuevo.proxy.TestInvocationHandler - TestInvocationHandler ì§€ë‚˜ê°‘ë‹ˆë‹¤\nINFO com.github.renuevo.proxy.domain.jdk.JdkProxyServiceImpl - I'm B\nINFO com.github.renuevo.proxy.TestInvocationHandler - TestInvocationHandler ì§€ë‚˜ê°‘ë‹ˆë‹¤\nINFO com.github.renuevo.proxy.domain.jdk.JdkProxyServiceImpl - I'm C</code></pre></div>\n<p>ê²°ê³¼ì—ì„œ í”„ë¡ì‹œë¥¼ í†µí•´ ìˆœì°¨ì ìœ¼ë¡œ ì˜ í˜¸ì¶œë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤  </p>\n<br/>\n<h2 id=\"cglib\" style=\"position:relative;\"><a href=\"#cglib\" aria-label=\"cglib permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CGLIB</h2>\n<p>ë‹¤ìŒìœ¼ë¡œ ì•Œì•„ë³¼ ê²ƒì€ CGLIBì…ë‹ˆë‹¤<br>\ní˜„ì¬ ìŠ¤í”„ë§ì—ì„œ defulatë¡œ ì±„íƒë˜ì–´ ì‚¬ìš©ë˜ê³  ìˆëŠ” í”„ë¡ì‹œ ë°©ì‹ì´ê¸°ë„ í•©ë‹ˆë‹¤<br>\n<code class=\"language-text\">CGLIB</code>ì€ ë°”ì´íŠ¸ì½”ë“œ ì—°ì‚°ìœ¼ë¡œ JDK Proxyë³´ë‹¤ ë¹ ë¥¸ í”„ë¡ì‹œë¥¼ ì§€ì›í•©ë‹ˆë‹¤<br>\nê·¸ëŸ¼ CGLIBì˜ êµ¬ì¡°ë¥¼ ì‚´í´ ë³´ë©° ì™œ interfaceê°€ í•„ìš”ì—†ê³  ë” ë¹ ë¥´ê²Œ ë™ì‘í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<h3 id=\"cglib-êµ¬ì¡°-ì‚´í´ë³´ê¸°\" style=\"position:relative;\"><a href=\"#cglib-%EA%B5%AC%EC%A1%B0-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"cglib êµ¬ì¡° ì‚´í´ë³´ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CGLIB êµ¬ì¡° ì‚´í´ë³´ê¸°</h3>\n<p>CGLIBì˜ ë‚´ë¶€ êµ¬ì„±ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.06936416184971%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAACxLAAAsSwGlPZapAAABGUlEQVQoz4WS6aqDQAyFff/nUxRcfohFFKn70rqkfIEUEe9t4DBjcsycnBmnaRrxPE+iKJLH4yFFUUiaptK2rRDHcSh+hXEcNvu+K7ZtE/s2wnld11UBz2A54zi/TrWGy7LI6/WS9/stfd9L13W60szyX4V/4axwnmdVTmRZJnEcqzUEeera8Kzk6tU5hwr8xtthGOT5fEqe57onx/i3Cs/+/RfwUBiGoY5/6yEk13X11iHi2/kiqNs3NRRP0/TlUXcwk/kZyca5AvPHcdQGqLEcK3nj0cupqkr9AGVZKoGTUIj5BG+zrmutowYBQRCI7/uSJInyUaoNaYA6QNKUoNaAKns27C1ngM9/2vB6q/x4BUQ79K5uQOkHTt9YyaIcFB4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CGLIB\"\n        title=\"CGLIB\"\n        src=\"/static/0351ba723de6689f20a80700cefc8a4b/1e043/cglib.png\"\n        srcset=\"/static/0351ba723de6689f20a80700cefc8a4b/991de/cglib.png 173w,\n/static/0351ba723de6689f20a80700cefc8a4b/e4d6b/cglib.png 345w,\n/static/0351ba723de6689f20a80700cefc8a4b/1e043/cglib.png 690w,\n/static/0351ba723de6689f20a80700cefc8a4b/e3189/cglib.png 1035w,\n/static/0351ba723de6689f20a80700cefc8a4b/b1001/cglib.png 1380w,\n/static/0351ba723de6689f20a80700cefc8a4b/fa65c/cglib.png 3064w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>CGLib Proxy</span></p>\n<p>CGLIBì€ ê¸°ë³¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ Proxyë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤<br>\nì´ëŸ¬í•œ êµ¬ì¡° ë•ë¶„ì— ë³„ë„ì˜ interface ì—†ì´ë„ í”„ë¡ì‹œ ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\në˜í•œ CGLIBì„ ì´ìš©í•œ ë¦¬í”Œë ‰ì…˜ í™œìš©ìœ¼ë¡œ ë¹ ë¥¸ ë©”ì„œë“œ í˜¸ì¶œë„ ì§€ì›í•©ë‹ˆë‹¤  </p>\n<br/>\n<p><strong>ğŸ·ï¸ìœ„ì˜ êµ¬ì¡°ë¡œ CGLIB Proxyì˜ íŠ¹ì§•ì„ ì‚´í´ë³¼ìˆ˜ ìˆìŠµë‹ˆë‹¤</strong>  </p>\n<ol>\n<li>public, protected ë©”ì„œë“œì—ì„œ proxyê°€ ì‘ë™í•œë‹¤    </li>\n<li>ë‚´ë¶€ë¼ë¦¬ì˜ ë©”ì„œë“œ í˜¸ì¶œë¡œëŠ” proxyë¥¼ íƒ€ì§€ ì•Šê¸° ë•Œë¬¸ì— aopê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤  </li>\n<li>ë‚´ë¶€ì—ì„œ CGLIBì„ ì´ìš©í•´ ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•œë‹¤  </li>\n<li>ìƒì†ì„ í†µí•´ í”„ë¡ì‹œë¥¼ ë§Œë“¤ì–´ì„œ interfaceê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤ (ìƒì†ì´ê¸° ë•Œë¬¸ì— final, private âŒ)  </li>\n</ol>\n<br/>\n<br/>\n<h3 id=\"cglib-ì†ŒìŠ¤ë¡œ-í™•ì¸í•˜ê¸°\" style=\"position:relative;\"><a href=\"#cglib-%EC%86%8C%EC%8A%A4%EB%A1%9C-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0\" aria-label=\"cglib ì†ŒìŠ¤ë¡œ í™•ì¸í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CGLIB ì†ŒìŠ¤ë¡œ í™•ì¸í•˜ê¸°</h3>\n<p>CGLIB Proxyêµ¬í˜„ì„ ìœ„í•´ì„œëŠ” CGLIB ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤ (Spring 3.2ë¶€í„°ëŠ” CoreíŒ¨í‚¤ì§€ì— cglib.proxyê°€ í¬í•¨)<br>\nCGLIBì—ì„œë„ JDK Proxyì™€ ê°™ì´ CGLIB íŒ¨í‚¤ì§€ë‚´ì˜ <code class=\"language-text\">InvocationHandler</code>ë¥¼ êµ¬í˜„í•˜ì—¬ í”„ë¡ì‹œ ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\ní•˜ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ê³  ìˆëŠ” <code class=\"language-text\">MethodInterceptor</code>ë¥¼ êµ¬í˜„í•˜ì—¬ í”„ë¡ì‹œë¥¼ ìƒì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤  </p>\n<p>í•µì‹¬ í´ë˜ìŠ¤ëŠ” ì•„ë˜ ë‘ê°œì…ë‹ˆë‹¤  </p>\n<blockquote>\n<ol>\n<li>Enhancer  </li>\n<li>MethodInterceptor<br>\n<span class='red_font'>ì´ê³³ì—ì„œ ì‚¬ìš©í•˜ëŠ” MethodInterceptorëŠ” ProxyFactoryBeanì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ëŠ” ë‹¤ë¦…ë‹ˆë‹¤!!</span>  </li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>cglib<span class=\"token punctuation\">.</span>proxy</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Enhancer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractClassGenerator</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Class</span> superclass<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Callback</span> callback<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">Enhancer</span> e <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Enhancer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\te<span class=\"token punctuation\">.</span><span class=\"token function\">setSuperclass</span><span class=\"token punctuation\">(</span>superclass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token operator\">-></span> í”„ë¡ì‹œë¥¼ ë§Œë“¤ <span class=\"token class-name\">Class</span>\n\t\te<span class=\"token punctuation\">.</span><span class=\"token function\">setCallback</span><span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>          <span class=\"token operator\">-></span> <span class=\"token class-name\">MethodInterceptor</span> êµ¬í˜„ì²´\n\t\t<span class=\"token keyword\">return</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\n\n\n<span class=\"token keyword\">package</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>cglib<span class=\"token punctuation\">.</span>proxy</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>reflect<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Method</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">MethodInterceptor</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Callback</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Object</span> <span class=\"token function\">intercept</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> var1<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Method</span> var2<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> var3<span class=\"token punctuation\">,</span> <span class=\"token class-name\">MethodProxy</span> var4<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Throwable</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ ë‘ê°œì˜ í´ë˜ìŠ¤ë¥¼ í†µí•´ CGLIBì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>\nfilterë¥¼ í†µí•´ ë©”ì„œë“œë³„ interceptorë¥¼ ì»¨íŠ¸ë¡¤ ê°€ëŠ¥í•˜ë©° <code class=\"language-text\">MethodProxy var4</code>ë¥¼ í†µí•´ ë¹ ë¥¸ ë©”ì„œë“œ invokeê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\ní˜¸ì¶œ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.398843930635834%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAACxLAAAsSwGlPZapAAABFElEQVQoz22Ri66CMBBE+/9/R4JRw0sgIQQERR6igHtzNilBvJtM291up9Opud/vcj6f5XK5SBAEcjwepa5rIT6fzw/29X1uGIqikLZttbAsy9r4X+z39rl5v9+SJIlUVSWsx3Fc0TSN3G43BS/hUupd18n1etXZ9g7DoLNhsIE6YCOOY3FdV204HA5qCwEROdYg4vl8rsTm9Xopu+d52pRlmTYA9rZhD6GYy/AecB7Qr4Q0pWmqpHmeS1mWEoahOI4jvu9rnRm11CGLomhVbkX9EHIIwr7vFXhIzPOs4Kkox2+IT6eTXvalEDIWNGH01lMIHo/HFwhI+SRyLgXWRzNNk25YVfykbQIctLC1LZHN2Yf0DyJXsbBhBbv7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CGLib Proxy\"\n        title=\"CGLib Proxy\"\n        src=\"/static/a6c2d6602ff8c1ca9192cf64f4160deb/1e043/cglib-call.png\"\n        srcset=\"/static/a6c2d6602ff8c1ca9192cf64f4160deb/991de/cglib-call.png 173w,\n/static/a6c2d6602ff8c1ca9192cf64f4160deb/e4d6b/cglib-call.png 345w,\n/static/a6c2d6602ff8c1ca9192cf64f4160deb/1e043/cglib-call.png 690w,\n/static/a6c2d6602ff8c1ca9192cf64f4160deb/e3189/cglib-call.png 1035w,\n/static/a6c2d6602ff8c1ca9192cf64f4160deb/b1001/cglib-call.png 1380w,\n/static/a6c2d6602ff8c1ca9192cf64f4160deb/fa65c/cglib-call.png 3064w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>CGLib í˜¸ì¶œêµ¬ì¡°</span></p>\n<br/>\n<br/>\n<p><strong>ê·¸ëŸ¼ ê°„ë‹¨í•˜ê²Œ í”„ë¡ì‹œë¥¼ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤</strong> ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-kotlin-in-action/tree/master/spring-boot-aop-proxy-in-action\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a><br>\n<span class='code_header'><strong>Target Code</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Service</span>\n<span class=\"token keyword\">class</span> CglibService <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"I'm A\"</span></span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"I'm B\"</span></span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"I'm C\"</span></span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span class='code_header'>Proxy Test Code</span></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">internal</span> <span class=\"token keyword\">class</span> CglibTest <span class=\"token operator\">:</span> <span class=\"token function\">ShouldSpec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">context</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Cglib Test\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token function\">should</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Method Interceptor\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> enhancer <span class=\"token operator\">=</span> <span class=\"token function\">Enhancer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            enhancer<span class=\"token punctuation\">.</span><span class=\"token function\">setSuperclass</span><span class=\"token punctuation\">(</span>CglibService<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n            enhancer<span class=\"token punctuation\">.</span><span class=\"token function\">setCallbacks</span><span class=\"token punctuation\">(</span>\n                <span class=\"token function\">arrayOf</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token function\">TestCglibMethodInterceptor</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"0\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">//0</span>\n                    <span class=\"token function\">TestCglibMethodInterceptor</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"1\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">//1</span>\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n            \n            <span class=\"token comment\">//í•„í„°ë¥¼ í†µí•´ Aë§Œ 1ë²ˆ Interceptorë¡œ</span>\n            enhancer<span class=\"token punctuation\">.</span><span class=\"token function\">setCallbackFilter</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">.</span>name <span class=\"token operator\">==</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"methodA\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token number\">1</span>\n                <span class=\"token keyword\">else</span> <span class=\"token number\">0</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">val</span> proxy <span class=\"token operator\">=</span> enhancer<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> CglibService\n\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            proxy<span class=\"token punctuation\">.</span><span class=\"token function\">methodC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">class</span> <span class=\"token function\">TestCglibMethodInterceptor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> number<span class=\"token operator\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> MethodInterceptor <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> log <span class=\"token operator\">=</span> KotlinLogging<span class=\"token punctuation\">.</span><span class=\"token function\">logger</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">intercept</span><span class=\"token punctuation\">(</span>obj<span class=\"token operator\">:</span> Any<span class=\"token punctuation\">,</span> method<span class=\"token operator\">:</span> Method<span class=\"token punctuation\">,</span> args<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> Any<span class=\"token operator\">></span><span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> proxy<span class=\"token operator\">:</span> MethodProxy<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Any<span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span> <span class=\"token punctuation\">{</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"interceptor number is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">number</span></span><span class=\"token string\">\"</span></span> <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">//ì„±ëŠ¥ìƒ ì´ì ì„ ê°€ì§„ë‹¤</span>\n        <span class=\"token keyword\">return</span> proxy<span class=\"token punctuation\">.</span><span class=\"token function\">invokeSuper</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>args <span class=\"token operator\">?:</span> <span class=\"token function\">arrayOfNulls</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì „ InvocationHandlerì™€ëŠ” ë‹¤ë¥´ê²Œ methodë¥¼ invokeí•˜ì§€ ì•Šê³  <strong>proxyì˜ invokeSuper</strong>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">private</span> void <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/*</span>\n<span class=\"token comment\">     * Using a volatile invariant allows us to initialize the FastClass and</span>\n<span class=\"token comment\">     * method index pairs atomically.</span>\n<span class=\"token comment\">     *</span>\n<span class=\"token comment\">     * Double-checked locking is safe with volatile in Java 5.  Before 1.5 this</span>\n<span class=\"token comment\">     * code could allow fastClassInfo to be instantiated more than once, which</span>\n<span class=\"token comment\">     * appears to be benign.</span>\n<span class=\"token comment\">     */</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fastClassInfo <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">synchronized</span> <span class=\"token punctuation\">(</span>initLock<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fastClassInfo <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                CreateInfo ci <span class=\"token operator\">=</span> createInfo<span class=\"token punctuation\">;</span>\n\n                FastClassInfo fci <span class=\"token operator\">=</span> new <span class=\"token function\">FastClassInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                fci<span class=\"token punctuation\">.</span>f1 <span class=\"token operator\">=</span> <span class=\"token function\">helper</span><span class=\"token punctuation\">(</span>ci<span class=\"token punctuation\">,</span> ci<span class=\"token punctuation\">.</span>c1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                fci<span class=\"token punctuation\">.</span>f2 <span class=\"token operator\">=</span> <span class=\"token function\">helper</span><span class=\"token punctuation\">(</span>ci<span class=\"token punctuation\">,</span> ci<span class=\"token punctuation\">.</span>c2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                fci<span class=\"token punctuation\">.</span>i1 <span class=\"token operator\">=</span> fci<span class=\"token punctuation\">.</span>f1<span class=\"token punctuation\">.</span><span class=\"token function\">getIndex</span><span class=\"token punctuation\">(</span>sig1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                fci<span class=\"token punctuation\">.</span>i2 <span class=\"token operator\">=</span> fci<span class=\"token punctuation\">.</span>f2<span class=\"token punctuation\">.</span><span class=\"token function\">getIndex</span><span class=\"token punctuation\">(</span>sig2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                fastClassInfo <span class=\"token operator\">=</span> fci<span class=\"token punctuation\">;</span>\n                createInfo <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">public</span> Object <span class=\"token function\">invokeSuper</span><span class=\"token punctuation\">(</span>Object obj<span class=\"token punctuation\">,</span> Object<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> throws Throwable <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">        FastClassInfo fci <span class=\"token operator\">=</span> fastClassInfo<span class=\"token punctuation\">;</span></span>        <span class=\"token keyword\">return</span> fci<span class=\"token punctuation\">.</span>f2<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>fci<span class=\"token punctuation\">.</span>i2<span class=\"token punctuation\">,</span> obj<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>InvocationTargetException e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getTargetException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>MethodProxyëŠ” ë‚´ë¶€ì ìœ¼ë¡œ FastClassInfoë¥¼ ì²˜ìŒ í˜¸ì¶œì‹œì—ë§Œ init()í•˜ì—¬ ë³´ê´€í•˜ë©° invokeë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤<br>\nFastClassì˜ invokeë¥¼ í˜¸ì¶œí•˜ì—¬ ê¸°ì¡´ method invokeë³´ë‹¤ ë¹ ë¥¸ í•¨ìˆ˜ í˜¸ì¶œì„ ì‚¬ìš©í•©ë‹ˆë‹¤  </p>\n<p><span class='code_header'>Result</span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">INFO com.github.renuevo.proxy.TestCglibMethodInterceptor - interceptor number is 1\nINFO com.github.renuevo.proxy.domain.cglib.CglibService - I'm A\nINFO com.github.renuevo.proxy.TestCglibMethodInterceptor - interceptor number is 0\nINFO com.github.renuevo.proxy.domain.cglib.CglibService - I'm B\nINFO com.github.renuevo.proxy.TestCglibMethodInterceptor - interceptor number is 0\nINFO com.github.renuevo.proxy.domain.cglib.CglibService - I'm C</code></pre></div>\n<p>ê²°ê³¼ì—ì„œ í”„ë¡ì‹œê°€ ì˜ í˜¸ì¶œë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤  </p>\n<br/>\n<h3 id=\"cglib-ë¶€ê°€-ì„¤ëª…\" style=\"position:relative;\"><a href=\"#cglib-%EB%B6%80%EA%B0%80-%EC%84%A4%EB%AA%85\" aria-label=\"cglib ë¶€ê°€ ì„¤ëª… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CGLIB ë¶€ê°€ ì„¤ëª…</h3>\n<p>í˜„ì¬ <code class=\"language-text\">Springì€ 4.3, Spring-bootëŠ” 1.4</code>ë¶€í„° CGLIBì„ Proxyìƒì„±ì— defulatë¡œ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤<br>\nCGLIBì— ìˆë˜ ë¬¸ì œë“¤ì´ ì•„ë˜ì™€ ê°™ì´ í•´ê²°ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.80346820809249%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcRAAAXEQHKJvM/AAAC+UlEQVQoz12S70uTURTH77NNayrOYa5QMjObmFTQi+qVidUfoAytvVtbakigvjAl0S0HvgvcIqlMKRVKSCgHoquGphub+cJsM2Ktlj7Osbk9P/bD9rNz5ybRhQ/n3Of53nPOveegvr4+MVANnAOKgVPACaBCpVJVKxTyol9OJ/J4vGjH7UYsy6JoNIoikUjGEthPJpMoteDgNaC2v7+/Bmw5WAIsb2xsjItFdoejdIskb7vd7lsu146cYRg5BJIBd2KxWDWAYtEocRBQqVTyu7q6suvr63MHBgZyBgcHcRKckUOS27gyidfrTXp3fUmKopMMy6Zg2UByb29PGQqFUTAU4iUSif2APT09SK/XY5fb3t6OmpubUXd3N/pm2+C4tkhE/t48v/HV9tb23fHK7nC+tv9wvNkit1+wgdDLSCxeiyvbcXs4FosFmUwmhCQSCUovbmdnZ8oRCoUpe0N6ExsOIAKOAMX4Nw6CCQTD2BLT09OpvVgsRqikpCT1sbe3Nwf9tyBr9r97fGht7Qt/2WjK+vDRkK3VPuKVlZVxxsfH+fgf+PuVQQNqlpaWHoKPA+QDhxobG08ajcanVVVVRbAXAHkikagQrvWktbW1AmuAAnxmcXFRMzExUQd+Fg5IDA8/Fk5NTZ2GMcl/PjpaoNFoCoeGho7q9e8rJycnc0HDGxl5lg+aArhepVarPTY7OyswGAyC+fl5AfTgeEdHBx8Xh+x2O6Io/wOaYfw0Q2+Gw2EXzJU7Hk84YTTYeDyuNa9YsOaTz7froynqJ0VRLoamXTCTm8Fg0A8a3fr6+v4sfl5dRVartWZhYUFtNpvvQfn35+bmVFCB0uPx3AXRpT/hMBEMBlYgQIiFxDCL/kCA9dM0TYGPx2cZD7zNZiUy780DSoFKAL8PtAuVpzmMBS0tLWebmpquyGSyyw0NDXVSqbS2ra3tIkmSxZBUkGnaQffSneao1Wruu5kZQqfTcRQKBQ8C8QSClP4McB24AOAGXE37OHleprK/mPnMXZU9ckUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cglib ë¬¸ì œì  í•´ê²°\"\n        title=\"cglib ë¬¸ì œì  í•´ê²°\"\n        src=\"/static/fad15f8f7a6890bc35e98f1956ba1182/1e043/cglib4.png\"\n        srcset=\"/static/fad15f8f7a6890bc35e98f1956ba1182/991de/cglib4.png 173w,\n/static/fad15f8f7a6890bc35e98f1956ba1182/e4d6b/cglib4.png 345w,\n/static/fad15f8f7a6890bc35e98f1956ba1182/1e043/cglib4.png 690w,\n/static/fad15f8f7a6890bc35e98f1956ba1182/e3189/cglib4.png 1035w,\n/static/fad15f8f7a6890bc35e98f1956ba1182/b1001/cglib4.png 1380w,\n/static/fad15f8f7a6890bc35e98f1956ba1182/2d912/cglib4.png 1772w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br>\n<span class='img_caption'>Source : <a href=\"https://gmoon92.github.io/spring/aop/2019/04/20/jdk-dynamic-proxy-and-cglib.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Moon Blog</a></span>  </p>\n<br/>\n<hr>\n<br/>\n<h3 id=\"one-more-thing-\" style=\"position:relative;\"><a href=\"#one-more-thing-\" aria-label=\"one more thing  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>One More Thing ğŸ¤”</h3>\n<p>JDK Proxyì™€ CGLIB Proxyë¡œ ìŠ¤í”„ë§ì—ì„œ ì‚¬ìš©í•˜ëŠ” Proxyì— ëŒ€í•´ ì•Œì•„ ë³´ì•˜ìŠµë‹ˆë‹¤<br>\ní•˜ì§€ë§Œ ì´ë ‡ê²Œ ê°„ë‹¨íˆ í”„ë¡ì‹œ ìƒì„±ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ê´€ë¦¬ ë° ìƒì„±ì˜ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤  </p>\n<ol>\n<li>í”„ë¡ì‹œê°€ ì¤‘ì²©ë˜ë©´ ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤  </li>\n<li>targetë³„ë¡œ í”„ë¡ì‹œë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œ ë° ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ì¦ê°€í•œë‹¤  </li>\n<li>ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œë„ í”„ë¡ì‹œì— êµ¬í˜„í•´ì„œ ì„œë¹™í•´ì•¼ í•œë‹¤  </li>\n<li>ê°™ì€ ê¸°ëŠ¥ì˜ í”„ë¡ì‹œ ê¸°ëŠ¥ì´ targetë³„ë¡œ ì¤‘ë³µë  ìˆ˜ ìˆë‹¤  </li>\n</ol>\n<br/>\n<p>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Springì€ ë‚´ë¶€ì ìœ¼ë¡œ <code class=\"language-text\">ProxyBeanFactory</code>ë¥¼ í†µí•´ Proxyë¥¼ ìƒì„±í•©ë‹ˆë‹¤  </p>\n<p>Springì€ ë‚´ë¶€ì ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ê°€ ìˆìœ¼ë©´ JDK Proxy, ì—†ìœ¼ë©´ CGLIBìœ¼ë¡œ í”„ë¡ì‹œë¥¼ ìƒì„±í•©ë‹ˆë‹¤<br>\nì‚¬ìš©ìëŠ” ê°„ë‹¨í•˜ê²Œ Spring AOPë¥¼ í†µí•´ Proxy ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤  </p>\n<br/>\n<p><strong>ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” ProxyBeanFactoryì— ëŒ€í•´ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤</strong>  </p>\n<br/>\n<h2 id=\"ê´€ë ¨-ì°¸ê³ \" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A0%A8-%EC%B0%B8%EA%B3%A0\" aria-label=\"ê´€ë ¨ ì°¸ê³  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê´€ë ¨ ì°¸ê³ </h2>\n<p><a href=\"https://www.baeldung.com/cglib\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">baeldung cglib</a><br>\n<a href=\"https://www.baeldung.com/spring-aop-vs-aspectj\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">baeldung spring-aop-vs-aspectj</a><br>\n<a href=\"https://velog.io/@suhongkim98/JDK-Dynamic-Proxy%EC%99%80-CGLib\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">suhongkim98ë‹˜ ë¸”ë¡œê·¸</a><br>\n<a href=\"https://gmoon92.github.io/spring/aop/2019/04/20/jdk-dynamic-proxy-and-cglib.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Moonë‹˜ ë¸”ë¡œê·¸</a><br>\n<a href=\"https://velog.io/@hanblueblue/Spring-Proxy-1-Java-Dynamic-Proxy-vs.-CGLIB\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">keep goingë‹˜ ë¸”ë¡œê·¸</a><br>\n<a href=\"https://jiwondev.tistory.com/151\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JiwonDevë‹˜ ë¸”ë¡œê·¸</a><br>\n<a href=\"https://yejun-the-developer.tistory.com/6\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ë¡œí‚¤ë‹˜ ë¸”ë¡œê·¸</a>  </p>","frontmatter":{"title":"[Spring] Spring Proxyì˜ JDK Dynamic Proxyì™€ CGLIB","date":"August 25, 2022"}}},"pageContext":{"slug":"/spring/proxy/spring-proxy/","previous":{"fields":{"slug":"/spring/proxy/spring-bean-post-processor/"},"frontmatter":{"title":"[Spring] Spring Proxyì˜ ë¹ˆ í›„ì²˜ë¦¬ê¸°(BeanPostProcessor)","category":"Spring"}},"next":{"fields":{"slug":"/spring/proxy/spring-proxy-factory/"},"frontmatter":{"title":"[Spring] Springì˜ í”„ë¡ì‹œ ìƒì„± (ProxyBeanFactory)","category":"Spring"}}}},"staticQueryHashes":["3128451518","96099027"]}