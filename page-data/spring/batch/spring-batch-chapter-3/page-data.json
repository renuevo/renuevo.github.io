{"componentChunkName":"component---src-templates-blog-post-js","path":"/spring/batch/spring-batch-chapter-3/","webpackCompilationHash":"9bc18b594d2407556304","result":{"data":{"site":{"siteMetadata":{"title":"renuevo blog","author":"deokhwa kim","siteUrl":"https://renuevo.github.io","comment":{"disqusShortName":"https-renuevo-github-io","utterances":""},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"da04b29b-4aff-579c-8938-6af39e5edfe2","excerpt":"Spring Batch Guide ì‹œë¦¬ì¦ˆ Spring Batchì˜ ê¸°ë³¸ ê°œë… Spring Batchì˜ ItemReader - File Item Reader Spring Batchì˜ ItemReader - DB Item Reader Chapter 3ì—ì„œëŠ” Spring Batchì˜ DB ItemReaderì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤   Springì˜ JDBC ItemReader Springì€ ì‚¬ìš©ì í¸ì˜ë¥¼ ìœ„í•˜ì—¬ í•´ì„œ ë¡œ ì œê³µí•©ë‹ˆë‹¤ ì‚¬ìš©ìëŠ” ì´ë ‡ê²Œ ì œê³µëœ JDBC ItemReaderâ€¦","html":"<h3 id=\"spring-batch-guide-ì‹œë¦¬ì¦ˆ\"><a href=\"#spring-batch-guide-%EC%8B%9C%EB%A6%AC%EC%A6%88\" aria-label=\"spring batch guide ì‹œë¦¬ì¦ˆ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring Batch Guide ì‹œë¦¬ì¦ˆ</h3>\n<ol>\n<li><a href=\"https://renuevo.github.io/spring/batch/spring-batch-chapter-1/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Batchì˜ ê¸°ë³¸ ê°œë…</a></li>\n<li><a href=\"https://renuevo.github.io/spring/batch/spring-batch-chapter-2/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Batchì˜ ItemReader - File Item Reader</a></li>\n<li><a href=\"https://renuevo.github.io/spring/batch/spring-batch-chapter-3/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Batchì˜ ItemReader - DB Item Reader</a></li>\n</ol>\n<br/>\n<hr>\n<br/>\n<p><em>Chapter 3ì—ì„œëŠ” Spring Batchì˜ DB ItemReaderì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤</em>  </p>\n<br/>\n<h2 id=\"springì˜-jdbc-itemreader\"><a href=\"#spring%EC%9D%98-jdbc-itemreader\" aria-label=\"springì˜ jdbc itemreader permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Springì˜ JDBC ItemReader</h2>\n<p>Springì€ ì‚¬ìš©ì í¸ì˜ë¥¼ ìœ„í•˜ì—¬ <code class=\"language-text\">JDBCì˜ ê¸°ëŠ¥ì„ í™•ì¥</code>í•´ì„œ <code class=\"language-text\">ì¶”ìƒí™” ì„œë¹„ìŠ¤</code>ë¡œ ì œê³µí•©ë‹ˆë‹¤<br>\nì‚¬ìš©ìëŠ” ì´ë ‡ê²Œ ì œê³µëœ JDBC ItemReader êµ¬í˜„ì²´ë¡œ ê°„í¸í•˜ê²Œ Itemì„ ì½ì–´ì˜¬ ìˆ˜ ìˆì–´ ë³´ë‹¤ ì„œë¹„ìŠ¤ì— ì§‘ì¤‘ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤  </p>\n<p>ê·¸ëŸ¼ Itemì˜ ì½ì–´ì˜¤ëŠ” ë°©ì‹ì„ ë¨¼ì € ìƒê°í•´ ë³´ê² ìŠµë‹ˆë‹¤<br>\nì•ì„œ <a href=\"https://renuevo.github.io/spring/batch/spring-batch-chapter-1/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Chapter 1</a>ì—ì„œ ë§ˆì§€ë§‰ì—ì„œ ì„¤ëª…í–ˆë“¯ í”„ë¡œì„¸ìŠ¤ë¥¼ Spring BatchëŠ” <code class=\"language-text\">Chuck ì§€í–¥ ì²˜ë¦¬</code>ë¥¼ í•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">Spring Batchì˜ ê°€ì¥ í° ì¥ì  ì¤‘ í•˜ë‚˜ëŠ” `Chunk` ì§€í–¥ ì²˜ë¦¬ì…ë‹ˆë‹¤  \n`Chunk`ì§€í–¥ì²˜ë¦¬ë€ í•œ ë²ˆì— í•˜ë‚˜ì”©ì˜ ë°ì´í„°ë¥¼ ì½ì–´ Chunkë¼ëŠ” ë©ì–´ë¦¬ë¥¼ ë§Œë“  ë’¤, Chunk ë‹¨ìœ„ë¡œ íŠ¸ëœì­ì…˜ì„ ë‹¤ë£¨ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤  \nê·¸ë˜ì„œ íŠ¸ëœì­ì…˜ì„ ìˆ˜í–‰ì‹œ `Chunk`ë‹¨ìœ„ë¡œ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— Chunk ë§Œí¼ë§Œ ë¡¤ë°± ë©ë‹ˆë‹¤  </code></pre></div>\n<p>ì´ëŸ¬í•œ êµ¬ì¡°ìƒ ìˆœì°¨ì ìœ¼ë¡œ Itemì„ ì¼ì • ì‚¬ì´ì¦ˆ ë§Œí¼ ë°›ì•„ì™€ì„œ ì²˜ë¦¬í•´ì•¼ í•  ê²ƒì…ë‹ˆë‹¤<br>\ní•˜ì§€ë§Œ <span class='red_font'> Springì˜ JdbcTemplateì€ ìì²´ì ìœ¼ë¡œ ë¶„í• ì²˜ë¦¬ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</span><br>\në•Œë¬¸ì— <code class=\"language-text\">limit</code>ì™€ <code class=\"language-text\">offset</code>ì„ ì‚¬ìš©ìê°€ ì§ì ‘ì§€ì •í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤  </p>\n<br/>\n<p>Spring BatchëŠ” ì´ëŸ¬í•œ êµ¬í˜„ì„ ì‚¬ìš©ìê°€ ì§ì ‘í•˜ì§€ ì•Šê³  ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ìì²´ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ <code class=\"language-text\">2ê°€ì§€ ë°©ì‹</code>ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤</p>\n<ol>\n<li>Cursor-based ItemReader  </li>\n<li>Paging ItemReader  </li>\n</ol>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.62666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcRAAAXEQHKJvM/AAACA0lEQVQoz2P40+y27W9f2P5fDc4TGJhY1BkYGNREyub58vUfmiE35VC/cN++BQwTT/k0VZTGdXZ1Hevo6Njq4+fnA1LHr2elzdd/oEl84sFpkpMOTebr3dfP8LcnuPHvrIz2P10BqUwMDHJAhSJCPZut7KbvWOU7b89S+2nb18lMOejWVlftOGny5J6JEyc2hkdEGgDVSTFo2YmYTtnZ7jF711ogXmE0ecckBhQgJcU+j4GBb31svln94nUbJq/fsbVp8dr1GbPXmjOggf///4Ppknmr63pXb9nbu2rz9sK5axoYfncHsfyYlsLyf24cMwMfL3crAwP/zIQyy+KFG1a3rNq+rmzButXhszZZgjRPnz6NtX/iRBaf+DTGLUXBjCCxjDnrauuXb9lWv2zzhpTZ6xsRViqqwZnWKw6rAA062rV254nKheuOxM7aYAcSX75iKaPYhAMMor17GG6vmwE2MHvO2t6WlVsvtKzYcgpo+AS4IaISCgxaAdFMILZb/1rlgnnrOppWbe8oWbC+NWDGZkOQ+MWtyxhY5DQYWBV1Gdc7CoENTJ61Lq1u+dbeumVbOuJnbchkwAbk/v9nYXj+n41h1S92htZ9XLx9B7g+f36HVS3T4sdcDPV7OBnajnAydx/kQZZjAcUwAwOjDDgGITHOi8UMVqgcSJ0CEHMhSwIAcKHDW3vyZugAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DB_ItemReader\"\n        title=\"DB_ItemReader\"\n        src=\"/static/f830e8d0ebd2d3f951605759945c2cd3/36727/db-itemreader.png\"\n        srcset=\"/static/f830e8d0ebd2d3f951605759945c2cd3/acf4b/db-itemreader.png 173w,\n/static/f830e8d0ebd2d3f951605759945c2cd3/fc834/db-itemreader.png 345w,\n/static/f830e8d0ebd2d3f951605759945c2cd3/36727/db-itemreader.png 690w,\n/static/f830e8d0ebd2d3f951605759945c2cd3/17fa4/db-itemreader.png 1035w,\n/static/f830e8d0ebd2d3f951605759945c2cd3/a5044/db-itemreader.png 1380w,\n/static/f830e8d0ebd2d3f951605759945c2cd3/07b3b/db-itemreader.png 1875w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>2ê°€ì§€ ë°©ì‹ì€ ê°™ì€ ë°ì´í„°ë¥¼ ì½ì–´ ì˜¤ì§€ë§Œ ì„œë¡œ ë‹¤ë¥¸ ì „ëµìœ¼ë¡œ DBì˜ ë°ì´í„°ë¥¼ ì½ì–´ ì˜µë‹ˆë‹¤<br>\ní”„ë¡œì„¸ìŠ¤ ë™ì‘ì— ë”°ë¼ ì•Œë§ì€ ì „ëµì„ ì„ íƒí•´ì•¼ í•˜ë©° ì „ëµì„ íƒì— ë”°ë¼ Batchì˜ í¼í¬ë¨¼ìŠ¤ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤  </p>\n<br/>\n<h2 id=\"sample-db-setting\"><a href=\"#sample-db-setting\" aria-label=\"sample db setting permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sample DB Setting</h2>\n<p>ItemReaderë¥¼ í…ŒìŠ¤íŠ¸í•  DBë¥¼ ë¨¼ì € ì„¸íŒ…í•´ ë³´ê² ìŠµë‹ˆë‹¤<br>\ní…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•  DBëŠ” <code class=\"language-text\">H2</code>ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤<br>\n<code class=\"language-text\">MYSQL</code>ì„ ì‚¬ìš©í•˜ì‹œê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì€ Meta Tableì„ ìƒì„±í•˜ì…”ì„œ ì‚¬ìš©í•˜ì…”ë„ ë©ë‹ˆë‹¤  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.70878459687123%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAACVElEQVQoz4VSiW7aQBDl//8mDVGqSlUTSFBwSADbGB9rvOuT9QHeOPheu2OSSq1E1NFoJY/f2zfzZkdL3buarsYz8Wq6HD+ur2fi0vT7vu+6/r8x8mmgarqmG6qmIXOXF2VV11lRE5o6MSP04ESM88s3jXTLni8lYSXDuVJ0UTOJ67vh4eqXcDNdXN8J969q1bSXyd2f/vLTqTsH5zwvToFru8RKaNB3vG2/IDctn6yM70/i7Wx9PXl5kHe87/dRvBA3wlKElFSjrCqAQvP/ZNcBuVWQuVjL642KsEOTFJSbtssbnr7nWV7mVdN94d4IWqJ0bxMMGfheXddQNdxo/LC+mb58u3/+ISinsj4VjWZTw6GavddIsMW+F7OB7AeBZVmmuSuK4kMkSmJJUeWthiwShDFU/Oh4M3m+nS7G9/O7hTxXLOTFo5Zzz/cxxqZpUkr5OVLGbJvYhBCMy7Lsuz4vC9+1aeA5BCrF2QL+qQwwXdeDIBiszvPkeCC2jRCC6wAHHR3T1AIFTDAhVVXzvmsHMueu5501MKDTNAU0yzIHpAc0ZoxB5T3PTRNhy4L64BX43TafZJgZ+NB5GIYw9D6MNooqbRRR3qj6sKokZcMT2hqSihR9B6dJnIFMQ3oWBsPJh9unoozTzA+TfXyMDgxGg62WDa9aXjW8bFrIuuWjummMnXUWGdJ2HHrIJis0k8yfgnz3qj6I6FlzLj7vQXmfMD9Ogzj1oiNNWMKYIG7mK3khbp9eJexH8Vt+mfz3x8f/tyzTDUOD0HWETFik53kXn/dvzcp1CxmBXnIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Spring Batch Meta Data Schema\"\n        title=\"Spring Batch Meta Data Schema\"\n        src=\"/static/55b809cbc69531950dd7c7fa094e4261/36727/meta-data-erd.png\"\n        srcset=\"/static/55b809cbc69531950dd7c7fa094e4261/acf4b/meta-data-erd.png 173w,\n/static/55b809cbc69531950dd7c7fa094e4261/fc834/meta-data-erd.png 345w,\n/static/55b809cbc69531950dd7c7fa094e4261/36727/meta-data-erd.png 690w,\n/static/55b809cbc69531950dd7c7fa094e4261/d181f/meta-data-erd.png 831w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n    </span>  </p>\n<p><code class=\"language-text\">H2</code>ì˜ ê²½ìš° <code class=\"language-text\">Meta Table</code>ì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ê¸° ë•Œë¬¸ì— ë³„ë‹¤ë¥¸ ì„¤ì • ì—†ì´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\në‹¤ë¥¸ DBë“¤ ê²½ìš° ê°ê°ì˜ ì¿¼ë¦¬ë¡œ í•´ë‹¹ Tableë“¤ì„ ìƒì„±í•´ ì£¼ì–´ì•¼ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤  </p>\n<p><a href=\"https://github.com/spring-projects/spring-batch/blob/master/spring-batch-core/src/main/resources/org/springframework/batch/core/schema-mysql.sql\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MYSQL-Spring-Batch-SCHEMA</a>  </p>\n<br/>\n<p>ì˜ì¡´ê´€ê³„ë¥¼ Gradleì— ì¶”ê°€í•´ ì¤ë‹ˆë‹¤ ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-in-action/blob/master/spring-boot-batch-in-action/build.gradle\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a>     </p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">dependencies <span class=\"token punctuation\">{</span>\n <span class=\"token punctuation\">...</span>\n    implementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-data-jdbc'</span>\n    implementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-data-jpa'</span>\n    runtimeOnly <span class=\"token string\">'com.h2database:h2'</span>\n <span class=\"token punctuation\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>ê·¸ë¦¬ê³  <code class=\"language-text\">application-property</code>ë¡œ <code class=\"language-text\">DBì„¤ì •</code>ì„ í•´ì£¼ê² ìŠµë‹ˆë‹¤ ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-in-action/blob/master/spring-boot-batch-in-action/src/main/resources/application.yml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a><br>\nSpring Bootì—ì„œ ê°„ë‹¨í•œ propertyì„¤ì •ë§Œìœ¼ë¡œ <code class=\"language-text\">DataSource</code>ì™€ <code class=\"language-text\">EntityManagerFactory</code>ë¥¼ ìƒì„±í•´ ì£¼ê¸° ë•Œë¬¸ì— í¸í•©ë‹ˆë‹¤<br>\nì¶”ê°€ì ìœ¼ë¡œ ì—¬ëŸ¬ê°œì˜ Jobì„ ê°ê° ì‹¤í–‰í•´ë³´ê¸° ìœ„í•´ì„œ <code class=\"language-text\">batch-job-names</code>ì„ ì„¤ì •í•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">spring<span class=\"token punctuation\">:</span>\n  datasource<span class=\"token punctuation\">:</span>\n    hikari<span class=\"token punctuation\">:</span>\n      driver<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">-</span>name<span class=\"token punctuation\">:</span> org<span class=\"token operator\">.</span>h2<span class=\"token operator\">.</span>Driver\n<span class=\"gatsby-highlight-code-line\">      jdbc<span class=\"token operator\">-</span>url<span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>h2<span class=\"token punctuation\">:</span>mem<span class=\"token punctuation\">:</span>spring<span class=\"token operator\">-</span>batch #In<span class=\"token operator\">-</span>memory   </span><span class=\"gatsby-highlight-code-line\">      #jdbc<span class=\"token operator\">-</span>url<span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>h2<span class=\"token punctuation\">:</span>file<span class=\"token punctuation\">:</span><span class=\"token operator\">.</span><span class=\"token string regex\">/spring-boot-batch-in-action/</span>data<span class=\"token operator\">/</span>spring<span class=\"token operator\">-</span>batch<span class=\"token punctuation\">;</span>AUTO_SERVER<span class=\"token operator\">=</span>TRUE<span class=\"token punctuation\">;</span> #File<span class=\"token operator\">-</span>based  </span>      username<span class=\"token punctuation\">:</span> sa\n      password<span class=\"token punctuation\">:</span>\n  jpa<span class=\"token punctuation\">:</span>\n    show<span class=\"token operator\">-</span>sql<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n    hibernate<span class=\"token punctuation\">:</span>\n      ddl<span class=\"token operator\">-</span>auto<span class=\"token punctuation\">:</span> create<span class=\"token operator\">-</span>drop\n    database<span class=\"token operator\">-</span>platform<span class=\"token punctuation\">:</span> org<span class=\"token operator\">.</span>hibernate<span class=\"token operator\">.</span>dialect<span class=\"token operator\">.</span>H2Dialect\n  batch<span class=\"token punctuation\">:</span>\n    job<span class=\"token punctuation\">:</span>\n<span class=\"gatsby-highlight-code-line\">      names<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">$</span><span class=\"token punctuation\">{</span>job<span class=\"token operator\">.</span>name<span class=\"token punctuation\">:</span>NONE<span class=\"token punctuation\">}</span>   #<span class=\"token operator\">--</span>job<span class=\"token operator\">.</span>name<span class=\"token operator\">=</span>jdbcCursorItemReaderJob  </span></code></pre></div>\n<br/>\n<p>ë‹¤ìŒì€ <code class=\"language-text\">Schema ì„¤ì •</code>ì…ë‹ˆë‹¤ ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-in-action/blob/master/spring-boot-batch-in-action/src/main/resources/schema.sql\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a><br>\n<code class=\"language-text\">H2</code>ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— Batchê´€ë ¨ ì„¤ì •ì€ í•„ìš”ì—†ì§€ë§Œ Sample ë°ì´í„°ë¥¼ ì„¤ì •í•´ ì£¼ê² ìŠµë‹ˆë‹¤<br>\nSpring boot ì´ˆê¸°ë°ì´í„°ë¥¼ ìƒì„±í•˜ë„ë¡ <code class=\"language-text\">src/main/resources/schema.sql</code>íŒŒì¼ì„ ìƒì„±í•´ ì¤ë‹ˆë‹¤<br>\n<code class=\"language-text\">in-memory</code>ë°©ì‹ìœ¼ë¡œ í•´ì„œ ê¸°ì¡´ í…Œì´ë¸” í™•ì¸ì€ í•„ìš”ì—†ì§€ë§Œ <code class=\"language-text\">MYSQL</code>ë¡œ í…ŒìŠ¤íŠ¸ í•´ë³¼ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— <span class='red_font'>DROP</span> ì¡°ê±´ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤  </p>\n<p><span class='code_header'>schema.sql</span></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> pay<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> pay2<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> tax<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> pay <span class=\"token punctuation\">(</span>\n  id         <span class=\"token keyword\">bigint</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span>\n  amount     <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">,</span>\n  tx_name     <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  tx_date_time <span class=\"token keyword\">datetime</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span> <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> pay2 <span class=\"token punctuation\">(</span>\n  id         <span class=\"token keyword\">bigint</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span>\n  amount     <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">,</span>\n  tx_name     <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  tx_date_time <span class=\"token keyword\">datetime</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span> <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> tax <span class=\"token punctuation\">(</span>\n  id        <span class=\"token keyword\">bigint</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span>\n  pay_id    <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">,</span>\n  pay_tax   <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">,</span>\n  location  <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span> <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> pay <span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">,</span> tx_name<span class=\"token punctuation\">,</span> tx_date_time<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'trade1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2020-03-11 00:00:00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> pay <span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">,</span> tx_name<span class=\"token punctuation\">,</span> tx_date_time<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'trade2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2020-03-12 00:00:00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> pay <span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">,</span> tx_name<span class=\"token punctuation\">,</span> tx_date_time<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'trade3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2020-03-13 00:00:00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> pay <span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">,</span> tx_name<span class=\"token punctuation\">,</span> tx_date_time<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">4000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'trade4'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2020-03-14 00:00:00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ê²ƒìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦¬ê¸° ìœ„í•œ ì´ˆê¸° ë°ì´í„° ì„¸íŒ…ì´ ëë‚¬ìŠµë‹ˆë‹¤<br>\në‹¤ìŒì€ ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ ItemReaderì˜ ì‚´í´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<h2 id=\"cursor-based-itemreader\"><a href=\"#cursor-based-itemreader\" aria-label=\"cursor based itemreader permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cursor-based ItemReader</h2>\n<p>ë¨¼ì € ì„¤ëª…ë“œë¦´ ê²ƒì€ Batch ì‹œìŠ¤í…œì˜ <code class=\"language-text\">default</code>ë¡œ ì“°ì¸ë‹¤ê³  í•  ìˆ˜ ìˆëŠ” <code class=\"language-text\">Cursor Based ItemReader</code>ì…ë‹ˆë‹¤  </p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.54696132596685%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcRAAAXEQHKJvM/AAACz0lEQVQ4y5WUX0hTURzHz92u03J2/Xc3lbTp0pT+EUVS4TB6qIcEoYgeAskeRHyRnCmb4qbl/12d5XSK7SazUduU7jb/zXu3EGEkPVhELz2Xz1L0kNfT784VkfhnP/jyPefA+fA99/7OQbjjKsZMJcZj1RiPVGE8WIF/tZZFEEJ5iXLiPPhZQpFUCl5I9y0YcyY/46yRCM62r2Kd+xPWTLzHalsES+uqAZ5F4pMb6+Lw/XXRVr0u2mu+bg1XbXw3lPkBQCvkstPgJxGp0IAfyewO3E62hEcT+8O9ir6QpWQ80p/CvLUk9IV7ky0hO80ID9Cm8bJy03BJuVlXoNx6fF35w6hLwUx5EtquXFCJAqE0jLEsv2c2t33SU2t0uLt6XvlMzPS82eycMbWwns6OSXdtoTVIod3q4z3NzsWFjewmh5d9+Ny7YnL5+af+sNAyxfENMH/ETrPHrUE1Es3XkNhbicTuCiQyd9BKnY6IbU+AZFngqnbyMP0zvaB8prTySoOTe6af8PAA9Fs5IdDifOPXO7xLTax3FIAqtEclAvAEeHGrQlm4ReXVfNCW3qx3BYb0E24hCvQJswAMSMDmAwB31jJWNzu8Y3BECRgY5Pi5GJAHoH1fIPwZAlGZBIZx411DkrbLn9/ETgPQEwbgHBx5HoBzAAwBcOxACVUDQtTTGSFBPcAfA6ANgEEAcgD0AZAD4CIAbfECSQDmNUNCPSQ0Q8Ihn7AAwPlYwnFoGzquhHATtNAeXdA2rjaXn7X6Qi+MTk5qo5ew3qkZXMreF3hIdyvqdIeXoBm+CJkiGciwdgTVr1CoepFCje8oZFyjUNtqGtyUYhRvwY2RRET1JUjg5SniGzdK4EUbsdc+IibZX8nkcvJoESlLpUm5Klcay84BPKPtdfSzbIvfFZgafRQQ0oJOgaRXR2ryM6ALoIugnHhPR/6TkPwv8Z/5jvoNF+xTrwoP8ckAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cursor-based-itemReader\"\n        title=\"cursor-based-itemReader\"\n        src=\"/static/ca409cac0c190462dec2f12893f0b5de/36727/cursor-based-itemReader.png\"\n        srcset=\"/static/ca409cac0c190462dec2f12893f0b5de/acf4b/cursor-based-itemReader.png 173w,\n/static/ca409cac0c190462dec2f12893f0b5de/fc834/cursor-based-itemReader.png 345w,\n/static/ca409cac0c190462dec2f12893f0b5de/36727/cursor-based-itemReader.png 690w,\n/static/ca409cac0c190462dec2f12893f0b5de/6b7c3/cursor-based-itemReader.png 905w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n    </span>  </p>\n<br/>\n<p>Javaì˜ <code class=\"language-text\">ResultSet</code>í´ë˜ìŠ¤ëŠ” <code class=\"language-text\">Cursor</code>ë¥¼ ì¡°ì‘í•˜ì—¬ ë°ì´í„°ë¥¼ ì½ì–´ ì˜µë‹ˆë‹¤<br>\në°ì´í„° ë² ì´ìŠ¤ì— Cursorë¥¼ ì§€ì •í•´ ë‘ê³  <code class=\"language-text\">next</code>ë¥¼ í†µí•´ì„œ Cursorì˜ ìœ„ì¹˜ë¥¼ <strong>ì´ë™í•´ ê°€ë©´ì„œ ì°¨ë¡€ëŒ€ë¡œ</strong> ê°€ì ¸ì˜µë‹ˆë‹¤  </p>\n<br/>\n<p>ì´ëŸ¬í•œ ì „ëµì— ë”°ë¼ ì¥ì ê³¼ ë‹¨ì  ê·¸ë¦¬ê³  ìœ ì˜ í•´ì•¼í•  ì ì´ ë°œìƒ í•©ë‹ˆë‹¤<br>\në¨¼ì € ì´ëŸ¬í•œ ìœ ì˜ì‚¬í•­ë“¤ì„ ì•Œì•„ë³´ê³  Spring Batchì— ì œê³µí•˜ëŠ” <strong>3ê°€ì§€</strong>ì˜ <code class=\"language-text\">Cursor-based ItemReader</code>ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤  </p>\n<hr>\n<h3 id=\"ì¥ì \"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"ì¥ì  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¥ì </h3>\n<ol>\n<li><strong>ë›°ì–´ë‚œ í¼í¬ë¨¼ìŠ¤ë¥¼ ê°€ì§„ë‹¤</strong>ğŸ‘<br>\nëª¨ë“  ë°ì´í„°ë¥¼ ì¡°íšŒí•œ ë’¤ Cursorì„¤ì •í•˜ê³  ì´ë™í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì€ <code class=\"language-text\">ë†’ì€ ì„±ëŠ¥</code>ì„ ë³´ì—¬ ì¤ë‹ˆë‹¤<br>\në•Œë¬¸ì— ì´ìŠˆê°€ ë˜ì§€ ì•ŠëŠ” í•œ <code class=\"language-text\">Default ItemReader</code>ë¡œ ì‚¬ìš©í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤<br>\n<br/>    </li>\n<li><strong>Batch í”„ë¡œì„¸ìŠ¤ ë™ì‘ë™ì•ˆì— ë°ì´í„° ë¬´ê²°ì„±ì´ ìœ ì§€ëœë‹¤</strong><br>\nìŠ¤ëƒ…ìƒ· ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ì˜ ë³€ê²½ì— ëŒ€í•´ ì•ˆì „í•©ë‹ˆë‹¤<br>\nConnectionì„ ë§ºê³  <span class='red_font'>Close</span>í•˜ê¸° ì „ê¹Œì§€ DB íŠ¸ëœì­ì…˜ì„ ë¬´ì‹œ í•©ë‹ˆë‹¤  </li>\n</ol>\n<br/>\n<h3 id=\"ë‹¨ì \"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"ë‹¨ì  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¨ì </h3>\n<ol>\n<li><strong>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë†’ë‹¤</strong><br>\nìŠ¤ëƒ…ìƒ· ë°©ì‹ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤<br>\n<br/>    </li>\n<li><strong>ë©€í‹° ì“°ë ˆë“œ í™˜ê²½ ì‚¬ìš© ë¶ˆê°€</strong><br>\n<code class=\"language-text\">ë‹¨ì¼ ResultSet</code>ì„ ê°€ì§€ê¸° ë•Œë¬¸ì— <span class='red_font'>Thread Safe í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</span><br>\n<br/></li>\n<li><strong>ê¸´ Timeout ì„¤ì •ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤</strong><br>\n<code class=\"language-text\">Cursor</code>ê°€ <span class='red_font'>Close</span>ì „ê¹Œì§€ ìœ ì§€ë˜ê¸° ë•Œë¬¸ì— ì¶©ë¶„í•œ <code class=\"language-text\">Timeout ì‹œê°„</code>ì´ í•„ìš”í•©ë‹ˆë‹¤  </li>\n</ol>\n<br/>\n<br/>\n<p><strong>ì¥ì ë³´ë‹¤ ë‹¨ì ì´ ë§ì•„ ë³´ì´ì§€ë§Œ <code class=\"language-text\">ì„±ëŠ¥ìƒ ìœ ë¦¬</code>í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤</strong><br>\në©€í‹° ì“°ë ˆë“œ í™˜ê²½ì´ ì•„ë‹ˆê³  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ë„ ì—„ì²­í° ëŒ€ëŸ‰ì˜ ë°ì´í„°ê°€ ì•„ë‹Œ ì´ìƒ ì‚¬ìš©ìƒ ë¬¸ì œëŠ” ì—†ìŠµë‹ˆë‹¤  </p>\n<br/>\n<hr>\n<p>ë‹¤ìŒì€ Spring Batchì—ì„œ ì œê³µí•˜ëŠ” <code class=\"language-text\">Cursor-based ItemReader 3ê°€ì§€</code>ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤  </p>\n<p><strong>Cursor-based ItemReader</strong>  </p>\n<blockquote>\n<ol>\n<li>JdbcCursorItemReader   </li>\n<li>HibernateCursorItemReader  </li>\n<li>StoredProcedureItemReader  </li>\n</ol>\n</blockquote>\n<br/>\n<hr>\n<h3 id=\"1-jdbccursoritemreader\"><a href=\"#1-jdbccursoritemreader\" aria-label=\"1 jdbccursoritemreader permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. JdbcCursorItemReader</h3>\n<p><code class=\"language-text\">JdbcCursorItemReader</code>ëŠ” ê°€ì¥ <code class=\"language-text\">ê¸°ë³¸</code>ì´ ë˜ëŠ” <code class=\"language-text\">ItemReader</code>ì…ë‹ˆë‹¤ ğŸ‘‰  <a href=\"https://github.com/renuevo/spring-boot-in-action/blob/master/spring-boot-batch-in-action/src/main/java/com/github/renuevo/config/JdbcCursorItemReaderJobConfig.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a><br>\nê°„í¸í•˜ê²Œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\në¨¼ì € ë°ì´í„°ë¥¼ ë‹´ì„ <code class=\"language-text\">VO ê°ì²´</code>ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤<br>\nì—¬ê¸°ì„œëŠ” ì´í›„ ì˜ˆì œë“¤ì—ì„œ ì‚¬ìš©í•  JPAë„ ê³ ë ¤í•´ì„œ <code class=\"language-text\">Entity</code>ë¡œ ìƒì„±í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤  </p>\n<p><a href=\"https://github.com/renuevo/spring-boot-in-action/blob/master/spring-boot-batch-in-action/src/main/java/com/github/renuevo/entity/Pay.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pay.class</a>  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Setter</span>\n<span class=\"token annotation punctuation\">@Getter</span>\n<span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token annotation punctuation\">@ToString</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Pay</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">DateTimeFormatter</span> DATE_TIME_FORMATTER <span class=\"token operator\">=</span> <span class=\"token class-name\">DateTimeFormatter</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofPattern</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yyyy-MM-dd hh:mm:ss\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> amount<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> txName<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">LocalDateTime</span> txDateTime<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Pay</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> amount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> txName<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> txDateTime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">=</span> amount<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>txName <span class=\"token operator\">=</span> txName<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>txDateTime <span class=\"token operator\">=</span> <span class=\"token function\">convertStringToTime</span><span class=\"token punctuation\">(</span>txDateTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Pay</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> amount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> txName<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> txDateTime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">=</span> amount<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>txName <span class=\"token operator\">=</span> txName<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>txDateTime <span class=\"token operator\">=</span> <span class=\"token function\">convertStringToTime</span><span class=\"token punctuation\">(</span>txDateTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">LocalDateTime</span> <span class=\"token function\">convertStringToTime</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> txDateTime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>txDateTime<span class=\"token punctuation\">,</span> DATE_TIME_FORMATTER<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>â“ ì°¸ê³ ë¡œ ì–´ë…¸í…Œì´ì…˜ì´ ë§ì€ ê²Œ ë³´ê¸° ì‹«ì„ ìˆ˜ë„ ìˆì§€ë§Œ <code class=\"language-text\">Entity</code>ì— ëŒ€í•´ì„œëŠ” <code class=\"language-text\">ì–‘ë°©í–¥ ê´€ê³„</code>ë¡œ <code class=\"language-text\">deadlock</code>ì´ ìƒê¸¸ ìˆ˜ ìˆì–´ì„œ <code class=\"language-text\">@Data</code>ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìˆìŠµë‹ˆë‹¤<br>\n<a href=\"https://www.inflearn.com/questions/5788\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ì™œ @Dataì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ëŠ”ê°€?</a>  </p>\n<br/>\n<p>ë‹¤ìŒì€ ë“œë””ì–´ <code class=\"language-text\">JdbcCursorItemReader</code>ì˜ êµ¬í˜„ì„ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤ ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-in-action/blob/master/spring-boot-batch-in-action/src/main/java/com/github/renuevo/config/JdbcCursorItemReaderJobConfig.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a>    </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token annotation punctuation\">@AllArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JdbcCursorItemReaderJobConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">DataSource</span> dataSource<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> chunkSize <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//íŠ¸ëœì­ì…˜ ë²”ìœ„</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Step</span> <span class=\"token function\">jdbcCursorItemReaderStep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> stepBuilderFactory<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jdbcCursorItemReaderStep\"</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//step name</span>\n                <span class=\"token punctuation\">.</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span><span class=\"token function\">chunk</span><span class=\"token punctuation\">(</span>chunkSize<span class=\"token punctuation\">)</span> <span class=\"token comment\">//Readerì˜ ë°˜í™˜íƒ€ì… &amp; Writerì˜ íŒŒë¼ë¯¸í„°íƒ€ì…</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">reader</span><span class=\"token punctuation\">(</span><span class=\"token function\">jdbcCursorItemReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">writer</span><span class=\"token punctuation\">(</span>list <span class=\"token operator\">-></span> list<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Pay</span><span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">toString</span><span class=\"token punctuation\">)</span>\n                                    <span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>log<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">info</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">JdbcCursorItemReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">jdbcCursorItemReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JdbcCursorItemReaderBuilder</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \n                <span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jdbcCursorItemReader\"</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//reader name</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">fetchSize</span><span class=\"token punctuation\">(</span>chunkSize<span class=\"token punctuation\">)</span> \n                <span class=\"token punctuation\">.</span><span class=\"token function\">dataSource</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">                <span class=\"token punctuation\">.</span><span class=\"token function\">rowMapper</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">BeanPropertyRowMapper</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  </span>                <span class=\"token punctuation\">.</span><span class=\"token function\">sql</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT id, amount, tx_name, tx_date_time FROM pay\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">JdbcCursorItemReaderBuilder</code>ì˜ ìš”ì†Œë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤  </p>\n<ol>\n<li>name : ItemReaderì˜ ì´ë¦„  </li>\n<li>fetchSize : í•œë²ˆì— ì½ì–´ì˜¬ Size  </li>\n<li>dataSource : ì—°ê²°í•  DBì˜ dataSource  </li>\n<li>rowMapper : ê°€ì ¸ì˜¨ dataë¥¼ Objectë¡œ ë°”ê¿”ì¤„ Mapper  </li>\n<li>sql : ì¿¼ë¦¬!  </li>\n</ol>\n<p>ê°ê°ì˜ ìš”ì†Œë“¤ì€ ì§ê´€ì ì´ê²Œ ì˜ ë§Œë“¤ì–´ì ¸ ìˆì–´ì„œ ì´í•´í•˜ëŠ”ë° ì–´ë ¤ì›€ì€ ì—†ì„ ê²ƒì…ë‹ˆë‹¤  </p>\n<br/>\n<p><strong>ì—¬ê¸°ì„œ rowMapperë§Œ ì¢€ë” ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤</strong>    </p>\n<ol>\n<li><code class=\"language-text\">BeanPropertyRowMapper</code>ëŠ” Classë¥¼ ë°›ì•„ì„œ ê°ê°ì˜ ì´ë¦„ì— ë§ê²Œ ê°ì²´ë¥¼ ë§¤í•‘í•´ì¤ë‹ˆë‹¤<br>\n<code class=\"language-text\">Converter</code>ì„ ë“±ë¡í•˜ì—¬ íƒ€ì… ë³€í™˜ ì „ëµë„ í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤\n<a href=\"https://github.com/benelog/spring-jdbc-tips/blob/master/spring-jdbc-core.md#beanpropertyrowmapper\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">BeanPropertyRowMapper ì„¤ëª… ë”ë³´ê¸°</a><br>\n<br/></li>\n<li><code class=\"language-text\">ColumnMapRowMapper</code>ì„ ì‚¬ìš©í•˜ë©´ Mapì˜ í˜•íƒœë¡œ ë°›ì•„ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤\n<a href=\"https://github.com/benelog/spring-jdbc-tips/blob/master/spring-jdbc-core.md#columnmaprowmapper\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ColumnMapRowMapper ì„¤ëª… ë”ë³´ê¸°</a><br>\n<br/></li>\n<li>\n<p><code class=\"language-text\">RowMapper Custom êµ¬í˜„</code>ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomerPayRowMapper</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">RowMapper</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n \n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> ID_COLUMN <span class=\"token operator\">=</span> <span class=\"token string\">\"id\"</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> AMOUNT_COLUMN <span class=\"token operator\">=</span> <span class=\"token string\">\"amount\"</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> TX_NAME_COLUMN <span class=\"token operator\">=</span> <span class=\"token string\">\"tx_name\"</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> TX_DATE_TIME_COLUMN <span class=\"token operator\">=</span> <span class=\"token string\">\"tx_date_time\"</span><span class=\"token punctuation\">;</span>\n\n   <span class=\"token keyword\">public</span> <span class=\"token class-name\">Pay</span> <span class=\"token function\">mapRow</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ResultSet</span> rs<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> rowNum<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Pay</span><span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span>ID_COLUMN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                      rs<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span>AMOUNT_COLUMN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                      rs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span>TX_NAME_COLUMN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                      rs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span>TX_DATE_TIME_COLUMN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ol>\n<br/>\n<p>ê·¸ë¦¬ê³  <code class=\"language-text\">--job.name=jdbcCursorItemReaderJob</code>ê³¼ ê°™ì´ ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.32166018158236%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAZUlEQVQI1zWNWQ6AMAhEvY4kNmliVyxNvf+dRkD9ILNAHhvFCEoJVCuoNdB1gXrHXgpCCBhjoOpOpkBEPM850fT299avdbtuDjxPUM7vGFRh5g8FdoUXzczsY9nUnjD3r2OHm38AmA9CAE7zaFEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jdbcCursorItemReader\"\n        title=\"jdbcCursorItemReader\"\n        src=\"/static/ca5d1bb718bc9264b6f26acf12f015ed/36727/jdbcCursorItemReader.png\"\n        srcset=\"/static/ca5d1bb718bc9264b6f26acf12f015ed/acf4b/jdbcCursorItemReader.png 173w,\n/static/ca5d1bb718bc9264b6f26acf12f015ed/fc834/jdbcCursorItemReader.png 345w,\n/static/ca5d1bb718bc9264b6f26acf12f015ed/36727/jdbcCursorItemReader.png 690w,\n/static/ca5d1bb718bc9264b6f26acf12f015ed/0fafd/jdbcCursorItemReader.png 771w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n    </span>  </p>\n<br/>\n<hr>\n<h3 id=\"2-hibernatecursoritemreader\"><a href=\"#2-hibernatecursoritemreader\" aria-label=\"2 hibernatecursoritemreader permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. HibernateCursorItemReader</h3>\n<p>ë‹¤ìŒì€ <code class=\"language-text\">HibernateCursorItemReader</code>ì…ë‹ˆë‹¤<br>\nHibernateCursorItemReaderëŠ” DataSource ëŒ€ì‹ ì— SessionFactoryë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Bean</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">HibernateCursorItemReader</span> <span class=\"token function\">hibernateCursorItemReader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SessionFactory</span> sessionFactory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HibernateCursorItemReaderBuilder</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hibernateCursorItemReader\"</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">sessionFactory</span><span class=\"token punctuation\">(</span>sessionFactory<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">queryString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"from Pay\"</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<hr>\n<h3 id=\"3-storedprocedureitemreader-docs\"><a href=\"#3-storedprocedureitemreader-docs\" aria-label=\"3 storedprocedureitemreader docs permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. StoredProcedureItemReader <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#StoredProcedureItemReader\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docs</a></h3>\n<p>ë‹¤ìŒì€ <code class=\"language-text\">StoredProcedureItemReader</code>ì…ë‹ˆë‹¤<br>\nDBì— Procedureë¡œ ë“±ë¡í•´ë‘” ì•¡ì…˜ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì…ë‹ˆë‹¤<br>\nê°œì¸ì ìœ¼ë¡œ ë³„ë¡œ ì„ í˜¸í•˜ì§€ ì•ŠëŠ” ë°©ë²•ì…ë‹ˆë‹¤<br>\nê´€ë¦¬ í¬ì¸íŠ¸ë„ 2ê°œë¡œ ë‚˜ë‰˜ì–´ ìˆê³  DBì— ë”°ë¼ Recruit ë°›ëŠ” ê°’ë„ ë‹¤ë¦…ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">As a returned ResultSet (used by SQL Server, Sybase, DB2, Derby, and MySQL).\nAs a ref-cursor returned as an out parameter (used by Oracle and PostgreSQL).</code></pre></div>\n<br/>\n<p>ê·¸ë¦¬ì„œ Documentì— ìˆëŠ” ì„¤ì • ë°©ë²•ë§Œì„ ë³´ê³  ë„˜ì–´ê°€ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Bean</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">StoredProcedureItemReader</span> <span class=\"token function\">storedProcedureItemReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">StoredProcedureItemReader</span> storedProcedureItemReader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StoredProcedureItemReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tstoredProcedureItemReader<span class=\"token punctuation\">.</span><span class=\"token function\">setDataSource</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tstoredProcedureItemReader<span class=\"token punctuation\">.</span><span class=\"token function\">setProcedureName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sp_pay\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tstoredProcedureItemReader<span class=\"token punctuation\">.</span><span class=\"token function\">setRowMapper</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">BeanPropertyRowMapper</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> storedProcedureItemReader<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>ì´ê±¸ <code class=\"language-text\">Cursor-based ItemReader</code>ì— ëŒ€í•œ ì„¤ëª…ì´ ëë‚¬ìŠµë‹ˆë‹¤<br>\në§ˆì§€ë§‰ìœ¼ë¡œ ì •ë¦¬í•´ë³´ë©´</p>\n<br/>\n<ul>\n<li><strong>í¼í¬ë¨¼ìŠ¤ê°€ ìš°ìˆ˜í•˜ë‹¤</strong></li>\n<li><strong>ì§€ì†ì ì¸ connectionì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤</strong></li>\n<li><strong>ë³‘ë ¬ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤</strong></li>\n</ul>\n<br/>\n<p>ë¼ëŠ” <code class=\"language-text\">íŠ¹ì„±</code>ì„ ê¼­ ê¸°ì–µí•˜ê³  ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤<br>\në‹¤ìŒì€ ì´ì–´ì„œ PagingItemReaderë¥¼ ì•Œì•„ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤  </p>\n<br/>\n<hr>\n<h2 id=\"paging-itemreader\"><a href=\"#paging-itemreader\" aria-label=\"paging itemreader permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Paging ItemReader</h2>\n<p>ë‹¤ìŒì€ <code class=\"language-text\">Paging ItemReader</code>ì…ë‹ˆë‹¤  </p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.54696132596685%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcRAAAXEQHKJvM/AAACg0lEQVQ4y6XUXU/TUBgH8OfQURUHU2SbGF+mCJEQr0x8uTHRT+CVH0C5IfHGwd6yZpQsgwy6rp1J3YZuFdGFsKF2Q8ZLuy1BMiWaGGP8Aka49wMcn85FTQwS8En+OT0n6a9P29NCKBSigiDQbDZLFUWhoihSn89XB4AehmGuAJABwh68jPM+R9zwn5j5Qo8/rNPu1Ca9Pv+Zuh6/p06lTs11R1xXgef5bUmSthOJxDaC32RZ/u73+18i0IHgAI5XwcK6cGQdUuVWm1BJHRCqk+xUJdY/XRfaxVqsdao6eThWSdlF4y54PB5rIBCwDg4OWoPBoNXr9ba73e5D8LPaMecwLTcpJQ5h+WR4Jj8UzM5PROeKvLhQHhubfcFzan48PDM/1Cuv2mCnYlmW/DnvGE6zzrjh8qoLWXcmv8HnSvqDUtXgnmn6cKbwBtfV8/KqEziOg0gkAuFwGKLRaOMYu/4Ftdi6GnCnVLM44/oZn7qQHM7kdQRLsmYscrOvSiPZwppPLSQRdMBuhS+iMXaKRutfYNF4jeCiCfr/A0whaCC4KGn6UhPUEUztF0wjWEVwCW+5jOASghUE0/sFFQRXEdQQLCKoIbiCoLJX0Hwpp/3Y4Qh2OIYdJorGMoLlZofTuG3se+oQv4Qe3B4T7kwhN5orqXKx8iQ4q6k4f47r4y5prXtXsO3G7cbYFcoRu6j3Af/2GHCfOuD+hg3urNjA884GwY82GN08il/KBdhrUUrha+kRofU5QrfWCa09JVtaktAVhex2LmPu62YYIMTCdJ+1MPZTzJF7EjinP4B9stx4JL+j74iZV+vHXMNcbOYSxvzr9MI+y0RbMZbmMWl2/c9b+wEan0/s5FXW0wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pagingitemReader\"\n        title=\"pagingitemReader\"\n        src=\"/static/f9b82e70aefca0bd0204e9536d6ddb55/36727/pagingitemReader.png\"\n        srcset=\"/static/f9b82e70aefca0bd0204e9536d6ddb55/acf4b/pagingitemReader.png 173w,\n/static/f9b82e70aefca0bd0204e9536d6ddb55/fc834/pagingitemReader.png 345w,\n/static/f9b82e70aefca0bd0204e9536d6ddb55/36727/pagingitemReader.png 690w,\n/static/f9b82e70aefca0bd0204e9536d6ddb55/6b7c3/pagingitemReader.png 905w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n    </span>  </p>\n<br/>\n<p><code class=\"language-text\">Paging ItemReader</code>ëŠ” ì´ì „ <code class=\"language-text\">Cursorë°©ì‹</code>ê³¼ëŠ” ë‹¤ë¥´ê²Œ ë§¤ë²ˆ í˜¸ì¶œë§ˆë‹¤ <code class=\"language-text\">Connection</code>ì„ ë§ºê²Œ ë©ë‹ˆë‹¤<br>\në•Œë¬¸ì— ì–»ì–´ì§€ëŠ” ì¥ì ê³¼ ë‹¨ì  ê·¸ë¦¬ê³  <span class=red_font>ì£¼ì˜</span>í•´ì•¼í•  ì‚¬í•­ë“¤ì´ ìƒê¸°ê²Œ ë©ë‹ˆë‹¤  </p>\n<hr>\n<h3 id=\"ì¥ì -1\"><a href=\"#%EC%9E%A5%EC%A0%90-1\" aria-label=\"ì¥ì  1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¥ì </h3>\n<ol>\n<li><strong>Timeout ì„¤ì •ì—ì„œ ììœ ë¡­ë‹¤</strong><br>\ní•œë²ˆì˜ <code class=\"language-text\">Connection</code>ì„ ìœ ì§€í•˜ëŠ” ë°©ì‹ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— Itmeoutì„¤ì •ì— ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤<br>\n<br/>    </li>\n<li><strong>ë§¤ë²ˆ ìƒˆë¡œìš´ ì°¸ì¡°ë¡œ ë©”ëª¨ë¦¬ ì´ìŠˆê°€ ì—†ë‹¤</strong><br>\nì´ì „ Cursor ë°©ì‹ê³¼ ë‹¬ë¦¬ ë§¤ë²ˆ ìƒˆë¡œìš´ ì—°ê²°ë¡œ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë°›ì•„ ì˜¤ê¸° ë•Œë¬¸ì— ìŠ¤ëƒ…ìƒ· ê°™ì€ ìƒíƒœê°’ ì €ì¥ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤<br>\ní•˜ì§€ë§Œ ì´ <code class=\"language-text\">ì¥ì </code>ë•Œë¬¸ì— ë°ì´í„° <span clsss='red_font'>ë¬´ê²°ì„±ì´ ê¹¨ì§€ê²Œ</span> ë©ë‹ˆë‹¤<br>\n<br/>   </li>\n<li><strong>ë³‘ë ¬ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤</strong> ğŸ”€<br>\në³‘ë ¬ë¡œ ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ëŠ” ê²½ìš° <code class=\"language-text\">Paging ItemReader</code>ë¥¼ ì‚¬ìš©í•˜ì…”ì•¼í•©ë‹ˆë‹¤    </li>\n</ol>\n<h3 id=\"ë‹¨ì -1\"><a href=\"#%EB%8B%A8%EC%A0%90-1\" aria-label=\"ë‹¨ì  1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¨ì </h3>\n<ol>\n<li><strong>ì†ë„ê°€ ëŠë¦¬ë‹¤</strong><br>\në§¤ë²ˆ ìƒˆë¡œìš´ <code class=\"language-text\">Connection</code>ê³¼ <code class=\"language-text\">Sorting</code>ìœ¼ë¡œ ì†ë„ê°€ ëŠë¦°í¸ì…ë‹ˆë‹¤<br>\n<br/>    </li>\n<li><strong>Batch í”„ë¡œì„¸ìŠ¤ ë™ì‘ë™ì•ˆì— ë°ì´í„° ë¬´ê²°ì„±ì´ ìœ ì§€ë˜ì§€ ì•ŠëŠ”ë‹¤</strong><br>\nì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ íƒìƒ‰í•˜ëŠ” ë°©ì‹ì´ê¸° ë•Œë¬¸ì— ì¤‘ê°„ì— ë°ì´í„°ê°€ ë°”ë€”ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>\nì´ì ì„ ìœ ì˜í•´ì„œ ê°œë°œì„ í•´ì•¼í•©ë‹ˆë‹¤ ğŸ‘‰ <a href=\"https://jojoldu.tistory.com/337\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Paging Reader ì£¼ì˜ì‚¬í•­</a><br>\n<br/>   </li>\n<li><strong>ì •ë ¬ì´ í•„ìˆ˜ì ìœ¼ë¡œ í•„ìš”í•˜ë‹¤</strong><br>\nì£¼ì˜ ì‚¬í•­ê³¼ ê°™ì€ <span clsss='red_font'>ë‹¨ì </span>ì…ë‹ˆë‹¤<br>\n<code class=\"language-text\">offsetë°©ì‹</code>ìœ¼ë¡œ ê°’ì„ ì½ì–´ì˜¤ëŠ” íŠ¹ì„±ë•Œë¬¸ì— <code class=\"language-text\">Sorting</code>ì„ í•˜ì§€ ì•Šì„ ê²½ìš°  ì°¨ë¡€ë¡œ ë°ì´í„°ë¥¼ ëª» ê°€ì ¸ ì˜µë‹ˆë‹¤<br>\n<br/><br>\n<br/>   </li>\n</ol>\n<p><strong>ì¥ì ë³´ë‹¤ ë‹¨ì ì´ ë§ì•„ ë³´ì´ì§€ë§Œ <code class=\"language-text\">ì„±ëŠ¥ìƒ ìœ ë¦¬</code>í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤</strong><br>\në©€í‹° ì“°ë ˆë“œ í™˜ê²½ì´ ì•„ë‹ˆê³  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ë„ ì—„ì²­í° ëŒ€ëŸ‰ì˜ ë°ì´í„°ê°€ ì•„ë‹Œ ì´ìƒ ì‚¬ìš©ìƒ ë¬¸ì œëŠ” ì—†ìŠµë‹ˆë‹¤  </p>\n<br/>\n<hr>\n<p>ì´ì œ ê·¸ëŸ¼ Spring Batchì—ì„œ ì œê³µí•˜ëŠ” <code class=\"language-text\">Paging ItemReader</code>ë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤\nì¼ë¶€ ë¸”ë¡œê·¸ ê¸€ì—ì„œëŠ” <code class=\"language-text\">HibernatePagingItemReader</code>ë„ ìˆì§€ë§Œ ì—¬ê¸°ì„œëŠ” <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#database\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Document</a>ì— ë‚˜ì™€ìˆëŠ” ì•„ë˜ <code class=\"language-text\">ë‘ê°€ì§€</code>ë§Œ ì„¤ëª…í•©ë‹ˆë‹¤  </p>\n<p><strong>Paging ItemReader</strong>  </p>\n<blockquote>\n<ol>\n<li>JdbcPagingItemReader  </li>\n<li>JpaPagingItemReader   </li>\n</ol>\n</blockquote>\n<br/>\n<hr>\n<h3 id=\"1-jdbcpaingitemreader\"><a href=\"#1-jdbcpaingitemreader\" aria-label=\"1 jdbcpaingitemreader permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. JdbcPaingItemReader</h3>\n<p><code class=\"language-text\">JdbcPagingItemReader</code>ëŠ” PaingItemReaderì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ Reader ì…ë‹ˆë‹¤ ğŸ‘‰ <a href=\"https://github.com/renuevo/spring-boot-in-action/blob/master/spring-boot-batch-in-action/src/main/java/com/github/renuevo/config/JdbcPagingItemReaderJobConfig.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a><br>\nì•ì„œ Cursor-Baseì²˜ëŸ¼ ê°„í¸í•˜ê²Œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\nì˜ˆì œ <code class=\"language-text\">ë°ì´í„°</code>ì™€<code class=\"language-text\">VO</code>ëŠ” ìœ„ì—ì„œ ì‚¬ìš©í–ˆë˜ <code class=\"language-text\">Pay.class</code>ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">JdbcPagingItemReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">jdbcPagingItemReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> parameterValues <span class=\"token operator\">=</span> <span class=\"token class-name\">Maps</span><span class=\"token punctuation\">.</span><span class=\"token function\">newHashMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        parameterValues<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"amount\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//ì¡°ê±´ì ˆ íŒŒë¼ë¯¸í„°</span>\n    \n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JdbcPagingItemReaderBuilder</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">                <span class=\"token punctuation\">.</span><span class=\"token function\">pageSize</span><span class=\"token punctuation\">(</span>chunkSize<span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">                <span class=\"token punctuation\">.</span><span class=\"token function\">fetchSize</span><span class=\"token punctuation\">(</span>chunkSize<span class=\"token punctuation\">)</span></span>                <span class=\"token punctuation\">.</span><span class=\"token function\">dataSource</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">rowMapper</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">BeanPropertyRowMapper</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">                <span class=\"token punctuation\">.</span><span class=\"token function\">queryProvider</span><span class=\"token punctuation\">(</span><span class=\"token function\">createQueryProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">                <span class=\"token punctuation\">.</span><span class=\"token function\">parameterValues</span><span class=\"token punctuation\">(</span>parameterValues<span class=\"token punctuation\">)</span>   <span class=\"token comment\">//Provider Whereì— ì¡°ê±´ ì„¸íŒ…</span></span>                <span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jdbcPagingItemReader\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PagingQueryProvider</span> <span class=\"token function\">createQueryProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">SqlPagingQueryProviderFactoryBean</span> queryProviderFactoryBean <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SqlPagingQueryProviderFactoryBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        queryProviderFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">setDataSource</span><span class=\"token punctuation\">(</span>dataSource<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//Datasourceë¥¼ í†µí•œ DB Type ì¸ì‹í•´ì„œ Provider ìë™ ì¸ì‹</span>\n\n<span class=\"gatsby-highlight-code-line\">        queryProviderFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">setSelectClause</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id, amount, tx_name, tx_date_time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">        queryProviderFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">setFromClause</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"from pay\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">        queryProviderFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">setWhereClause</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"where amount >= :amount\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ì¡°ê±´</span></span>\n        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">></span></span> sortKeys <span class=\"token operator\">=</span> <span class=\"token class-name\">Maps</span><span class=\"token punctuation\">.</span><span class=\"token function\">newHashMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//Pagingì€ ë§¤ë²ˆ ë‹¤ë¥¸ Connectionì„ ë§ºê¸° ë•Œë¬¸ì— Orderê°€ í•„ìˆ˜</span>\n<span class=\"gatsby-highlight-code-line\">        sortKeys<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">.</span>ASCENDING<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n        queryProviderFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">setSortKeys</span><span class=\"token punctuation\">(</span>sortKeys<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> queryProviderFactoryBean<span class=\"token punctuation\">.</span><span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>JdbcPageItemReaderëŠ” í¬ê²Œ 2ê°œì˜ ë©”ì†Œë“œë¡œ ë‚˜ëˆ ì„œ êµ¬ì„±í•©ë‹ˆë‹¤<br>\nPagingItemReaderëŠ” <code class=\"language-text\">JdbcPagingItemReaderBuilder</code>ë¡œ í‹€ì„ êµ¬ì„±í•˜ëŠ”ë° ì£¼ìš”ì„¤ì •ì€ 2ë¶€ë¶„ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤<br>\nReaderì˜ <code class=\"language-text\">Size</code>ì§€ì •ê³¼ <code class=\"language-text\">QueryProvider</code>ë¡œ Queryë¥¼ ì •ì˜í•©ë‹ˆë‹¤  </p>\n<br/>\n<p><strong>SizeëŠ” <code class=\"language-text\">PageSize</code>ì™€ <code class=\"language-text\">FetchSize</code> 2ê°€ì§€ê°€ ì¡´ì¬í•©ë‹ˆë‹¤</strong><br>\nì„œë¡œ ë‹¤ë¥¸ì˜ë¯¸ë¥¼ ê°€ì§€ë©° ê°™ì€ í¬ê¸°ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë¼ <code class=\"language-text\">chunkSize</code>ë¥¼ ë˜‘ê°™ì´ ì§€ì •í•˜ì˜€ìŠµë‹ˆë‹¤<br>\nê´€ë ¨í•´ì„œ ìì„¸í•œ ì‚¬í•­ì€ ì´ì „ í¬ìŠ¤íŒ…ì„ ì°¸ê³ í•´ì£¼ì„¸ìš” ğŸ‘‰ <a href=\"https://renuevo.github.io/spring/batch/spring-batch-chapter-1/#page-size-%EC%99%80-chunk-size\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Chunk Sizeì™€ Paging Size</a>  </p>\n<br/>\n<p><code class=\"language-text\">QueryProvider</code>ëŠ” <code class=\"language-text\">queryProviderFactoryBean</code>ë¡œ ì§€ì •í•´ ì¤ë‹ˆë‹¤<br>\nì¿¼ë¦¬ì˜ ê¸°ë³¸êµ¬ì¡°ë¡œ <code class=\"language-text\">setFromClause</code>, <code class=\"language-text\">setFromClause</code>, <code class=\"language-text\">setWhereClause</code>ì„¤ì •í•˜ì—¬ ì¿¼ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤<br>\n<code class=\"language-text\">JPQL</code>ë¡œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ì˜€ê³  ê´€ë ¨ ìœ ë™ì  ParameterëŠ” parameterValuesë¥¼ í†µí•´ ì§€ì •í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤   </p>\n<br/>\n<p><strong>ê·¸ë¦¬ê³  PagingItemReaderì˜ <span class='red_font'>í•„ìˆ˜ìš”ì†Œ</span>ì¸ <code class=\"language-text\">Sorting</code>ì´ í•„ìš”í•©ë‹ˆë‹¤</strong><br>\n<code class=\"language-text\">setSortKeys</code>ë¥¼ í†µí•´ ì •ë ¬ì„ ì„¤ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ PagingItemReaderì˜ ìƒì„±ì´ ëì´ ë‚©ë‹ˆë‹¤  </p>\n<br/>\n<p>ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•˜ë©´ ì •ìƒì ìœ¼ë¡œ Payë¥¼ ì½ì–´ì„œ ì¶œë ¥ë©ë‹ˆë‹¤  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.409961685823754%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAkUlEQVQI1zWPbRKDIAxEvU2/1CIQQgA71fb+V9qSVH+8eSST2VkG7xlMGYUFOWW0LHiVAoqMZ2gg2ZHKx4h5s3n2BaPLuDwCrmM0nwyzS1h8QggMDVfHqO+EaZEeWg/aQYWLrbNasHKfE24TmQffA7SNtlJWEZTeMoQe2I9JNiy0mgO/wfULKrtZW587rv9f/ADLWWGhWOgEqwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jdbcPagingItemReader\"\n        title=\"jdbcPagingItemReader\"\n        src=\"/static/6270f730bc9a372dffa16cd0eb9641c0/36727/jdbcPagingItemReader.png\"\n        srcset=\"/static/6270f730bc9a372dffa16cd0eb9641c0/acf4b/jdbcPagingItemReader.png 173w,\n/static/6270f730bc9a372dffa16cd0eb9641c0/fc834/jdbcPagingItemReader.png 345w,\n/static/6270f730bc9a372dffa16cd0eb9641c0/36727/jdbcPagingItemReader.png 690w,\n/static/6270f730bc9a372dffa16cd0eb9641c0/17fa4/jdbcPagingItemReader.png 1035w,\n/static/6270f730bc9a372dffa16cd0eb9641c0/cac76/jdbcPagingItemReader.png 1044w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n    </span>  </p>\n<br/>\n<hr>\n<h3 id=\"2-jpapagingitemreader\"><a href=\"#2-jpapagingitemreader\" aria-label=\"2 jpapagingitemreader permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. JpaPagingItemReader</h3>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ì•Œì•„ë³¼ <code class=\"language-text\">JpaPagingItemReader</code>ì…ë‹ˆë‹¤ <a href=\"https://github.com/renuevo/spring-boot-in-action/blob/master/spring-boot-batch-in-action/src/main/java/com/github/renuevo/config/JpaPagingItemReaderJobConfig.java\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Code</a><br>\nì•ì„œ ë³¸ JdbcPagingItemReader ë³´ë‹¤ ì§ê´€ì ì´ì—¬ì„œ ì €ëŠ” ì´ ë°©ë²•ì„ ë” ì„ í˜¸í•©ë‹ˆë‹¤  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">JpaPagingItemReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">jpaPagingItemReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JpaPagingItemReaderBuilder</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jpaPagingItemReader\"</span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">                <span class=\"token punctuation\">.</span><span class=\"token function\">entityManagerFactory</span><span class=\"token punctuation\">(</span>entityManagerFactory<span class=\"token punctuation\">)</span> <span class=\"token comment\">//DataSourceê°€ ì•„ë‹Œ EntityManagerFactoryë¥¼ í†µí•œ ì ‘ê·¼  </span></span>                <span class=\"token punctuation\">.</span><span class=\"token function\">pageSize</span><span class=\"token punctuation\">(</span>chunkSize<span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">                <span class=\"token punctuation\">.</span><span class=\"token function\">queryString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT p FROM Pay p WHERE amount >= 2000 ORDER BY id ASC\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//ORDER ì¡°ê±´ì€ í•„ìˆ˜!  </span></span>                <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë‹¤ìŒê³¼ ê°™ì´ ê°„í¸í•˜ê²Œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>\n<span class='red_font'>ì£¼ì˜í•  ì </span>ì¸ <code class=\"language-text\">ì •ë ¬ì¡°ê±´</code> ì¶”ê°€ë§Œ ì•ˆ ìŠìœ¼ë©´ ë©ë‹ˆë‹¤   </p>\n<br/>\n<hr>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ì¶”ê°€ì ìœ¼ë¡œ <code class=\"language-text\">JpaRepository</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤<br>\nì¼ë°˜ì ìœ¼ë¡œ ItemReaderë¥¼ ë”°ë¡œ êµ¬í˜„í•´ì„œ Repositoryë¥¼ ì‚¬ìš©í•  ê²½ìš° ì¼ë°˜ì ìœ¼ë¡œ <code class=\"language-text\">new ListItemReader&lt;&gt;(jpaRepository.findByAmount(amount))</code>ì™€ ê°™ì´ êµ¬í˜„ í•  ê²½ìš°\n<span class='red_font'>Batchì˜ ì¥ì ì¸ Pagingì„ ì²˜ë¦¬í•˜ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤</span><br>\nê·¸ë˜ì„œ JpaRepository êµ¬í˜„ì´ í•„ìš”í•˜ì‹ ë¶„ì€ ê¸°ë³¸ì ìœ¼ë¡œ Pagingì´ ì§€ì›ë˜ëŠ” <code class=\"language-text\">RepositoryItemReader</code>ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤ <a href=\"https://stackoverflow.com/questions/43003266/spring-batch-with-spring-data/43986718#43986718\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RepositoryItemReader Example</a>  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RepositoryItemReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">reader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">RepositoryItemReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Pay</span><span class=\"token punctuation\">></span></span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RepositoryItemReader</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        reader<span class=\"token punctuation\">.</span><span class=\"token function\">setRepository</span><span class=\"token punctuation\">(</span>payRepository<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        reader<span class=\"token punctuation\">.</span><span class=\"token function\">setMethodName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"findAll\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        reader<span class=\"token punctuation\">.</span><span class=\"token function\">setSort</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collections</span><span class=\"token punctuation\">.</span><span class=\"token function\">singletonMap</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Sort</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Direction</span><span class=\"token punctuation\">.</span>ASC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> reader<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<hr>\n<h2 id=\"ê´€ë ¨-ì°¸ê³ \"><a href=\"#%EA%B4%80%EB%A0%A8-%EC%B0%B8%EA%B3%A0\" aria-label=\"ê´€ë ¨ ì°¸ê³  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê´€ë ¨ ì°¸ê³ </h2>\n<p><a href=\"https://stackoverflow.com/questions/43003266/spring-batch-with-spring-data/43986718#43986718\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RepositoryItemReader</a><br>\n<a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#database\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Batch Docs</a><br>\n<a href=\"https://stackoverflow.com/questions/28719836/spring-batch-problems-mix-data-when-converting-to-multithread\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Cursor-based ItemReader Thread Safe</a><br>\n<a href=\"https://github.com/benelog/spring-jdbc-tips/blob/master/spring-jdbc-core.md#beanpropertyrowmapper\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">spring-jdbc-tips</a><br>\n<a href=\"https://jojoldu.tistory.com/336\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ê¸°ì–µë³´ë‹¨ ê¸°ë¡ì„</a>  </p>","frontmatter":{"title":"[Spring] 3. Spring Batchì˜ ItemReader - DB Item Reader","date":"April 01, 2020"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/spring/batch/spring-batch-chapter-3/","previous":{"fields":{"slug":"/docker/docker-hello-world/"},"frontmatter":{"title":"[Docker] Docker ì‹œì‘í•˜ê¸° - Hello Worldì™€ Git Bash","category":"Docker"}},"next":{"fields":{"slug":"/elastic/autocomplete/elastic-autocomplete-1/"},"frontmatter":{"title":"[Elastic] 1. Elastic ìë™ì™„ì„± ê°€ì´ë“œ (Autocomplete Guide) - Prefix Queries","category":"Elastic"}}}}}