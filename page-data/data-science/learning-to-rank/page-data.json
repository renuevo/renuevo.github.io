{"componentChunkName":"component---src-templates-blog-post-js","path":"/data-science/learning-to-rank/","webpackCompilationHash":"eda9a9271bf97b59714d","result":{"data":{"site":{"siteMetadata":{"title":"renuevo blog","author":"deokhwa kim","siteUrl":"https://renuevo.github.io","comment":{"disqusShortName":"https-renuevo-github-io","utterances":""},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"07f81f8f-1895-5ad7-a697-bd968e40eb89","excerpt":"스코어 정렬에 머신러닝 알고리즘을 사용 \n(LTR Structure) LTR: Steps to take point wise (Regression) : score를 머신 러닝으로 생성\n   pair wise (RankNet, LambdaMART) : 2개씩 비교하며 order를 분류\n   list wise (List Net) : 전체리스트를 한번에 분류 \n   Judgement List (판단 리스트) model 생성 1. 모델의 features…","html":"<h4 id=\"스코어-정렬에-머신러닝-알고리즘을-사용\"><a href=\"#%EC%8A%A4%EC%BD%94%EC%96%B4-%EC%A0%95%EB%A0%AC%EC%97%90-%EB%A8%B8%EC%8B%A0%EB%9F%AC%EB%8B%9D-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%EC%9D%84-%EC%82%AC%EC%9A%A9\" aria-label=\"스코어 정렬에 머신러닝 알고리즘을 사용 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스코어 정렬에 머신러닝 알고리즘을 사용</h4>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">TF-IDF와 BM25가 검색결과를 도출하는 하고 상관없는 문서를 빼는것에 초점을 둔 반면 LTR은 문서의 정렬을 하는 것에 초점을 두고 있다\nTF-IDF와 BM25와 같은 알고리즘의 고도화로 불필요한 doc는 제거가 잘되고 있으니, 무엇을 먼저 보여줄것인가로 관점이 이동했다고 보면 된다</code></pre></div>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 250px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAARlAAAEZQAGA43XUAAACTUlEQVQ4y22U6Y7iQAyE8/4PhcTALwQjWK4EWAgkQMJ93+DNZ2Q2E42lqC+7usp2x3m9XoKFYSi5XE48zxOz2+0mq9VKttutbDYbHVfLpVwuF3k+n7JYLHRvt9vJer1WH4cDA+z1enI8HvXDcIxnM1kuF+q8TMAs8Hq9ShzH0ul05E+9LkEQyuFwEIfA+/0u8/lcms2GdLtdWSVBBogjQf3BQFqttoxGIwU8n8/KEBJfXwWd46+AyPqbHPj+QNqtloTjsQIijWDG6XSqDAg6nU7yeDyULUSKxaJK53MkZdyO428GE2SaWe6xIAg+c81hFEXKpFQq6SG3woQ9pJA7WMASNayx/X6vbMk/eWftIAeH4/GgQARQXeazWfwpBPvv83UCHInruuIlX7Vale/vitSTwkRRLA7JxZkgWgaGSHsDzmQ4HMpkMlEVg4Gv5+PxRGq1mvqwLpfL0vE6b4ZUmADk0QZINKbGDuBKpfLut2QfHww/5vQvsax/FIUqckvW2O/3+z+KoZWP3jlFPpcrIA7W3BwihRxagxMIw2x1SVUYBklTN6TRaEq77f4HNEf6iGDSACgjgFxkLZMGhHW1WtPcu66n1f4AIgvA3wxwJJmSz+tavJ9kPp/X3OLzAaSfYAMwUlkzsoYNa0CyTU0MzPDRxk4D2pxAPl6NsSIwC0gH2I+EUd+yHbJhwafkNhqWp2gGgywgLUMefd+XUdKv+vuyQ5KOPFvDzt519sxGWmyYgBUKRb1cGzvtYIEcwMjeZzodjOlLKSQvB7ko/Afyb17f+XC0OwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LTR Structure\"\n        title=\"LTR Structure\"\n        src=\"/static/9b9a4a98571637a3b665ebeecfef7caa/5039d/MLR-search-engine-example.png\"\n        srcset=\"/static/9b9a4a98571637a3b665ebeecfef7caa/acf4b/MLR-search-engine-example.png 173w,\n/static/9b9a4a98571637a3b665ebeecfef7caa/5039d/MLR-search-engine-example.png 250w\"\n        sizes=\"(max-width: 250px) 100vw, 250px\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class=\"img_caption\"><strong><em>(LTR Structure)</em></strong></span></p>\n<hr>\n<h3 id=\"ltr-steps-to-take\"><a href=\"#ltr-steps-to-take\" aria-label=\"ltr steps to take permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LTR: Steps to take</h3>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">1. Create Judgement List\n2. Define features for the model\n3. Log features during usage\n4. Training and testing the model\n5. Deploying and using the model\n6. Feedback loop</code></pre></div>\n<br/>\n<ul>\n<li><strong>point wise (Regression)</strong> : score를 머신 러닝으로 생성\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 641px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.180967238689547%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABSklEQVQY01XPaytDcQDH8b0WyrCQ+y3OyHVImtmxcc75n7GNhVrMRk6OzWUmQ3KriXSiUF4Ir+nrbx7Ig9/TT7+vy0y+oCUdfJE7howrBsQl/eKCPnGOIk7pESd0izyd4pB2sU+LkaVZ2DSaFvXmNnVCzszgMdPUGilckXcDNXNGaMUhlHwguuMwsXyDohfxiuI/sM3I0azv0TC7jyeQpSZo4w5YVActKqe3cc+lcS19DqLaR0Q33zEzTyzvPjOZuKVXP5Xg38MOCXYvykXyjBQXUF8DjJemmHlRGSv50T5CNK3HJfg1UAYXNt7QUo/ELEeCN2VQ+Qce0BPL0xst4LUTjF5qeI/DDF/oKIUwvmuN+tUELvXexL9+RnjNIbhWQpfoWPwKxSiimD9ggS5xVH7Yqudo0m2ZnKN2JitTf5PdqkXF9BZV82m+AVNN3BRnIf9bAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"point_wise\"\n        title=\"point_wise\"\n        src=\"/static/53563b9a7bff3ef3290c34d8e160b944/4bc72/point_wise.png\"\n        srcset=\"/static/53563b9a7bff3ef3290c34d8e160b944/acf4b/point_wise.png 173w,\n/static/53563b9a7bff3ef3290c34d8e160b944/fc834/point_wise.png 345w,\n/static/53563b9a7bff3ef3290c34d8e160b944/4bc72/point_wise.png 641w\"\n        sizes=\"(max-width: 641px) 100vw, 641px\"\n        loading=\"lazy\"\n      />\n    </span>  </li>\n</ul>\n<br/>\n<ul>\n<li><strong>pair wise (RankNet, LambdaMART)</strong> : 2개씩 비교하며 order를 분류\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 640px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.34375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABJklEQVQY0x3PyUoCAQCAYZ8mwlCMUiFC0sxGMyHF5dIsLjPaQclxxQpGUYQyW7RcaKNbBx+hoEOHoGf6G3yBn++3JCYFCr8C4WqHTPUDsf5G8vSJaHGKL3OD2HohUhoRrYwRikPc6R7OdJtNrYlDreHQqthVHbumY83qWJKzPMW/oBk0SJy8EylMlsFEeY6g3ZOqzdnLD/FqV3jUPjvaAJ9+jvx1QGzhR/oMEV3son4fIsziWOIPBbSfIKGKQeB4jle8JaU/IzVfOSo9EitP8OYGuKQeLrmLU+6woRimsMV6rrFU2nNVbKbSmjGF4XKXw3bF1AwRlCmB9Jj97Ah/5g6PfI0nPWBbuWRL6eNWzF3FDMptHKKBTbpgTTzDKrVYFRusiHX+ARVdsYD6AxpxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pair_wise\"\n        title=\"pair_wise\"\n        src=\"/static/a6534d3f399119aece48020115b62289/e49a9/pair_wise.png\"\n        srcset=\"/static/a6534d3f399119aece48020115b62289/acf4b/pair_wise.png 173w,\n/static/a6534d3f399119aece48020115b62289/fc834/pair_wise.png 345w,\n/static/a6534d3f399119aece48020115b62289/e49a9/pair_wise.png 640w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        loading=\"lazy\"\n      />\n    </span>  </li>\n</ul>\n<br/>\n<ul>\n<li><strong>list wise (List Net)</strong> : 전체리스트를 한번에 분류\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 634px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.977917981072554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGklEQVQY0z3OyUoCAQCAYZ8mIgtRG2wxIshBC4maXIJmnKV0tEBHzQwjcIsoIxDTMk26BdGx6Bx06aX+tKQX+Phskewd+9UukUwfUWvj01uIRgvfXpNl7YYl7Rqvdsm8doFHO0fQarjVCg6lzIxyhl0+ZSpWYlI+YUI5xhZ5ipH4FvFbVUSly1q8zU7ukWi+hxhvjsGrf3BWreJSywjJEm6ziNM8wmHmcSRzTCey2KJ9g8OvDQJWDZ9yTyjTY7cwQC4O2Ex3WFQbePU/cE6rs2I2WM2VUd4ltl/9yG8bSC8B9I8tpGcJW7hnEP8M/g5HYDDVIWz1CFkPrB/c4h2Bw+HCeOjR6whGBSFVwDVcOZPZ4c7CkUpjN9P8AFn3sEh5B7Y3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"list_wise\"\n        title=\"list_wise\"\n        src=\"/static/50494b7d84a17514b2336bd89d3ec05b/24a49/list_wise.png\"\n        srcset=\"/static/50494b7d84a17514b2336bd89d3ec05b/acf4b/list_wise.png 173w,\n/static/50494b7d84a17514b2336bd89d3ec05b/fc834/list_wise.png 345w,\n/static/50494b7d84a17514b2336bd89d3ec05b/24a49/list_wise.png 634w\"\n        sizes=\"(max-width: 634px) 100vw, 634px\"\n        loading=\"lazy\"\n      />\n    </span>  </li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"judgement-list-판단-리스트\"><a href=\"#judgement-list-%ED%8C%90%EB%8B%A8-%EB%A6%AC%EC%8A%A4%ED%8A%B8\" aria-label=\"judgement list 판단 리스트 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Judgement List (판단 리스트)</h3>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">grade,keywords,movie\n4,Rambo,First Blood     # Exactly Relevant\n4,Rambo,Rambo\n3,Rambo,Rambo III       # Fairly Relevant\n3,Rambo,Rambo First Blood Part II\n2,Rambo,Rocky           # Tangentially Relevant\n2,Rambo,Cobra\n0,Rambo,Bambi           # Not even close...\n0,Rambo,First Daughter</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">grade,keywords,docId\n4,rambo,7555\n3,rambo,1370\n3,rambo,1369\n4,rocky,4241</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\"># grade (0-4)queryiddocIdtitle\n#\n# Add your keyword strings below, the feature script will\n# Use them to populate your query templates\n#\n# qid:1: rambo\n# qid:2: rocky\n# qid:3: bullwinkle\n#\n# https://sourceforge.net/p/lemur/wiki/RankLib%20File%20Format/\n#\n#\n4qid:1 #7555Rambo\n3qid:1 #1370Rambo III\n3qid:1 #1369Rambo: First Blood Part II\n3qid:1 #1368First Blood\n0qid:1 #136278Blood\n0qid:1 #102947First Daughter\n0qid:1 #13969First Daughter\n0qid:1 #61645First Love\n0qid:1 #14423First Sunday\n0qid:1 #54156First Desires\n4qid:2 #1366Rocky\n3qid:2 #1246Rocky Balboa\n3qid:2 #60375Rocky VI\n3qid:2 #1371Rocky III\n3qid:2 #1375Rocky V\n3qid:2 #1374Rocky IV\n0qid:2 #110123Incredible Rocky Mountain Race\n0qid:2 #17711The Adventures of Rocky &amp; Bullwinkle\n0qid:2 #36685The Rocky Horror Picture Show\n4qid:3 #17711The Adventures of Rocky &amp; Bullwinkle\n0qid:3 #1246Rocky Balboa\n0qid:3 #60375Rocky VI\n0qid:3 #1371Rocky III\n0qid:3 #1375Rocky V\n0qid:3 #1374Rocky IV</code></pre></div>\n<hr>\n<h3 id=\"model-생성\"><a href=\"#model-%EC%83%9D%EC%84%B1\" aria-label=\"model 생성 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>model 생성</h3>\n<blockquote>\n<p><strong>1. 모델의 features 정의</strong></p>\n<blockquote>\n<p>검색 결과 및 대상의 따라 다르게 적용 할 수 있습니다<br>\n검색 대상이 공고와 같은 데이터라면 데이터의 단어의 빈도수, 본문 내용, 직종분류등등  만약 검색 대상이 사진이라면 픽셀등으로 일반적인 머신러닝 모델링처럼 구성</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p><strong>2. log 데이터를 활용</strong></p>\n<blockquote>\n<p>로그 데이터를 활용하여 query에 대한 클릭 이벤트 같은 데이터로 모델 구성<br>\n이후 검색시 같은 쿼리의 대한 클릭에 대하여 모델링 활용</p>\n</blockquote>\n</blockquote>\n<br/>\n<h3 id=\"search-example\"><a href=\"#search-example\" aria-label=\"search example permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Search Example</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">POST tmdb/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"sltr\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rambo\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token property\">\"model\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my_model\"</span><span class=\"token punctuation\">,</span> &lt;- 모델 지정\n          <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>해당 쿼리는 model을 돌리면서 전체의 대한 계속적인 비교작업으로 효율이 떨어짐</em></p>\n<br/>\n<h3 id=\"rescore-top-n\"><a href=\"#rescore-top-n\" aria-label=\"rescore top n permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rescore Top N</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">POST tmdb/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"match\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"_all\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rambo\"</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>        \n  <span class=\"token property\">\"rescore\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>   # 결과값 도출 이후 상위 <span class=\"token number\">1000</span>개의 대해서만 재정렬 진행\n      <span class=\"token property\">\"window_size\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"rescore_query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">\"sltr\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                      <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rambo\"</span>\n                  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                  <span class=\"token property\">\"model\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my_model\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<h3 id=\"training-results\"><a href=\"#training-results\" aria-label=\"training results permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Training results</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.43418013856812%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADO0lEQVQ4y02T7U9TZxiHmyxZsvlZE2Pcl2VzUMCXgqWnb3AK5W1sbsqUQStFpBQKbWlrW6CFvtFSKG9qxnCKKx0gLGJUpsu2v+3a3S5xfHhynvPlOr/rvn9Hczv0hLvxHe5Et7kd+Zle/wZfB9bpDW7QF3tEb3gN7WCMOkcMrTNKjTPCV44wl+R86QhVnx+OM4zmO98WE4t7uNMl3EtlvJsH9KefMFIsMbq+y2DhFxrGklz2LNDgmafOk0DrmaPWE6dmbE7ucbnLczxBzf0ZNCZnkeuOJRr7UlzJb6F7c8zVo0Pqfy2hlPe5tlOi4+h3Wg9eoB4cVI9pb5+Ww0Oay2V5f0HzbpmuV8c0Fh6iaXGtYR1ZxTyYQ7/xDOtfJ5j/PEFf+Imbomv0pOkIFjB7U7QHc9gCWay+JG2hRervRdBJuoaRCJ3RJZrkrrG6VrHcK2IcyGEobmM/Ocb2+iXG3CNuBuVDotsTKqC4E9im0tgDGayTCwLPUu8K0zQ2S50rRE+sgH78FNAwmMeW2aB/f4f+8lPMc3laPTl0w3OSMoV+NE57YBH7dBaLAG0CrBsOc80dk6RhuqJ5ro5G/wOaBaj8uIiy9pSO92+w/fEakyjfCKxgFlhPaBnLRBKLaHeKqnUqSWsgTf1wiOaJOFpXUD6Q5vqDzGlgFtP6M1SZn/r+BMvyFt8K0DKepie8jCq6bf4M38isKgmt/lRVVTc2wxcOH52zBYzzK6eAA5JwZZvuty/plhmaZIbfywytE5W5if5kGpsvIykFNrUgS8mIcohGz2xVuU8a0p5++D/QIFtWs5vcOtrl1v5z2lJFKXixqtz7YAVVgKovTft0BsWbQA1mqqpXRmNcFrDd5aXphyE0Flfxg3Lzqszw7Sts0kUl/5gb00WsotwtW64kbJlKCTRVrY1NgLVDApSl1Dp9XDx3jrMffyQJhwUoPawomzYl2T/vUP9+h7GyFAEq7mRV2VrpoXRQldlZRNkmypWl6DwzaId8fHbhAmfPfIrGPLSMcncJ/Z0UhtRj1NIe6vPfUBJrdHlzKPfnsftzspwFFPnVDNI7o/TNPCm/mtMvCSNcGhjn8/PnuXjmE/4FHwNBXyFJSPkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LTR_traning_result\"\n        title=\"LTR_traning_result\"\n        src=\"/static/d59914f622d612614677f283ff078ecd/36727/LTR_traning_result.png\"\n        srcset=\"/static/d59914f622d612614677f283ff078ecd/acf4b/LTR_traning_result.png 173w,\n/static/d59914f622d612614677f283ff078ecd/fc834/LTR_traning_result.png 345w,\n/static/d59914f622d612614677f283ff078ecd/36727/LTR_traning_result.png 690w,\n/static/d59914f622d612614677f283ff078ecd/843d0/LTR_traning_result.png 866w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<hr>\n<h3 id=\"관련-참조\"><a href=\"#%EA%B4%80%EB%A0%A8-%EC%B0%B8%EC%A1%B0\" aria-label=\"관련 참조 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관련 참조</h3>\n<p><a href=\"https://github.com/o19s/elasticsearch-learning-to-rank\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/o19s/elasticsearch-learning-to-rank</a><br>\n<a href=\"https://elasticsearch-learning-to-rank.readthedocs.io/en/latest/logging-features.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://elasticsearch-learning-to-rank.readthedocs.io/en/latest/logging-features.html</a><br>\n<a href=\"https://www.youtube.com/watch?v=TG7aNLgzIcM\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=TG7aNLgzIcM</a><br>\n<a href=\"http://perpetual.tistory.com/67\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://perpetual.tistory.com/67</a><br>\n<a href=\"http://4four.us/article/2009/10/what-is-learning-to-rank\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://4four.us/article/2009/10/what-is-learning-to-rank</a><br>\n<a href=\"https://inyl.github.io/search_engine/2017/02/18/solr_learning_to_rank.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://inyl.github.io/search_engine/2017/02/18/solr_learning_to_rank.html</a>  </p>","frontmatter":{"title":"[DataScience] LTR(Learning To Rank)","date":"October 05, 2018"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/data-science/learning-to-rank/","previous":{"fields":{"slug":"/elastic/elastic-spring-resttemplate/"},"frontmatter":{"title":"[Elastic] RestTemplate Elastic 통신","category":"Elastic"}},"next":{"fields":{"slug":"/spring/spring-aop/"},"frontmatter":{"title":"[Spring] Spring AOP란?","category":"Spring"}}}}}