{"componentChunkName":"component---src-templates-blog-post-js","path":"/data-science/learning-to-rank/","result":{"data":{"site":{"siteMetadata":{"title":"renuevo blog","author":"deokhwa kim","siteUrl":"https://renuevo.github.io","comment":{"disqusShortName":"https-renuevo-github-io","utterances":""},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"92f29dd6-3f06-5c3d-825c-eedf203cf5fa","excerpt":"스코어 정렬에 머신러닝 알고리즘을 사용 \n(LTR Structure) LTR: Steps to take point wise (Regression) : score를 머신 러닝으로 생성\n   pair wise (RankNet, LambdaMART) : 2개씩 비교하며 order를 분류\n   list wise (List Net) : 전체리스트를 한번에 분류 \n   Judgement List (판단 리스트) model 생성 1. 모델의 features…","html":"<h4 id=\"스코어-정렬에-머신러닝-알고리즘을-사용\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EC%BD%94%EC%96%B4-%EC%A0%95%EB%A0%AC%EC%97%90-%EB%A8%B8%EC%8B%A0%EB%9F%AC%EB%8B%9D-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%EC%9D%84-%EC%82%AC%EC%9A%A9\" aria-label=\"스코어 정렬에 머신러닝 알고리즘을 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스코어 정렬에 머신러닝 알고리즘을 사용</h4>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">TF-IDF와 BM25가 검색결과를 도출하는 하고 상관없는 문서를 빼는것에 초점을 둔 반면 LTR은 문서의 정렬을 하는 것에 초점을 두고 있다\nTF-IDF와 BM25와 같은 알고리즘의 고도화로 불필요한 doc는 제거가 잘되고 있으니, 무엇을 먼저 보여줄것인가로 관점이 이동했다고 보면 된다</code></pre></div>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.90751445086705%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAARlAAAEZQAGA43XUAAACSUlEQVQ4y22UiW7iQAyG8/4PhUCoKwErsgu0hDMFyg0h3DfufEZGAWFpNBnH/v37mPFut5sgYRhKOp2WVqslJrvdTmazmSyXS1ksFrpPp1M5HA5yPp9lNBrJfD7XhR4b73q9qnOn05Fer6fG+/1edctlLJPJRMbjsXOK3D6RKIpkvV6rDcG+qlXx/X8ydnboPWMyGAykVPovlUpFIyE4d7tdx7op7XYotVpdA+O43W41WFANJJvNShzHGsBLOvZ/evLtUp+6H8jxeNRgp9PJsRs9nUl5s9koaC6XU8acPUlIENTkcrnIq+BcKpcV8J0Mh8PHt0c00oWl7/taLxYNoNjoKXihUNCUTIfwTXkogzXOoxar1UoXkXCCJalM3WLHEf1wONL9p993wYvSaNSlWPTlrwv2+fmlXVdAbb0zbDabCkqdYDlxi9piyNI6O7B+f+AaVFNG6PL5gmPZVebeveD3FG2uYAHjKFpoRylJPp/XQIDQUcRGKpVKPWbxqSmAwPhVAMA5KVvXUbJBz2WAnabMTbHhvs9iSbvJCNiCBYKt3SwC04yiG2p8giBQO88MGA3SJkUC0Bh2wNFzgwwUIRA1L5crWs+mY9lx9XwAWqffCUNLSmabJBDHC8lkMsqY8wPQbgCR+cmZHcZ2Q2zok8D2gFgGT4DJ6LBiT7J8BQQIP84E1schWWT7XjuW3JrklXrHkA436nV9NHgDngBJCwVOprOuAmYZJDtNecKwLR8ff3RksPGSEe0FsefJvq0+r4AEp5Gkbhn+Ana1Xua3aJgaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LTR Structure\"\n        title=\"LTR Structure\"\n        src=\"/static/9b9a4a98571637a3b665ebeecfef7caa/63868/MLR-search-engine-example.png\"\n        srcset=\"/static/9b9a4a98571637a3b665ebeecfef7caa/991de/MLR-search-engine-example.png 173w,\n/static/9b9a4a98571637a3b665ebeecfef7caa/63868/MLR-search-engine-example.png 250w\"\n        sizes=\"(max-width: 250px) 100vw, 250px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class=\"img_caption\"><strong><em>(LTR Structure)</em></strong></span></p>\n<hr>\n<h3 id=\"ltr-steps-to-take\" style=\"position:relative;\"><a href=\"#ltr-steps-to-take\" aria-label=\"ltr steps to take permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LTR: Steps to take</h3>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">1. Create Judgement List\n2. Define features for the model\n3. Log features during usage\n4. Training and testing the model\n5. Deploying and using the model\n6. Feedback loop</code></pre></div>\n<br/>\n<ul>\n<li><strong>point wise (Regression)</strong> : score를 머신 러닝으로 생성\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 641px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.277456647398846%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQ0lEQVQY023Pay9CYQDA8T6LF1jmmlxHqDGbMSqn0uV5Tk1buWSzSMShk0UKs4Y2FtIwvor5RH8nL7wwX+C3/Uwy8Upw45mZSIVJUcYhrpgQl4zLC2yyxIgsMCzzDMpj+qWOVRxhkRrdaoZONU2HTNMuU7Sp25hFElP4LYJn9wzvSg1l/Z5I+om5+A22UImxP2Cf0LGIQ7p8OmZXFrOi0ezap1XJ0ORM0+LfxhT7dKDoBywnP1BTj8S1Ogtrt4wGiwZY/AUHDHAokmNIzWPXY7hrXqbLbpwPfqbKi3hfAvQmo5jiX3Y8OY3w5jvBZJXoXo2F1f/BkWiesWiB8cM4s3c+7OcKMxU/ExcK89UlejYN0PcUwpk6IZCooyTuEFtVZmPXP2Wb2gBPf0GryNIT0uj0GV33kVFtlDO0NMquHZr9Kb4BVuncQVGAiz4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"point_wise\"\n        title=\"point_wise\"\n        src=\"/static/53563b9a7bff3ef3290c34d8e160b944/c7dcc/point_wise.png\"\n        srcset=\"/static/53563b9a7bff3ef3290c34d8e160b944/991de/point_wise.png 173w,\n/static/53563b9a7bff3ef3290c34d8e160b944/e4d6b/point_wise.png 345w,\n/static/53563b9a7bff3ef3290c34d8e160b944/c7dcc/point_wise.png 641w\"\n        sizes=\"(max-width: 641px) 100vw, 641px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>  </li>\n</ul>\n<br/>\n<ul>\n<li><strong>pair wise (RankNet, LambdaMART)</strong> : 2개씩 비교하며 order를 분류\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.54335260115607%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABZUlEQVQY0x2Q4UsacQBA72/ZYK1cDGkWbjBnotVQ0ry8vLO7+6kJhpgyxbxKzCnmNqbzopG3bGNzgZ9j/97b4Yf39cF7UrYxI3k8JWLeEBbXBI0x74wRQTEiIL7yxvzMht7Hp3fxmT3WRZc10cFrtnkpLlg1z1wsPKLJstlASv8oEM//5Ohshly+I1W5Q644BLNDDuoOcu2W6InN7gebt4UB3sNLvHqHVa2NJ9NiWTt3sVjKWDxV60jKL42YmJK3frNXclBrU/arDgFzSMqVxcrX7JRGRCvfCBY/ESoOCZ02UR/jxP9G2Z8nkOe7xP/EEP8UJO1BJaw6bOVu2DRstPo9h4175OoEpT4hWrYXya/0Hhuihz97hb9k8X6cY3OgE/piuOgErjJsjQ2kpF0knJmwnfu+eJg8cUiUb4kUxuwc24QKQ16LAX7RXwjXTPef/pEXSpeVdIfnSpulgxbP0hc8SVn8B8u23KglPEUXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pair_wise\"\n        title=\"pair_wise\"\n        src=\"/static/a6534d3f399119aece48020115b62289/6af66/pair_wise.png\"\n        srcset=\"/static/a6534d3f399119aece48020115b62289/991de/pair_wise.png 173w,\n/static/a6534d3f399119aece48020115b62289/e4d6b/pair_wise.png 345w,\n/static/a6534d3f399119aece48020115b62289/6af66/pair_wise.png 640w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>  </li>\n</ul>\n<br/>\n<ul>\n<li><strong>list wise (List Net)</strong> : 전체리스트를 한번에 분류\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 634px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.809248554913296%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABF0lEQVQY022Py0oCAQAA92d6WCGBiWkGFSk+iKJdDVu13cVMD0ur7qqIUW4PAhUPWqY9pFMEXYQ+oEv3/mgSTx06zHWYEeKVDpl2i1jhgaDSJ6D1CGXvJvTY0Dqsq238ahOveotHvcGtXuFSbJyyzVLyAod8xnyyzqxcY0auIsRfj8j/bBE2zwmmh0RzfRLmCwnrmVCu+69wRWvgtyy8psGqdYrb1PGUdVxFHeFgeIz+vUek1CCQGhAznkiWR6QqI8TCgDWlhV9r4psKr9nMNdkuXiKPY0gfEQ7Hu4jvUdKf+4hvEoLUz5L52iFctAmkB0RO7pGMR0RjSCjfndS1poW+v8uqzbJSx6nUWFSqLKgVHIrJnFLiF38NsDThPo/nAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"list_wise\"\n        title=\"list_wise\"\n        src=\"/static/50494b7d84a17514b2336bd89d3ec05b/374ac/list_wise.png\"\n        srcset=\"/static/50494b7d84a17514b2336bd89d3ec05b/991de/list_wise.png 173w,\n/static/50494b7d84a17514b2336bd89d3ec05b/e4d6b/list_wise.png 345w,\n/static/50494b7d84a17514b2336bd89d3ec05b/374ac/list_wise.png 634w\"\n        sizes=\"(max-width: 634px) 100vw, 634px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>  </li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"judgement-list-판단-리스트\" style=\"position:relative;\"><a href=\"#judgement-list-%ED%8C%90%EB%8B%A8-%EB%A6%AC%EC%8A%A4%ED%8A%B8\" aria-label=\"judgement list 판단 리스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Judgement List (판단 리스트)</h3>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">grade,keywords,movie\n4,Rambo,First Blood     # Exactly Relevant\n4,Rambo,Rambo\n3,Rambo,Rambo III       # Fairly Relevant\n3,Rambo,Rambo First Blood Part II\n2,Rambo,Rocky           # Tangentially Relevant\n2,Rambo,Cobra\n0,Rambo,Bambi           # Not even close...\n0,Rambo,First Daughter</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\">grade,keywords,docId\n4,rambo,7555\n3,rambo,1370\n3,rambo,1369\n4,rocky,4241</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"textbox\"><pre class=\"language-textbox\"><code class=\"language-textbox\"># grade (0-4)queryiddocIdtitle\n#\n# Add your keyword strings below, the feature script will\n# Use them to populate your query templates\n#\n# qid:1: rambo\n# qid:2: rocky\n# qid:3: bullwinkle\n#\n# https://sourceforge.net/p/lemur/wiki/RankLib%20File%20Format/\n#\n#\n4qid:1 #7555Rambo\n3qid:1 #1370Rambo III\n3qid:1 #1369Rambo: First Blood Part II\n3qid:1 #1368First Blood\n0qid:1 #136278Blood\n0qid:1 #102947First Daughter\n0qid:1 #13969First Daughter\n0qid:1 #61645First Love\n0qid:1 #14423First Sunday\n0qid:1 #54156First Desires\n4qid:2 #1366Rocky\n3qid:2 #1246Rocky Balboa\n3qid:2 #60375Rocky VI\n3qid:2 #1371Rocky III\n3qid:2 #1375Rocky V\n3qid:2 #1374Rocky IV\n0qid:2 #110123Incredible Rocky Mountain Race\n0qid:2 #17711The Adventures of Rocky &amp; Bullwinkle\n0qid:2 #36685The Rocky Horror Picture Show\n4qid:3 #17711The Adventures of Rocky &amp; Bullwinkle\n0qid:3 #1246Rocky Balboa\n0qid:3 #60375Rocky VI\n0qid:3 #1371Rocky III\n0qid:3 #1375Rocky V\n0qid:3 #1374Rocky IV</code></pre></div>\n<hr>\n<h3 id=\"model-생성\" style=\"position:relative;\"><a href=\"#model-%EC%83%9D%EC%84%B1\" aria-label=\"model 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>model 생성</h3>\n<blockquote>\n<p><strong>1. 모델의 features 정의</strong></p>\n<blockquote>\n<p>검색 결과 및 대상의 따라 다르게 적용 할 수 있습니다<br>\n검색 대상이 공고와 같은 데이터라면 데이터의 단어의 빈도수, 본문 내용, 직종분류등등  만약 검색 대상이 사진이라면 픽셀등으로 일반적인 머신러닝 모델링처럼 구성</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p><strong>2. log 데이터를 활용</strong></p>\n<blockquote>\n<p>로그 데이터를 활용하여 query에 대한 클릭 이벤트 같은 데이터로 모델 구성<br>\n이후 검색시 같은 쿼리의 대한 클릭에 대하여 모델링 활용</p>\n</blockquote>\n</blockquote>\n<br/>\n<h3 id=\"search-example\" style=\"position:relative;\"><a href=\"#search-example\" aria-label=\"search example permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Search Example</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">POST tmdb/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"sltr\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rambo\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token property\">\"model\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my_model\"</span><span class=\"token punctuation\">,</span> &lt;- 모델 지정\n          <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>해당 쿼리는 model을 돌리면서 전체의 대한 계속적인 비교작업으로 효율이 떨어짐</em></p>\n<br/>\n<h3 id=\"rescore-top-n\" style=\"position:relative;\"><a href=\"#rescore-top-n\" aria-label=\"rescore top n permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rescore Top N</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">POST tmdb/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"match\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"_all\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rambo\"</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>        \n  <span class=\"token property\">\"rescore\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>   # 결과값 도출 이후 상위 <span class=\"token number\">1000</span>개의 대해서만 재정렬 진행\n      <span class=\"token property\">\"window_size\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"rescore_query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">\"sltr\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                      <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rambo\"</span>\n                  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                  <span class=\"token property\">\"model\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my_model\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<h3 id=\"training-results\" style=\"position:relative;\"><a href=\"#training-results\" aria-label=\"training results permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Training results</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.16184971098265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADOklEQVQ4y1WS60+bZRjGG+MnD4kmhmQm+kk3x3krgULfnimOgzMbjOAohUJpKePQ0tKWUlZKjxwKpoPhJAyo47DgJoqIM8Z/7ef9ghH9cOfO++TJ772u67k0juhzvKkXuBI79M9t8yC0Qef0Ot3RDQYSz+iKFrn5MEKlI0qFI8JNR5gvekNc7w1ejePy+0bfNJq7Y08Zmi/RH99mIF9ieOOIzswWjrU9nMUSXctb1Aay3ApkqJ1KUx1IURVYoPKfqZ5KXeyaYJpy3xwag7NAfd8idQ/kcHUL7W8n3PrpR6r2Sig/HKDd3qX15TGW/UOaD4+wHhxi3D/AcvQSndxRz9Xd9vo12sy3aMyuNUzuVQyOHPXru5j/OEN58yuN2Q26AgX07nnu+PMonsfYJ9JYx5KYHiWwTYpCZ5Db7hmqB0LcCWXRemJoTK5VjEMFmnpz6Ne2aD19hf3kGCVd5F5wFf1IkrbQEo3eOez+DPapDOaJJDaxWDUYps43K3uajtkl6kZmr4CNorA5/4Rvjnbp2d9GieWx+nJoXXGU0QUaPAKULO2BNCYBWiTPSgHd9s5Q4w7TGs1ROxy9BBpUhQ8zND3ZpUXsWs5PMeSfcm9qBaPAvgqvYBgVq+MLtIZyFwpN/gVRFqLhUZwKVxBrMEV9NPt/oCIZ2t6cYT0/w5jf5OuACkzRPr2MZTwl6jK0h/MYJ+Yx+pNUukJoR2Jc7/PT/ngFfWL5CtjYm0VZ+56OX17RIRkaJMP7kqEK/HJqEfPYAjZ/GmUsgWkyeaFIVagCa9wRuhef0Zwq/gcoGVoX1+k6fsH9wz1syQId8soGX5K7kYIovATaJTu9QC3SP9VqjSdKzWAQS3c/tW2daIyuwr+WdcUdWs5+xnJ6IrVZlwwLGH2SW3AJk9TFMpGSSWKW/FRg+UCQWm+Mcsc4H3/4AR+9/ZYoHBSg9LBJLBs2S9j/+h3bn+co6qME5Ude6aEAVcstUhmLwMySny2UvrQ8OkuFc4JPrl2j7P130Sj90jGnlLoniS5RxPTdDqbN5+giS9h9aXRDcZrH0zR54jQMx6gfnkEnuel8MW44Jqlyh/i8x8tnZWV8+t47/A1xj0DVa2E7WQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"LTR_traning_result\"\n        title=\"LTR_traning_result\"\n        src=\"/static/d59914f622d612614677f283ff078ecd/1e043/LTR_traning_result.png\"\n        srcset=\"/static/d59914f622d612614677f283ff078ecd/991de/LTR_traning_result.png 173w,\n/static/d59914f622d612614677f283ff078ecd/e4d6b/LTR_traning_result.png 345w,\n/static/d59914f622d612614677f283ff078ecd/1e043/LTR_traning_result.png 690w,\n/static/d59914f622d612614677f283ff078ecd/c1328/LTR_traning_result.png 866w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<hr>\n<h3 id=\"관련-참조\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A0%A8-%EC%B0%B8%EC%A1%B0\" aria-label=\"관련 참조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관련 참조</h3>\n<p><a href=\"https://github.com/o19s/elasticsearch-learning-to-rank\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/o19s/elasticsearch-learning-to-rank</a><br>\n<a href=\"https://elasticsearch-learning-to-rank.readthedocs.io/en/latest/logging-features.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://elasticsearch-learning-to-rank.readthedocs.io/en/latest/logging-features.html</a><br>\n<a href=\"https://www.youtube.com/watch?v=TG7aNLgzIcM\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=TG7aNLgzIcM</a><br>\n<a href=\"http://perpetual.tistory.com/67\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://perpetual.tistory.com/67</a><br>\n<a href=\"http://4four.us/article/2009/10/what-is-learning-to-rank\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://4four.us/article/2009/10/what-is-learning-to-rank</a><br>\n<a href=\"https://inyl.github.io/search_engine/2017/02/18/solr_learning_to_rank.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://inyl.github.io/search_engine/2017/02/18/solr_learning_to_rank.html</a>  </p>","frontmatter":{"title":"[DataScience] LTR(Learning To Rank)","date":"October 05, 2018"}}},"pageContext":{"slug":"/data-science/learning-to-rank/","previous":{"fields":{"slug":"/elastic/elastic-spring-resttemplate/"},"frontmatter":{"title":"[Elastic] RestTemplate Elastic 통신","category":"Elastic"}},"next":{"fields":{"slug":"/spring/spring-aop/"},"frontmatter":{"title":"[Spring] Spring AOP란?","category":"Spring"}}}},"staticQueryHashes":["3128451518","96099027"]}