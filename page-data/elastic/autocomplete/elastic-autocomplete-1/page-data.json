{"componentChunkName":"component---src-templates-blog-post-js","path":"/elastic/autocomplete/elastic-autocomplete-1/","result":{"data":{"site":{"siteMetadata":{"title":"renuevo blog","author":"rubber","siteUrl":"https://renuevo.github.io","comment":{"disqusShortName":"https-renuevo-github-io","utterances":""},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"38707e24-6f9f-5a88-981c-62321c7cc439","excerpt":"Elastic Autocomplete Guide 시리즈 Autocomplete Prefix Queries Autocomplete Index Search Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다 Elastic 7.x 버젼을 기준으로 진행합니다    Prefix Queries를 활용한 자동완성   Index 색인을 통한 Search   Completion Suggester…","html":"<h3 id=\"elastic-autocomplete-guide-시리즈\" style=\"position:relative;\"><a href=\"#elastic-autocomplete-guide-%EC%8B%9C%EB%A6%AC%EC%A6%88\" aria-label=\"elastic autocomplete guide 시리즈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Elastic Autocomplete Guide 시리즈</h3>\n<ol>\n<li><a href=\"https://renuevo.github.io/elastic/autocomplete/elastic-autocomplete-1/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Autocomplete Prefix Queries</a></li>\n<li><a href=\"https://renuevo.github.io/elastic/autocomplete/elastic-autocomplete-2/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Autocomplete Index Search</a></li>\n</ol>\n<br/>\n<hr>\n<br/>\n<p><em>Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다</em><br>\n<em>Elastic 7.x 버젼을 기준으로 진행합니다</em>   </p>\n<ol>\n<li>Prefix Queries를 활용한 자동완성  </li>\n<li>Index 색인을 통한 Search  </li>\n<li>Completion Suggester를 활용한 자동완성  </li>\n</ol>\n<p>해당 포스팅에서는 <code class=\"language-text\">Prefix Queries</code>를 활용한 가장 단순한 자동완성을 만드는 방법 소개합니다  </p>\n<br/>\n<hr>\n<h2 id=\"example-data-setting\" style=\"position:relative;\"><a href=\"#example-data-setting\" aria-label=\"example data setting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example Data Setting</h2>\n<p>먼저 테스트 데이터를 준비해 줍니다<br>\n간단한 Index Mapping 정보를 작성합니다  </p>\n<p><span class=\"code_header\"><strong>Autocomplete Example Mapping</strong></span>  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">PUT autocomplete_test_1\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"settings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"number_of_shards\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"number_of_replicas\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n   <span class=\"token property\">\"mappings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"properties\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"fields\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"keyword\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"keyword\"</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>word에 2가지 속성으로 색인을 하였습니다  </p>\n<ol>\n<li>\n<p><code class=\"language-text\">text</code> type은 형태소 분석를 통해서 색인 키를 가지게 됩니다<br>\n따로 설정이 없으면 Standard Analyzer로 색인되는데 기본적으로 <code class=\"language-text\">불용어, lowercase, whitespace</code>로 색인 됩니다<br>\n<strong>스팀게임 추천 :</strong> <code class=\"language-text\">스팀게임</code> <code class=\"language-text\">추천</code>  두개의 단어로 키가 잡힙니다\n호출로 색인 키를 확인 할 수 있습니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">   GET autocomplete_test_1/_analyze\n   <span class=\"token punctuation\">{</span>\n     <span class=\"token property\">\"text\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게임 추천\"</span>\n   <span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 448px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.34682080924856%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByklEQVQ4y6VUyW7bMBT0/39Uj700KIIESbwksS1ZG7WRFBctlqaPbKPCRRILqYCBdHicN5oZaTWOE4y1qHkD3lhU0oKrFsp0Htr2hLf7daymaYLWBkq3OOUcu7hAIQ1Eo2mBhm3PM9yBt0UfwRNa6xS1qIUihRp7xsG4hqaBU8WwzQI8s5CU65n0Q4XjOP4h7IhQI+MKP/cpnpMKj2GBpzhHUlV4STMIZRcStn8JGRHeBYwIamyTAgeW0XNKixryuv/H23cJpwvCtG5wQwpfiTCtnKch1kmEXAg05PMihU2j/FBZS1QubU3PLhhKu2uBtnVLB6grZJ5wGAaqjJgJCyLMhfYVsm2PuM7BBF+UsE/5fD5DkkJDh7nzkHB7zHCkpMNc4C4KERaM0jc0M1zvoaHSVrXwCeaVRFxI3O4zPIQ5bl5iHDKOtJRISoGSAhOk/DOsUirzPkgRMYFjVGBLVfl2f8D9a4pNkODH7gnfN2tswhjrXeDnIloSsffhPeRC+kq4YjsVISk6kdJS/A5GUkh2wevOoXAKRSrjE3bGusPOUzMPdosC8aH0fY+S+saluujZV+FTdsW23XDxFVzr26d/G3f54v4nmcMvrUTOcvd7j6kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"analyzer-test\"\n        title=\"analyzer-test\"\n        src=\"/static/4cc296054549f55d9120ec605c1456e3/33b38/analyzer-test.png\"\n        srcset=\"/static/4cc296054549f55d9120ec605c1456e3/991de/analyzer-test.png 173w,\n/static/4cc296054549f55d9120ec605c1456e3/e4d6b/analyzer-test.png 345w,\n/static/4cc296054549f55d9120ec605c1456e3/33b38/analyzer-test.png 448w\"\n        sizes=\"(max-width: 448px) 100vw, 448px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Standard Analyzer</span>  </p>\n <br/>\n</li>\n<li><code class=\"language-text\">keyword</code> type은 텍스트 자체를 키로 색인을 합니다<br>\n<strong>스팀게임 추천 :</strong> <code class=\"language-text\">스팀게임 추천</code>이라는 문장으로 키가 잡힙니다</li>\n</ol>\n<h2 id=\"br\" style=\"position:relative;\"><a href=\"#br\" aria-label=\"br permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><br/></h2>\n<p>이제 기본 개념을 알아봤으니 예제의 사용할 데이터를 생성하겠습니다<br>\n<span class=\"code_header\"><strong>Autocomplete Example Data</strong></span>  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">POST _bulk\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임 추천\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"3\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임 추천 2019\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"4\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임 환불\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"5\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임 싸게\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"6\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임 순위\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"7\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임 추천 2020\"</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"8\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임 환불하는법\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>자동완성 데이터는 Google에 스팀게임을 검색해서 나오는 자동완성을 가져왔습니다  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.73988439306359%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABB0lEQVQoz5WRbW+DIBSF+f//rp3L7LrExmmHiiBcFIq87Lq5bPui7ZMbQiCHeziXSNDG2hBiigmJMeF2msxb8V7WzXYRP8/B+3EaAZQ1E2P8XHbe4xne7EDczRgtve3K8nJ6PR8Ox+NTlud5lj2/5KeiuGwUiUiKIQSttVKqbdvr9YPSxlo7juO0CQlx+Suu7su/1qAApFTGmLQHWaJacoo3tyDEwFhPKQWAO8RxFaNynr1SwHreMZbugPjwY9s5TBhAD8MglXxAvNqeHSoZjkuIu8Thf2e0jY3x24KLhwPDzn3Pq6rCmeFbcZNVjOCcMSfU0Kap6hpn3XOO/jfqV/zd/6+ruMcnMx7wSfia2ZUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"google-search\"\n        title=\"google-search\"\n        src=\"/static/adb13c086f0589274d824a31187fa134/1f083/google-search.png\"\n        srcset=\"/static/adb13c086f0589274d824a31187fa134/991de/google-search.png 173w,\n/static/adb13c086f0589274d824a31187fa134/e4d6b/google-search.png 345w,\n/static/adb13c086f0589274d824a31187fa134/1f083/google-search.png 660w\"\n        sizes=\"(max-width: 660px) 100vw, 660px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Google Search</span>  </p>\n<br/>\n<br/>\n<p>만약 7.X보다 밑의 버젼을 쓰신다면 type을 추가해주셔야합니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">POST _bulk\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"autocomplete_test_1\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"_type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"_doc\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"스팀게임\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<br/>\n<h2 id=\"prefix-query\" style=\"position:relative;\"><a href=\"#prefix-query\" aria-label=\"prefix query permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prefix Query</h2>\n<p>먼저 Prefix Query를 살펴보겠습니다<br>\n<code class=\"language-text\">Prefix Query</code>는 Elastic에서 제공하는 앞글자 일치 검색기능 입니다<br>\n간단한 쿼리를 통해서 <code class=\"language-text\">text</code>와<code class=\"language-text\">keyword</code> type들에 대해 어떻게 검색이 다르게 되는지 살펴 보겠습니다  </p>\n<br/>\n<p><strong><em>여기서 부터 차례로 text와 keyword을 번갈아 가면서 어떻게 다르게 검색되는지 살펴보겠습니다</em></strong>  </p>\n<p>형태소 분석이된 <code class=\"language-text\">Text Type</code>에 대한 검색입니다<br>\n띄어쓰기 기준으로 키워드가 색인된 것을 앞서 확인했습니다<br>\n예를 들어 <code class=\"language-text\">스팀게임 추천</code>이라는 문장은 <code class=\"language-text\">스팀게임</code>과 <code class=\"language-text\">추천</code> 이라는 2개의 키워드를 통해 검색됩니다  </p>\n<br/>\n<p>Prefix쿼리로 먼저 앞글자 단어 일치를 확인해보겠습니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.26589595375724%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB50lEQVQ4y6WUW3PaMBCF8/9/Wx86zaUJoWDAYFt3yZJ8gfR05QBTUhrsyYNmx+PVmbP77equLASsNKiVRTA1gnYIlmLs4Jt+iCHFT46nnNjuMV/muGPfviN7mIHPFnCLFUJeIL7MEZiE7w7TBd3zK7JSYZYLcOnAnINZbxB3DL5/G5L9UdT/R/xCsPzxhPX9M/LHGdTrAozcOYrRenhKCh/EroleCpqAlXBQdQMbWtTNfii1PiZOdqiNh3YRGTNgOqDUEstqi42osFUCBX0L68Y71DaAk8vZTkIS3a0UQ0yJdXIc25surwo+bDiySmMnyCk5siFevXizZDWUHMiZG0pWdY1fPMdGsXPyJIeCBlkT0Z5GpGl7+nHAvge67jciAUpnkkNJDhWVveKGSo9gRiPjO6y/AoWR6CP1sCK3K16hUIp62Ax9tD6ewYwSVEcoP2lTEpRSWupjhIsNHImeLzXdeChJNKfhZiQsafUWfItMFAOYk+gEKDUMQen6wxHKHm339n7aBOpwBjMOCgkmh2tuqfnvUFa8+NqmnKCU9CauBygShmCkk6CksidDmZea+mhJlJ4vn/r2L4SRUMKwKcvKkJin8uwRSomtFthIRtQ99bG/2JhPe5g25e+ENHen2bs1gx8F/wAd4P4tiewB/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"search-prefix-text\"\n        title=\"search-prefix-text\"\n        src=\"/static/86783b78d8a731062ae5c2c491c7049f/8c76f/search-prefix-text.png\"\n        srcset=\"/static/86783b78d8a731062ae5c2c491c7049f/991de/search-prefix-text.png 173w,\n/static/86783b78d8a731062ae5c2c491c7049f/e4d6b/search-prefix-text.png 345w,\n/static/86783b78d8a731062ae5c2c491c7049f/8c76f/search-prefix-text.png 612w\"\n        sizes=\"(max-width: 612px) 100vw, 612px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Prefix Text Search</span><br>\n정상적으로 모든 <code class=\"language-text\">스팀게임</code>의 키워드를 기준 앞글자가 일치하는 모든 결과가 검색된걸 확인할 수 있습니다  </p>\n<br/>\n<br/>\n<p>다음은 <code class=\"language-text\">Keyword Type</code>에대해 Prefix쿼리로 검색합니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word.keyword\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.26589595375724%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB50lEQVQ4y6WUW3PaMBCF8/9/Wx86zaUJoWDAYFt3yZJ8gfR05QBTUhrsyYNmx+PVmbP77equLASsNKiVRTA1gnYIlmLs4Jt+iCHFT46nnNjuMV/muGPfviN7mIHPFnCLFUJeIL7MEZiE7w7TBd3zK7JSYZYLcOnAnINZbxB3DL5/G5L9UdT/R/xCsPzxhPX9M/LHGdTrAozcOYrRenhKCh/EroleCpqAlXBQdQMbWtTNfii1PiZOdqiNh3YRGTNgOqDUEstqi42osFUCBX0L68Y71DaAk8vZTkIS3a0UQ0yJdXIc25surwo+bDiySmMnyCk5siFevXizZDWUHMiZG0pWdY1fPMdGsXPyJIeCBlkT0Z5GpGl7+nHAvge67jciAUpnkkNJDhWVveKGSo9gRiPjO6y/AoWR6CP1sCK3K16hUIp62Ax9tD6ewYwSVEcoP2lTEpRSWupjhIsNHImeLzXdeChJNKfhZiQsafUWfItMFAOYk+gEKDUMQen6wxHKHm339n7aBOpwBjMOCgkmh2tuqfnvUFa8+NqmnKCU9CauBygShmCkk6CksidDmZea+mhJlJ4vn/r2L4SRUMKwKcvKkJin8uwRSomtFthIRtQ99bG/2JhPe5g25e+ENHen2bs1gx8F/wAd4P4tiewB/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"search-prefix-keyword\"\n        title=\"search-prefix-keyword\"\n        src=\"/static/86783b78d8a731062ae5c2c491c7049f/8c76f/search-prefix-keyword.png\"\n        srcset=\"/static/86783b78d8a731062ae5c2c491c7049f/991de/search-prefix-keyword.png 173w,\n/static/86783b78d8a731062ae5c2c491c7049f/e4d6b/search-prefix-keyword.png 345w,\n/static/86783b78d8a731062ae5c2c491c7049f/8c76f/search-prefix-keyword.png 612w\"\n        sizes=\"(max-width: 612px) 100vw, 612px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Prefix Keyword Search</span><br>\nText Type과 같이 모든 단어가 검색된걸 확인할 수 있습니다  </p>\n<p>둘의 검색을 비교해 보면 다음과 같습니다  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.167630057803464%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcRAAAXEQHKJvM/AAABnElEQVQY02PQrFvGLNa1nWWpmjIjLwODKAMDgywnA4NEFD83c3LnJtaiimlsRbVz2FLLZrB6VS9gyWtazvafgYGJjYFBHKhWUYCBgR9IM8RktrEXlUwBCs+9LMioacvA0LvPkbdv12rnrXemiU/et5yhfbvbfxFhBob//xn/g3QAaYbNvzk+u/kzMPTsDxGdvH+528arU/h6dsxhWPJM6b+qOERNn52HlqqQiOhu/7iIozGZN2819Jw7mph385xnRMh/Z6+8/3Gpi/4nps//7xlQ/z8w0vO/T9Dsh0HxW/cnF908W91+/UBezaU/EUlL/3sFzPjvGzKbwdzaR5ubh1/WKzA90jMs95FbbMnNyMSy2/HVE7YlF7afC0qsuOcVV/7UO6Jgq09kYbJPZNFTz9Dcq+GJZdeKa3pv5JR2XAyOL7vlFV5w1zuy6C4Dg28WBwMHDxtDep8wQ2qPMUNEgz5D1VwD0+o+F6XuJWYMad36DFENRgwpneoMSR2iDMkdRgyJ7YYMFbOMFCt67fhzW+wZsvoMGBLbDIByBgCb8pg+Kz2tIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"elastic-search-index\"\n        title=\"elastic-search-index\"\n        src=\"/static/c009d0460c0bf063d7e2def06c54b256/1e043/elastic-search-index.png\"\n        srcset=\"/static/c009d0460c0bf063d7e2def06c54b256/991de/elastic-search-index.png 173w,\n/static/c009d0460c0bf063d7e2def06c54b256/e4d6b/elastic-search-index.png 345w,\n/static/c009d0460c0bf063d7e2def06c54b256/1e043/elastic-search-index.png 690w,\n/static/c009d0460c0bf063d7e2def06c54b256/e3189/elastic-search-index.png 1035w,\n/static/c009d0460c0bf063d7e2def06c54b256/b1001/elastic-search-index.png 1380w,\n/static/c009d0460c0bf063d7e2def06c54b256/fb937/elastic-search-index.png 1820w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Elastic Index Search</span>  </p>\n<p>그래서 둘 모두 같은 결과를 내놓았습니다<br>\n만약 Text Type에 형태소에서 <code class=\"language-text\">스팀게임</code>이라는 단어를 <code class=\"language-text\">Index Key</code>로 잡지 않았다면 전혀 다른 결과가 나오게 됩니다  </p>\n<br/>\n<br/>\n<p>다음으로 <code class=\"language-text\">Text Type</code>에 <code class=\"language-text\">추천</code>으로 검색해 보겠습니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"추천\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 625px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.84393063583813%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8klEQVQ4y51Uy27bMBDM//9RLynQ3hsgt6RxrdixZEl8vyTLQadDulCciyv1sCAkLoezM7u8EybipVHotIfzCXE4MyaEdCrr0sj5ieudjyNq6fBcS7TKQ/sIGxITcuJpMfAMaF1CT3ZVZ1CrAGkDOmPnpOu4xXwGdGHA80HgTThI42H8CBcnDOM7E85z/EuGD4bUTZoAYSMa6Uu5teoZgkEZjIZwbjnDDKhdxK9WY8eyOwK89scCImOCipGs43JAQ0BDHV97iy1BW2UhTMLIkgdpkXhZHFlyOi0vWbPcg7B0WhUdt+KITV1hd/8F+ukJcfqNwG5YWPIAQVaZwXg6fyTlg51AoutpLUPBtsmmHHVAlqDREg1NaSw1ZfTWwqdxnYYb6lcxegJUXQPpfDFFM0xp9JUub+lwnpZGZqcjUk5oBaJ2/2dKoxxdNlDUrFItNrsXvH27x/7xB47e8YLp08TcNKXPpnBup+m9bOYpGTgdA/8P3M/fqxhKmtKbzDJ8nhQ2eWv1xZTlbXMx5SefsA2j1YpTUxdTVBqKKXa1KdRwx0nJoEeW2fM7klHYHxCkRhinNSUPBbBl2bveFcf3usd2v0H9/SsOjw80xS83xfzV8DrxcpCa8aLA5y0MKxhqtkl+E68f1DlpPM9jGK4O3gL8A+vGBEx/PFIuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"search-prefix-text2\"\n        title=\"search-prefix-text2\"\n        src=\"/static/5423fa975b866c8462f7ee1ede430215/80d71/search-prefix-text2.png\"\n        srcset=\"/static/5423fa975b866c8462f7ee1ede430215/991de/search-prefix-text2.png 173w,\n/static/5423fa975b866c8462f7ee1ede430215/e4d6b/search-prefix-text2.png 345w,\n/static/5423fa975b866c8462f7ee1ede430215/80d71/search-prefix-text2.png 625w\"\n        sizes=\"(max-width: 625px) 100vw, 625px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Prefix Text2 Search</span><br>\n예상한것과 같이 추천이 뒤에 포함된 결과들이 검색된걸 확인할 수 있습니다  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.06936416184971%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVQoz32Su24TQRSG/RIUPAANPAB9GpAokCwQFSBBlaeBkp4CKSAuUoK5xwVNFJE4IhAKREhsxWuvd3ZnL7P3/Ti7No4VEkb6ZzSjme/8Z85p+aMDtkdfWNGbPFMbPHY+0zMHqMDDMz4ZJTEFcZmdqrBIIC95ZH+g/eshLaNt+t4+O8mAXdNvNMw9XOXiepoojCiDEOFSldVMzFWUMuWwrr/zwOrQ4u+oFiTDnkxQ/T5GayoTUVXV6WqeVHNMS1eGSBLzJLE6tUjCeaVhYA0Z9weg1HGss6CiUpQVBa3dvZ+svvtE532X12/X6XzsMrQdlDgLDg/BmGn8mZt6PTmq2VmeC7C73eXW7WWutu+wdOUmFy5dZufrD+EYLEm5cJz65pmwRWBWAzd6m1xv32P5/l1utK9x7vxFtnrf8H2f3wK0j44oLEuKUv437Tlwq7fHk5WXrL16w4vnqzwVWSNJWaqsBRgFAblo7pKTLo/3DTCOE5Ikmf6BfGp9wZi4aZliPG6cLab2r6R1pH+aotRAP4gY2za+uLBGI5TrYSSI1oGcO0wcF0tPGAQWduiSpgVpNlWS5rLPsSPFOHTESCqNLY8DgWVZJhBNHMdNtWqgCjShuK8fxWk2BWT5bJU7foijPGpTtRE/NPwBikE8YhvcSWUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"naver-recommend\"\n        title=\"naver-recommend\"\n        src=\"/static/a6c4c7abca1ed89696b5394fc390c3c1/1e043/naver-recommend.png\"\n        srcset=\"/static/a6c4c7abca1ed89696b5394fc390c3c1/991de/naver-recommend.png 173w,\n/static/a6c4c7abca1ed89696b5394fc390c3c1/e4d6b/naver-recommend.png 345w,\n/static/a6c4c7abca1ed89696b5394fc390c3c1/1e043/naver-recommend.png 690w,\n/static/a6c4c7abca1ed89696b5394fc390c3c1/8ae3e/naver-recommend.png 756w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Naver Autocomplete</span><br>\n다음과 같이 뒤에 단어까지 확장된 검색이 필요하다면 Text Type의 색인된 검색결과를 입력하는게 효율적입니다  </p>\n<br/>\n<br/>\n<p>다음으로 <code class=\"language-text\">Keyword Type</code>에 <code class=\"language-text\">추천</code> 키워드로 검색해 보겠습니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word.keyword\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"추천\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 427px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.97687861271676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFklEQVQoz6WRcU+DMBTE+f5fy8QMtxlCFhwiGzgsm4y2o6+FOeP5cJkuxjiMf1zeNen9evC8PIiQjEPoeQIdxaD7FG26hH1YwPJ0cQIrNag7wLo9bPvyqzw9GmORFpjPElS5gMoeoYs13LpCJ3dw4QwuzUCvgLXdZaAKI2i+HOQbhEKikAZPivDcEDZdC8twm69Ah7dhDeU0gOKLZd1AMEzwNHYP2fCZuGG2gl3mx4aDPtmfILvyUU0ClP4U9W0ICkJU1z40+3Z0wy3L4Q2VaXFXbBGLGmKrISoJtSMoTZDawPIyTguhC7AjsA+xIQ44noZ//IdnSK/ef8KGNDRnm6OzQO9PZ/oLkNxX+FzfHxgq7z/hn/QOk9D+izCx+JcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"search-prefix-keyword2\"\n        title=\"search-prefix-keyword2\"\n        src=\"/static/124f7b7122e57fc9095fea6badfc50d8/a7c74/search-prefix-keyword2.png\"\n        srcset=\"/static/124f7b7122e57fc9095fea6badfc50d8/991de/search-prefix-keyword2.png 173w,\n/static/124f7b7122e57fc9095fea6badfc50d8/e4d6b/search-prefix-keyword2.png 345w,\n/static/124f7b7122e57fc9095fea6badfc50d8/a7c74/search-prefix-keyword2.png 427w\"\n        sizes=\"(max-width: 427px) 100vw, 427px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Prefix Keyword2 Search</span><br>\n추천과 관련된 word가 3개가 있는데 검색 결과는 <span class='red_font'>0건</span>이 나왔습니다  </p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.167630057803464%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcRAAAXEQHKJvM/AAABmElEQVQY02PQbFzJIta0hsWlZhFLccV0tvyO5WyZRf1srQ//M6kwMHBxMzBIsjMwyCszMHAv+f+fqbZmHpuGrS9HIQODyH+g3FkGBlUZBgaetTvfsmRmtbMxMCy4zi+0/hU7w93/rEAFDAz//zNAaTaG5k0tMvNOz1dYcGYuQ8vmfoaz/7n+CwLlpp6VYGjfPlNjxdUpItOOLGRo3pwI1cPIMNHGXVNOXl3ylYuP+/+wmAX/q+pn/I9OWvjfwcNxn2/s9LOpxTcuZJRePRiYsPJ/SKznf9/guX+8gxfujcu9cq6m88qB/Nqbl0MT9/73CZ7+3zdkNoO5jY82Fye3jEdwdoxPTOkzz9TaWzHpdffjaybuSs5vPhYQVXDHIyL/sVdI9jrfyKJkn8iiJx5h+bciEstultX23cgqar3uH1100yui8K53ZNFdBgbfLA4GbgE2hrQeYYaENiOGoAoDhtLp+iZVvc6qPUvNGXIm6TMktBsxpPdqMiS1izEkdxgB+QYMFbMM5ct77Pjz2+0YcicZAPUaAOUMAKUBnc48HIq3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"elastic-search-index2\"\n        title=\"elastic-search-index2\"\n        src=\"/static/17a51ebc717ffeb8bc102da4c48b93e0/1e043/elastic-search-index2.png\"\n        srcset=\"/static/17a51ebc717ffeb8bc102da4c48b93e0/991de/elastic-search-index2.png 173w,\n/static/17a51ebc717ffeb8bc102da4c48b93e0/e4d6b/elastic-search-index2.png 345w,\n/static/17a51ebc717ffeb8bc102da4c48b93e0/1e043/elastic-search-index2.png 690w,\n/static/17a51ebc717ffeb8bc102da4c48b93e0/e3189/elastic-search-index2.png 1035w,\n/static/17a51ebc717ffeb8bc102da4c48b93e0/b1001/elastic-search-index2.png 1380w,\n/static/17a51ebc717ffeb8bc102da4c48b93e0/fb937/elastic-search-index2.png 1820w\"\n        sizes=\"(max-width: 690px) 100vw, 690px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Elastic Index Search2</span><br>\nType Type과 달리 들어오는 키워드 자체로 색인되기 때문에 추천이라는 글자가 포함되더라도 검색되지 않습니다  </p>\n<br/>\n<br/>\n<p><strong>그럼 무조건 Text Type의 검색일 사용하면 되는 걸까요?</strong><br>\nText Type으로 설정시 <span class='red_font'>치명적인 단점</span>을 가지고 있습니다<br>\n다음과 같이 각각의 키워드는 있으나 결합된 키워드로 검색시 결과가 나오지 않을 수 있습니다   </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게임 추\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 448px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.02312138728323%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVQoz52SywrCMBBF+/+fpxsFFR9oX0nzTtq6uF6rFBUXxsWlgXQOZzJTaBtQSwNhI4SJcKGHZXwcENI4f39NYX3CtuywqRQ67aGNny9naAZ4Airarc4C64uEILSisQ0D4hOUY1lol+AIvUiL5bHBjqYlz8IYnLo2u3Ua9qiFRqMcJOGl8iweobSjrZ1hPwMdgXe7Be32jcahkpCENUKhbrvHjzlA4yKUCWg54Wm6IcHwCWJ/nZI9ZcW1uR9S/37x2mZWy59Fr/lrD9/2LbP4W27NVAXoE/1DFAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"search-prefix-text3\"\n        title=\"search-prefix-text3\"\n        src=\"/static/867001024aabe2448998c7c9263cf186/33b38/search-prefix-text3.png\"\n        srcset=\"/static/867001024aabe2448998c7c9263cf186/991de/search-prefix-text3.png 173w,\n/static/867001024aabe2448998c7c9263cf186/e4d6b/search-prefix-text3.png 345w,\n/static/867001024aabe2448998c7c9263cf186/33b38/search-prefix-text3.png 448w\"\n        sizes=\"(max-width: 448px) 100vw, 448px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Prefix Text3 Search</span>    </p>\n<p>자동완성처럼 한글자씩 치면서 아래 계속해서 list를 펼쳐줘야 하는데<br>\n이는 치명적인 단점으로 다가오게 됩니다  </p>\n<br/>\n<br/>\n<p>반면 Keyword Type의 경우 색인된 결과와 앞글자를 일치 시켜주면 검색이 됩니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word.keyword\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게임 추\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 623px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.42196531791907%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQ4y52U6XKjQAyE8/4vuEnltB0MzD3DMICTVG/PBFPxbg7ID5UpLLpa+iRdad/jtjZodEDoEvrhVCKmaXleEzk/8feq60e0NuJPpVBT1IQeLvZMYCKT1govgp6ulO1wUAENhbOgcH5J+hjfOV8EQxxwe9TYSw/tOrhuhI8ThvGVCS9L/NSGC4fGRUjXo6LLEBMqLRgKR6PQOgvpPXJrVjnMgi4kPApXXLbWsnwBHTrYLsLGc09XluxmwSz22FoIGxiRJb+XeS53U8mWo3Mk4ZtKw/iIJ1njXlbYqYZOw4XYipIHKOPLiIzT7Gp8uUhOWx0a0hUuu8yUCUfLAqQ2+ndQ/AxlxxAU2Kv2Aoon+c1QsuAN57Fl+a3p3pP+EdgEpeW2PDQWlpvypGrciQP2ui1uG2sK7fjNKn4K5XR6LX+O0xsmxshtGeeNyW77dNoOxZdNkcumNOypcG49lNzDLHrHcu8bw6G27GcN7WcopO77YTuUHTflmiesyVC4KTmhSyNjKrEBylC2Q/BAPPM4ZLcHwniQRzwbyWeBehuUVM7W+cV5XL766EeHlu7Ch4aXj9L/x3VtD/8CqVkGtZ1dKJgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"search-prefix-keyword3\"\n        title=\"search-prefix-keyword3\"\n        src=\"/static/b8fd34642ace5bc20a8e873dad1582ac/6114d/search-prefix-keyword3.png\"\n        srcset=\"/static/b8fd34642ace5bc20a8e873dad1582ac/991de/search-prefix-keyword3.png 173w,\n/static/b8fd34642ace5bc20a8e873dad1582ac/e4d6b/search-prefix-keyword3.png 345w,\n/static/b8fd34642ace5bc20a8e873dad1582ac/6114d/search-prefix-keyword3.png 623w\"\n        sizes=\"(max-width: 623px) 100vw, 623px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Prefix Keyword3 Search</span>    </p>\n<p>이 때문에 높은 <code class=\"language-text\">recall(재현율)</code>을 위해서 두가지 타입을 <code class=\"language-text\">OR</code>로 사용해서 서비스 할 수도 있습니다  </p>\n<br/>\n<p>하지만 아직 위의 구현으로는 쓸만한 자동완성을 만들 수 있지만 잘 만든 자동완성은 아닙니다<br>\n다음으로 <code class=\"language-text\">오타교정 자동완성</code>과 <code class=\"language-text\">형태소 분석</code>을 통한 자동완성을 살펴 보겠습니다   </p>\n<br/>\n<hr>\n<br/>\n<h2 id=\"fuzzy-query\" style=\"position:relative;\"><a href=\"#fuzzy-query\" aria-label=\"fuzzy query permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fuzzy Query</h2>\n<p>다음으로 알아볼것은 Elastic에서 제공하는 <strong>Fuzzy Query</strong>를 통한 자동완성입니다<br>\nFuzzy Query를 사용하게 되면 <code class=\"language-text\">편집거리 알고리즘</code>을 사용하여 오타를 교정하는 검색이 가능해 집니다<br>\n간단히 설명드리면 <strong>fuzziness</strong>설정 값 이하로 <strong>글자를 바꾸거나, 넣거나, 빼는 횟수</strong>를 측정하여 검색합니다<br>\n<strong>편집거리 알고리즘(Levenshtein distance)</strong>에 대한 자세한 설명은 제 다른 포스팅을 확인해 주세요 👉 <a href=\"https://github.com/renuevo/data-modeling-algorithm/tree/master/levenshtein-distance\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">편집거리 알고리즘</a>   </p>\n<br/>\n<p>Fuzzy Query에 경우에도 아까 설명드린 <code class=\"language-text\">Text</code>와 <code class=\"language-text\">Keyword</code>에 대한 검색방식은 같습니다  </p>\n<p><strong>Text Type Fuzzy Query</strong><br>\n먼저 Text Type에 대해 검색을 하는 쿼리를 실행해 보겠습니다   </p>\n<p><span class='code_header'>Fuzzy Query Text Type Search</span>  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">## 바꾸거나\nGET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"fuzzy\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스게팀임\"</span><span class=\"token punctuation\">,</span>  </span>        <span class=\"token property\">\"fuzziness\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\nGET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"fuzzy\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀께임\"</span><span class=\"token punctuation\">,</span>  </span>        <span class=\"token property\">\"fuzziness\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n## 넣거나\nGET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"fuzzy\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스게임\"</span><span class=\"token punctuation\">,</span>  </span>        <span class=\"token property\">\"fuzziness\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n## 빼거나\nGET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"fuzzy\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스!팀게임\"</span><span class=\"token punctuation\">,</span>  </span>        <span class=\"token property\">\"fuzziness\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">fuzziness</code>를 <strong>1</strong>로 설정해서 1글자의 대해서 교정을 해주었습니다<br>\n그래서 <strong>한글자를 바꾸거나, 넣거나, 빼는</strong> 경우에 대해서 아래와 같이 모두 같은 결과가 나옵니다  </p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 609px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95.3757225433526%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQ4y52UbW+jMBCE8///YHVq2qSFQLGNX8FAWmlu1spV6V2ag36wYixntDvPrHdhmPDY9Dh2DtYPGPKCcTqX36/7c9nfWn/uhZSxSxTsw4jH1qLSAYaiNkXk+Yx8dfnekjvT8oFWWexEVdmI1g54cwMcv+veX/bTzWq/E3wTwWGcsWfLL6W6BM+KTZgoOMJTME/v/7R2VzBSQLzTfqSPnoIZlWlx6jtUvUJjDcUtAs9XVSiCLo6lwqPyFPYU1PR1KNWmPCOO0/qWhbIjlLqPeCbpjn5W2uNVi4/pJs3/V0jBjn8W0kL8ZDX2qiLt9El6dYVxmKFtgMBZeCgX8vz+BcbmCntCUVwv9FBiU5mOFigujZZAOu8g1qz38AJFBHUIeDWK0UlwJBsIJIwZiR2sFvQUrE3EL+ZRoAiQowo8Cz9r2TIiilD2Fyi1VdjrGkfmUdq9FvsRlGn+KOtvOOuhsDotcWEWPaE0jM2JUE4yJX4rlCQeZkLxeGLLhlAOquXEROZwKKMoY5e2TkpFAA+1QWNcof2sfDkbp6WEe/PjoPhcHfg42JDLpBxMgyeCaZwpPm6AwufKxZKzebkGcJ/sd4K/ARaftWlOyxL4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"search-fuzzy-text\"\n        title=\"search-fuzzy-text\"\n        src=\"/static/d6163360a94cad4d522a5a194188d280/d0d8c/search-fuzzy-text.png\"\n        srcset=\"/static/d6163360a94cad4d522a5a194188d280/991de/search-fuzzy-text.png 173w,\n/static/d6163360a94cad4d522a5a194188d280/e4d6b/search-fuzzy-text.png 345w,\n/static/d6163360a94cad4d522a5a194188d280/d0d8c/search-fuzzy-text.png 609w\"\n        sizes=\"(max-width: 609px) 100vw, 609px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Fuzzy Text Search</span>  </p>\n<br/>\n<p>이처럼 간단한 <code class=\"language-text\">Fuzzy Query</code>만으로 오타에 대한 자동완성을 대처할 수 있습니다  </p>\n<br/>\n<p><strong>Keyword Type Fuzzy Query</strong><br>\nKeyword Type은 Key가 전체의 문자으로 잡히기 때문에 Fuzzy Query로 긴 자동완성을 풀기엔 무리가 있습니다  </p>\n<p><span class='code_header'>Fuzzy Query Keyword Type Search</span>  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"fuzzy\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word.keyword\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게임\"</span><span class=\"token punctuation\">,</span>  </span>        <span class=\"token property\">\"fuzziness\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 352px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.43930635838151%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaElEQVQ4y42TWXPaMBSF8///SV/63ul0nSlTmoYwIYQYs4TY8SZblrXZEOjplUMzbqCkD2euvOjTuYvO6tkCqzdv4X3soej1Ib59b9VcDGHPB7A/B09xeIX6/QfYGw96BxjTwNSbA51pfwGxuIevtxhnEoFsUG12yM0a5hdaOYAGreMM1vNPA9V0DjH2wO0Gk1WK61WCIBWohELEBLSysLqBXm9hlvewt/7rDktvBklO/KTEMGAYRyUWTCKXNXKlMElW4I871GEM03GojwIJJn5cgEUpTJpDJgxllEHEDDYrYLIcIoqheQU7nsBOXqmhYhySiu596mH6pY9V7xz+1z7i/gDq8goJRfc8oqaN3n1GESawVGNt1wdqgZIWguozzyWGlGqi10ilQWFq2C0gaXNJ30WzbaNyTo6A2nW9JqCuUQoNXlTgFN3PhmCK3mvqtKbULL2raVO9hzmA7aSp9uk76Jl74JUhaQjqaEhOR9Tt26iAO6yoKlyHM4zDOUaBj8uVh5toiUUWYfwwxx1LEBXsGfoMLEkVAZaZwOUyQVio1iUTvIVF/OkAbRsoktC2dVQZS8+dGv4FVDX8mGNK7tw64jke8qw9yAEERWU3R7t7kLIDupSdQ4+AUwILZZCWCncppR3kVAqGJc2qbfZNsJvDLr90uEhL2swweSgQc0XfFIKM0ZArkgSn2O3s4Rw6IHW33EML0iRklDbNJx3gXE7Te1wENxiQZlnQdrjr6ihQSAtGt8EV/uVPtn58Vrdex2/Kn7ERNIc00N0Np3Qy5ZJmMC/lf4FOwVqgm/ycbol5UZd/bXhNvwF94lp9xHSQJQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"search-fuzzy-keyword\"\n        title=\"search-fuzzy-keyword\"\n        src=\"/static/48bba78d840c63e1345818ef5d2dea4c/ba1c3/search-fuzzy-keyword.png\"\n        srcset=\"/static/48bba78d840c63e1345818ef5d2dea4c/991de/search-fuzzy-keyword.png 173w,\n/static/48bba78d840c63e1345818ef5d2dea4c/e4d6b/search-fuzzy-keyword.png 345w,\n/static/48bba78d840c63e1345818ef5d2dea4c/ba1c3/search-fuzzy-keyword.png 352w\"\n        sizes=\"(max-width: 352px) 100vw, 352px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Fuzzy Keyword Search</span>  </p>\n<p>그래서 검색하면 다음과 같이 <code class=\"language-text\">스팀게임</code>만 결과로 나옵니다<br>\n<code class=\"language-text\">스팀게임 추천</code>과 <code class=\"language-text\">스팀게임</code>을 비교하면 빈공간과 추천이란 단어로 3개의 차이점이 보입니다<br>\n때문에 <code class=\"language-text\">fuzziness</code>의 1의 값과 맞지 않아 검색결과가 오로지 1건만 노출됩니다   </p>\n<br/>\n<hr>\n<br/>\n<h2 id=\"match-phrase-prefix\" style=\"position:relative;\"><a href=\"#match-phrase-prefix\" aria-label=\"match phrase prefix permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Match Phrase Prefix</h2>\n<p>마지막으로 알아볼 것은 <code class=\"language-text\">Match Phrase Prefix</code>입니다<br>\nMatch Phrase Prefix는 많은 자동완성에서 실제로 많이 사용되고 있습니다<br>\n기본적으로 Text Type에 검색을 하며 앞색인어와 뒷색인어 둘 모두 만족해야만 검색이 되는 형식입니다<br>\n말로 하면 어려우니 실제 예제를 통해 살펴 보겠습니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"match_phrase_prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게임 추\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 579px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.35838150289018%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJ0lEQVQ4y52U227bMBBE/f+/1oeiKRo4TlxL1tWUxLsulutOh0zS2g+p5TwsBAjg4ezOLFeubpB++Ybi+xr26QV+s8W4yzD8WKPPK/j5jH44oh/nRbVySQZVCjzWGjuh0SgHOU1wosGQlZ8A7gs0jxuUSYH0OYWmqkOWQ1ChT3P40xm+n+AJ9W9g/58LVt4N2G8S7J4SdAFQ1pBZjXZXwlHteDxjHE8YWLdgEWh5e2MHyGFGoXtoHpTDgNoZFErioFWsztplCq0fobSPs3tIBYQ0SESJvaggCGqMQUuYcv4OoOmpwhNkIFQoj1qO0O6Ief6Ncfp1R8sESgI71tfkgKyxqLoO6zpD0tTIpIDtxyvYDYUTOrarbQ/Debr+GAGds5De8+uuQMtM4dwM3XZvB0KF/9oPEf7+XTxDSXfb2HId55c2Jbb1Hvv2gEK2sYTWd5qi/plSUbHQVOVnHJnDUMEYv2Bj/poSFD7sBfI2mKLwchDI2paRMYyOhWHbS+YYTZGMTDAl7ywDzJDTkEyyXdWg0h2yTkBaF6NzG3hhyol7O0xzbG8+AtN0jhVafoctaJmxoUJJZY85WzQDCiraHjK+PiVVi6gwrN+dpjisi46maM6uicYY//rKXMZpMVAwOs+VpCGWa2cZHY1ahQdhugIsWL1XUwL0iQpr6SGMwrbJkXYVcq7eT7YeHollphDYUklQOk7h3fv49kWmBHcVI3OZsY9qCfQP8QtOMN+fS54AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"match-phrase-prefix1\"\n        title=\"match-phrase-prefix1\"\n        src=\"/static/6bf48a0387a2a1dacd9a3f857a64f1a8/c08bc/match-phrase-prefix1.png\"\n        srcset=\"/static/6bf48a0387a2a1dacd9a3f857a64f1a8/991de/match-phrase-prefix1.png 173w,\n/static/6bf48a0387a2a1dacd9a3f857a64f1a8/e4d6b/match-phrase-prefix1.png 345w,\n/static/6bf48a0387a2a1dacd9a3f857a64f1a8/c08bc/match-phrase-prefix1.png 579w\"\n        sizes=\"(max-width: 579px) 100vw, 579px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>  </p>\n<p>보시는 것과 같이 이전 Prefix를 Keyword에 검색하는 것과 같은 결과가 나옵니다  </p>\n<br/>\n<p><strong>그럼 어떠한 경우에 다르게 나올까요?</strong>    </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"match_phrase_prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"추천 20\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 488px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95.3757225433526%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACK0lEQVQ4y41U2ZLaMBDc//+uPCR5SDZQLGBgDRjbsq3LliwZNlWdkTkWb4XjYWokl6bdrR7NS60MVj9ekf6eQI3fYKcRfLSCm0Votyls94HW7Y/hDw/jpclLVOMpxtsSmx2tCwElarRNi3Yygz0BhWzdE4A6ZTCrGIk9IGIaibKQtkNmFMx0Ch/AnmB2ATRcgX37jpJYFn8m4COSTXKzXyMkP19R1sTU708M91dM9xf2Q8C2Q8IkRjFDSnKFrGGMA5cGhXaQpkPX/YU/xbHwtvwX3TgoYqEJRBjfMwqHlbXgjQZTEkxr+q7pB5rOtfcZKgIMoJyA3nYVZimnIot5vkZc7JArjkwJyqLPTwNKcnWeUaFowKRETtJzaVHVvpd8lu0eSb5muGQKEYGGdc411pXCttKoWw/juudM0SdARQzXhcIikyTLIxEFFuUGMd9RZIirDAuWQFt3ty8vpnBVw3WHPoaHPkjmOQ4XsNuNHe5PWwhtSNYeDbVRiCCxIanatn3UxCzk8O2T4V3Jrnc4OG2oaJ5v6D6D0yk2vKQrKLHlBZlnnm+biO6PUUOXWiEjp4Pzofha7kPJZ0BxAlzmEiVNoIw3eC80MdQ9QA9Kk+fajIcux8WxbSTtE5K3rBKsRY6NYNiS6+9lNnD5pik9QzKltp7eru/lhULeNPQcTb8+PsVmMM7+C1gTQA9GbzlIcqfDIfvus11CDvuHd1g3x8EwaAX3dVwN4x7oP3EwsLnAsNoYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"match-phrase-prefix2\"\n        title=\"match-phrase-prefix2\"\n        src=\"/static/5fe74e129df9478e08dfd9a1a40b2f1b/bd48c/match-phrase-prefix2.png\"\n        srcset=\"/static/5fe74e129df9478e08dfd9a1a40b2f1b/991de/match-phrase-prefix2.png 173w,\n/static/5fe74e129df9478e08dfd9a1a40b2f1b/e4d6b/match-phrase-prefix2.png 345w,\n/static/5fe74e129df9478e08dfd9a1a40b2f1b/bd48c/match-phrase-prefix2.png 488w\"\n        sizes=\"(max-width: 488px) 100vw, 488px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Match Phrase Prefix</span>  </p>\n<p>이전과 다르게 2가지의 결과만 나왔습니다<br>\n<strong>추천과 20</strong>이라는 키워드를 차례대로 포함하고 있어서 입니다<br>\n일반적인 <span class='red_font'>like</span>검색과는 차이가 있습니다  </p>\n<br/>\n<p>색인키 <strong>스팀게임, 추천, 2019</strong>를 각각 가지고 있고 해당 색인키가 <code class=\"language-text\">차례대로 나올때에만</code> 검색이 됩니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"fuzzy\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"word\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"20 추천\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"fuzziness\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 230px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.42774566473989%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABxklEQVQoz22T63KbMBCF/f4v1k5mGnfspnGapOBgMEggLpK42jk9UiiTCz92ZMzut+fsik3XT7DdiFjWuHmMsXsREHULa1pkQuGcKXTDBaYdlnD5/8/PsemZXDYWxvZIlMY2yLCLJHbHjM8GmmBVNh4+jFfYBbreYNOPBNbWR2M6hFmJ+zjHnkBRWd9EqAZ5USHjc2MHtCzUbb+oeq/2DdhQRWU81HUOUuWBTuX9mZYdQFts/yZIiwaGOePw6qHrCmdgxbOiyl+0fBuk2IaZ/70LUxxOhbfvmp4KiW9PWxxlSsj0wfpi2cHcrDRfSFqLqeSFi4oLjYhn0XS+qNadVxaIBEob2p++WlYEai7lGMUoCb1cXjHy/+t0xYUxMfRc5DbecznDcEXXX9Ytq3khCVV9f4hwiAtEeY39vO3bUCDlSFzTVEjc3f3B43OINC/R9iuWPZBWRGnw4znBT0IOiULAjZ9khWNacCQWUtW0zHGcJTLCBDffzurMx3vYeoXu/E1V+0gglA06zqqqDWReeFhWlN6us+2jn75ccA+sdYs4kW/zGSbOZ2LyuHR1Vl28/1o+X+pFYcdil1xyRsvLlaK1S7wW/wAlcJY+B6zEEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"match-phrase-prefix3\"\n        title=\"match-phrase-prefix3\"\n        src=\"/static/a4a56520d8773bbf550987a52f168f5d/81c8e/match-phrase-prefix3.png\"\n        srcset=\"/static/a4a56520d8773bbf550987a52f168f5d/991de/match-phrase-prefix3.png 173w,\n/static/a4a56520d8773bbf550987a52f168f5d/81c8e/match-phrase-prefix3.png 230w\"\n        sizes=\"(max-width: 230px) 100vw, 230px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Match Phrase No Match</span><br>\n따라서 다음과 같이 색인키의 순서가 다를 때에는 검색에서는 결과가 나오지 않습니다  </p>\n<br/>\n<hr>\n<br/>\n<h2 id=\"combine-query\" style=\"position:relative;\"><a href=\"#combine-query\" aria-label=\"combine query permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Combine Query</h2>\n<p>마지막은 위에서 언급한 것들을 적절하게 섞어서 쓰는 방식입니다<br>\nElastic에 bool 쿼리를 사용하여 쉽게 작성 가능합니다<br>\n예를 들어 아래 예제는 Fuzzy와 Prefix를 혼합하여 쓰는 방식입니다  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">GET autocomplete_test_1/_search\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"bool\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"should\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"fuzzy\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"word.keyword\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게임 불\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token property\">\"fuzziness\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"prefix\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"word.keyword\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"스팀게임 \"</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 605px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95.95375722543352%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVQ4y51U2W7bMBD0/39U0QJODyNJ07RA09ixopsyT5EiJdlJp0sjR9OHRsrDeA3YHMzsDLlwfkDS6COkdnBhROgP6GhG+H7/NKdgEQm19biuFdKdgWo9pG3px/lkR0Lb9Whki0o5VNLBuJ6+G3AiflQ5R+2ii5aZwi2p49oSYYBoA7jx8P8cnqKWFA5QpoOguRUWmg6VRiDXHJkSKBUnCEQnj6TdfwnjDomwSnIk6wwiz1EkW6i8RCcUHO0y7nmy5SMhWd19+IjNuxPITytUy88o3i9hL3+gG+iPYa5lCoDbgF+NgXADCiOR6AYbUSEVDP1DjSYpjHa4amGpOuNwQIg9JEWhf8bsUCTtkFNdUtlBewqlVcjlDoXkqLUkKFg/JxTaYZVWuImhFCXyZAMhJYwPaLsAQ4hOphHSh8kqNKcXuDo5A7/4DrY6h88r+P39sYthlmX/0EMmsN6WkDSLMsWmyZBQKKUWT3d7cihC2eOOxsNvhPGOcI9+uCNQSBFEOEthfGVEvMPa095GNNbQfRYECWYUWAxlzk0xhh6GnOHqOoOsGZJkjYbvIF0H5Rw0TfeX5QmhlKhXX/FzeQp2/g3syxnCbY4QVxD2bwglWq52uKFQVE1WixRbllEvG+pjg1KKFwpfDUWS5ZZmiDWhUBwFER+FeNiFlw/Da4R/AKwmsmnhk6TzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"combine-1\"\n        title=\"combine-1\"\n        src=\"/static/ecc314c38e3b4921a0b7e08c3943750f/90cbd/combine-1.png\"\n        srcset=\"/static/ecc314c38e3b4921a0b7e08c3943750f/991de/combine-1.png 173w,\n/static/ecc314c38e3b4921a0b7e08c3943750f/e4d6b/combine-1.png 345w,\n/static/ecc314c38e3b4921a0b7e08c3943750f/90cbd/combine-1.png 605w\"\n        sizes=\"(max-width: 605px) 100vw, 605px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span class='img_caption'>Fuzzy와 Prefix의 혼합</span>  </p>\n<br/>\n<p>결과를 보시면 Should를 사용하여 Fuzzy와 Prefix 중 한가지라도 조건이 맞으면 결과로 노출됩니다<br>\n여기서 확인해야 할것은 <code class=\"language-text\">score</code>에 의한 <code class=\"language-text\">정렬</code>입니다<br>\n맨처음 <strong>스팀게임 환불</strong>만 Fuzzy와 Prefix를 모두 만족시켜서 높은 스코어로 맨 위에 노출되었습니다  </p>\n<br/>\n \n실제로 Fuzzy쿼리만 검색해보시면 다음과 같은 score 확인이 가능합니다  \n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 389px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.03468208092485%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVQ4y42U65OaMBTF/f//qU47/dBu66OuLowPFEWRQAIk4SG6Pb2Jj6WrbvvhDBkm/Dj33Jt0VLHHYicwXsdgqQYXEpksUFSNlS73Vpf15f0jdVRRI8sLzLYcoxXDTigIntl3BQHq6mifmvbZp/nwA3AnVxWErpFUB/Q3AoOtgMc1NnmFpKgQKII3ryiOgN4f36CPgJJKFnMfauqBuTPEpHA8gZwtoOcewpch9MJHTSoSAV0fPnaoY4Hk0xcseyNwA3t2ERFQTebgzhTLvoPl4AVh7xnVtx/Q5PaS6718OzJVkE9djD9/h/v1J7ZPPVIX5dhFPhwj6g6RDEZIu79QjhwUpvx3Di2svJZcIyXFmbZZ1s2RMqI/15QXZVYToGxO63vuzF4LrS4ONYVPo5LTqPBLt31G65LGR8HdLDDZ+nADDw6tPbbBLArgxSGCJEIqNUpqqD436wSksnNVIpElhn5EAIFUFdilCSbhEqHgULqEpK4b5eenqa6d4S2QHE7IoZnFJM/JAUOUFojpfUKO2yXeZHgdmxaQ0YfO5jTgodBITQRhilWs4DMJc6oODd5KvNvlFlBQyU4QU9kM60QSUGFBmU3ZiuQjEAz9wMWaM1TUtDbwxmFGsDTXFrrhNEra5FMjzAR8vrNieYZ5HFDW+V8ub4A809aNIGBFJ6E2p+G8wTjZ71+tzLrZ/0ZZHx5eFB2TSyykdde+Xf6l9zfRFWhAPJU3Hfufq+qe/gAnqsV0DQsI4AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"combine-2\"\n        title=\"combine-2\"\n        src=\"/static/3b46308576045adf23bbda9d6aa05d69/00a4e/combine-2.png\"\n        srcset=\"/static/3b46308576045adf23bbda9d6aa05d69/991de/combine-2.png 173w,\n/static/3b46308576045adf23bbda9d6aa05d69/e4d6b/combine-2.png 345w,\n/static/3b46308576045adf23bbda9d6aa05d69/00a4e/combine-2.png 389w\"\n        sizes=\"(max-width: 389px) 100vw, 389px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br>\n이걸로 이전 결과가 <code class=\"language-text\">prefix 1 + fuzzy 1.4로 2.4</code>로 스코어 집계가 된걸 확인할 수 있습니다<br>\n이처럼 여러 조건을 혼합한 설계로 좋은 품질의 자동완성을 만드는 것이 가능합니다  </p>","frontmatter":{"title":"[Elastic] 1. Elastic 자동완성 가이드 (Autocomplete Guide) - Prefix Queries","date":"April 18, 2020"}}},"pageContext":{"slug":"/elastic/autocomplete/elastic-autocomplete-1/","previous":{"fields":{"slug":"/spring/batch/spring-batch-chapter-3/"},"frontmatter":{"title":"[Spring] 3. Spring Batch의 ItemReader - DB Item Reader","category":"Spring"}},"next":{"fields":{"slug":"/data-science/levenshtein-distance/"},"frontmatter":{"title":"[DataScience] Levenshtein Distance (편집거리 알고리즘) - 문장 유사도 분석을 어떻게 하는가?","category":"Data Science"}}}},"staticQueryHashes":["3128451518","96099027"]}