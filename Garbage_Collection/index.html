<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.5 'Noto Sans KR';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Noto Sans KR';font-weight:300;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Nanum Gothic';font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Nanum Gothic';font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Nanum Gothic';font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Nanum Gothic';font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Nanum Gothic';font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:'Nanum Gothic';font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}ul{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:0.85rem;line-height:1.5rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:1rem;line-height:1.5rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}blockquote{margin-left:1.5rem;margin-right:1.5rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}b{font-weight:500 !important;}strong{font-weight:500 !important;}dt{font-weight:500 !important;}th{font-weight:500 !important;}li{margin-bottom:calc(1.5rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}li > ul{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5rem / 2);}code{font-size:0.85rem;line-height:1.5rem;}kbd{font-size:0.85rem;line-height:1.5rem;}samp{font-size:0.85rem;line-height:1.5rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:calc(0.75rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><title data-react-helmet="true">[JVM] Garbage Collection</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Nanum+Gothic:400,700|Noto+Sans+KR:300,500" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="Deokhwa Kim&#x27;s blog"/><meta data-react-helmet="true" name="og:type" content="website"/><meta data-react-helmet="true" name="og:image" content="/static/profile-314c16d718a18b1ab9bfa6d4482cfc6a.jpg"/><meta data-react-helmet="true" name="og:url"/><meta data-react-helmet="true" name="keywords" content="Java,Kotlin,GC,ZGC,G1GC,JVM"/><meta data-react-helmet="true" name="og:title" content="[JVM] Garbage Collection"/><meta data-react-helmet="true" name="og:description" content="JVM Garbage Collection얼마전 JDK 버젼이야기를 하다가 GC의 대해서 이야기 하는 자리가 생겼습니다C++같은 언어들에 비해 JVM기반 언어들은 GC…"/><script data-react-helmet="true" async="" src="https://www.googletagmanager.com/gtag/js?id=UA-147163050-1"></script><script data-react-helmet="true">
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'UA-147163050-1');
              </script><script data-react-helmet="true" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><style data-href="/styles.5b368c12b20e1a1deade.css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}.svg-inline--fa,svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:.08em solid #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s linear infinite;animation:fa-spin 2s linear infinite}.fa-pulse{-webkit-animation:fa-spin 1s steps(8) infinite;animation:fa-spin 1s steps(8) infinite}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";-webkit-transform:scaleX(-1);transform:scaleX(-1)}.fa-flip-vertical{-webkit-transform:scaleY(-1);transform:scaleY(-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical,.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1);transform:scale(-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.blog-post-container{margin-top:3rem}@media screen and (max-width:70em){.blog-post-container{margin-top:2rem}}@media screen and (max-width:50em){.blog-post-container{margin-top:1rem}}.blog-post-container .blog-post .post-header{text-align:center;margin-bottom:6rem}.blog-post-container .blog-post .post-header .title{color:#424242;font-size:1.4rem}.blog-post-container .blog-post .post-header>:nth-child(3){border-left:1px solid #d3d3d3}.blog-post-container .blog-post .post-header .date,.blog-post-container .blog-post .post-header .tags{display:inline-block;padding:0 .5rem;color:#666}.blog-post-container .blog-post .post-header .tags a{margin-right:.5rem;color:#666}.blog-post-container .blog-post .blog-post-content h1,.blog-post-container .blog-post .blog-post-content h2,.blog-post-container .blog-post .blog-post-content h3{margin-bottom:1rem;border-left:.2rem solid #ff609a;padding-left:.5rem}.blog-post-container .blog-post .blog-post-content h1,.blog-post-container .blog-post .blog-post-content h2{margin-top:5rem}.blog-post-container .blog-post .blog-post-content h3{margin-top:2rem}.blog-post-container .blog-post .blog-post-content>div,.blog-post-container .blog-post .blog-post-content>h3,.blog-post-container .blog-post .blog-post-content>h4,.blog-post-container .blog-post .blog-post-content>p{padding-left:.7rem}@media screen and (max-width:50em){.blog-post-container .blog-post .blog-post-content>div,.blog-post-container .blog-post .blog-post-content>h3,.blog-post-container .blog-post .blog-post-content>h4,.blog-post-container .blog-post .blog-post-content>p{padding-left:0}}.blog-post-container .blog-post .blog-post-content>h4{margin:.5rem 0}.blog-post-container .blog-post .blog-post-content p>a{font-weight:400}.blog-post-container .blog-post .blog-post-content hr{border-bottom:1px solid #d3d3d3;margin:3rem 0}.blog-post-container .blog-post .blog-post-content pre{font-size:.9rem}.blog-post-container .blog-post .blog-post-content pre>code a{color:#ccc}.blog-post-container .blog-post .blog-post-content>blockquote>p{margin-bottom:.5rem}.blog-post-container .blog-post .blog-post-content .red_font{color:#db7093}.blog-post-container .blog-post .blog-post-content .code_header{display:block;margin-bottom:-15px}.blog-post-container .blog-post-nav{display:flex;margin:5rem 0 2rem}.blog-post-container .blog-post-nav>div{flex-grow:1}.blog-post-container .blog-post-nav>div .nav-wrap{display:flex;padding:.5rem 1rem}.blog-post-container .blog-post-nav>div .nav-wrap .angle{align-self:center}.blog-post-container .blog-post-nav>div .nav-wrap>a{color:#424242;flex-grow:1;align-self:center;padding:.5rem 1rem}.blog-post-container .blog-post-nav>div .nav-wrap>a p{margin:0 0 .5rem}.blog-post-container .blog-post-nav>div .nav-wrap>a span{font-weight:700}.blog-post-container .blog-post-nav>div .nav-wrap>a:hover{color:#000}.blog-post-container .blog-post-nav .prev{text-align:left}.blog-post-container .blog-post-nav .next{text-align:right}.blog-post-container .blog-post-nav>div:nth-child(2){border-left:1px solid #d3d3d3}.comments{margin-top:3rem}.comments a{color:#424242}.gatsby-highlight .language-textbox code{border-radius:5px;color:#383838}.gatsby-highlight pre[class*=language-]{border-radius:5px;display:flex}.gatsby-highlight pre[class*=language-] code[class*=language-]{flex:1 1}.gatsby-highlight pre[class*=language-textbox]{background-color:#f8f8f8;border:1px solid #ccc}.gatsby-highlight .gatsby-highlight-code-line{background:-webkit-gradient(linear,right top,left top,from(transparent),to(#000));background:linear-gradient(270deg,transparent,#000);display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;border-left:.25em solid #ff609a;width:100%}li code[class*=language-text],p code[class*=language-text]{background-color:#a8e6cf;color:#000;font-weight:600}.endLine_hr{margin:64px 15%;background:-webkit-gradient(linear,left top,right top,from(#205072),color-stop(25%,#329d9c),color-stop(46%,#56c596),color-stop(69%,#7be495),to(#cff4d2));background:linear-gradient(90deg,#205072,#329d9c 25%,#56c596 46%,#7be495 69%,#cff4d2);border:none;height:2px}@media screen and (max-width:50em){.endLine_hr{margin:50px 0}}.blog-post-profile{display:block;margin-left:16%;margin-right:8%}@media screen and (max-width:50em){.blog-post-profile{margin-left:0;margin-right:0}}.blog-post-profile .blog-post-logo-img{width:100px}@media screen and (max-width:50em){.blog-post-profile .blog-post-logo-img{width:80px}}.blog-post-profile .blog-post-logo-img>img{border-radius:100%;margin:0;padding:2px;-webkit-transition:.3s;transition:.3s;border-style:none;max-width:100%}.blog-post-profile .author{display:flex;align-items:center;box-shadow:0 1px 3px 0 #d4d4d5,0 0 0 1px #d4d4d5;padding:20px 20px 0}.blog-post-profile .author .author-description>a{height:100%}.blog-post-profile .author .author-description .author-name{margin-left:3.5em}.blog-post-profile .author .author-description .author-name .author-name-tag{background-color:#00b5ad;color:#fff;position:absolute;padding-left:1.5em;padding-right:1.5em;margin-left:-11.5em;margin-top:-3.5em;height:1.75em;border-radius:0 .28571429rem .28571429rem 0;cursor:pointer;font-weight:600;display:inline-block}@media screen and (max-width:50em){.blog-post-profile .author .author-description .author-name .author-name-tag{margin-left:-11em}}.blog-post-profile .author .author-description .author-name .author-name-tag:before{position:absolute;-webkit-transform:translateY(-50%) translateX(50%) rotate(-45deg);transform:translateY(-50%) translateX(50%) rotate(-45deg);top:50%;right:100%;content:"";background-color:inherit;background-image:none;width:1.2em;height:1.2em;-webkit-transition:none;transition:none}.blog-post-profile .author .author-description .author-name .author-name-tag:after{position:absolute;top:50%;right:100%;left:-.25em;margin-top:-.25em;content:"";background-color:#fff;background-image:none;width:.5em;height:.5em;box-shadow:0 -1px 1px 0 rgba(0,0,0,.3);border-radius:500rem}.blog-post-profile .author .author-description .author-name .author-name-tag:hover{background-color:#007f79}.blog-post-profile .author .author-description .author-name .author-introduction{margin-top:3rem}.blog-post-profile .author .author-description .author-name .author-socials{margin-bottom:2rem}.blog-post-profile .author .author-description .author-name .author-socials>a{color:#11131e;font-weight:600}.tag-wrap{margin-bottom:3rem;padding:1rem}.tag-wrap .tag-list{display:flex;flex-wrap:wrap}.tag-wrap .tag-list .tag{list-style:none;background-color:#666;color:#fff;padding:.25rem .5rem;margin-right:1rem;margin-bottom:1rem;border-radius:3px;cursor:pointer}.tag-wrap .tag-list .tag .tag-name{font-size:1rem;margin-right:.5rem}.tag-wrap .tag-list .tag .tag-count{color:#d3d3d3}.tag-wrap .tag-load{text-align:center;-webkit-transition:.3s;transition:.3s;border-radius:3px;border:1px solid #d3d3d3}.tag-wrap .tag-load:hover{cursor:pointer;background-color:#666;color:#fff}html{background-color:#fff;line-height:1.666!important}html a{text-decoration:none}@media screen and (max-width:50em){html{font-size:.9rem}}.pointer-event-disable{pointer-events:none!important}#wrap{display:flex;flex-direction:column;padding-top:5rem;min-height:100vh;background-color:#fff}@media screen and (max-width:70em){#wrap{padding-top:5rem}}@media screen and (max-width:50em){#wrap{padding-top:3rem}}.logo-img{height:3.5rem;width:4.5rem;margin-right:.5rem;padding:.1rem;margin-bottom:.1rem}@media screen and (max-width:50em){.logo-img{height:2rem;width:2rem;margin-right:.1rem;margin-bottom:-.5rem}}.logo-img img{opacity:.7;margin:0;padding:2px;-webkit-transition:.3s;transition:.3s;border:1px solid #666;border-radius:100%}@media screen and (max-width:50em){.logo-img img{padding:1px}}.logo-img img:hover{opacity:1}#header{display:flex;position:fixed;top:0;z-index:99;min-width:100%;height:5rem;box-sizing:border-box;flex-direction:row;background-color:#fff;padding:0 10%;align-items:center;border-bottom:1px solid #d3d3d3;border-top:0;box-shadow:0 .5rem .5rem -.5rem #d3d3d3}@media screen and (max-width:70em){#header{padding:0 5%;height:5rem}}@media screen and (max-width:50em){#header{padding:0 1rem;height:3rem}}#header a{color:#666}#header .title{display:flex;padding:0;margin:0}#header .title .title-wrap,#header .title .title-wrap>a{max-height:inherit;height:inherit}#header .title .title-wrap>a{display:flex;min-height:100%;flex-grow:1;flex-direction:row;border-bottom:0;border-top:0;align-items:center}@media screen and (max-width:50em){#header .title .title-wrap>a .bio{display:none}}#header .title .title-wrap>a>div p{margin:0}#header .title .title-wrap>a>div h1{font-size:1.2rem;display:inline-block;margin:0 10px 0 0}#header .title .title-wrap>a>div .sub_header_title{font-size:.8rem}@media screen and (max-width:50em){#header .title .title-wrap>a>div .sub_header_title{display:none}}#header .menu{display:flex;flex-grow:1;flex-direction:row;font-size:1.1rem;justify-content:flex-end;margin-top:1rem}@media screen and (max-width:50em){#header .menu{margin-top:0}}#header .menu>div{margin-left:1.5rem;-webkit-transition:all .1s ease-in-out;transition:all .1s ease-in-out}@media screen and (max-width:50em){#header .menu>div span{display:none}}#header .menu>div:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}#header .menu>div span{margin-left:.1rem}#article{color:#424242;width:70vw;margin:0 15vw;padding:2rem}@media screen and (max-width:70em){#article{width:80vw;margin:0 10vw;padding:1.5rem}}@media screen and (max-width:50em){#article{width:95vw;margin:0 2.5vw;padding:1rem}}figure{width:400px}@media screen and (max-width:50em){figure{width:85vw}}.float_left{float:left;margin-right:3rem}@media screen and (max-width:70em){.float_left{margin-right:1rem}}.float_left_content{float:left}@media screen and (max-width:70em){.float_left_content{width:25em}}.float_right{float:right;margin-left:3rem}@media screen and (max-width:70em){.float_right{margin-left:1rem}}.float_right_content{float:right}@media screen and (max-width:70em){.float_right_content{width:25em}}.sub_header{font-size:.8rem}.img_caption{font-style:normal;display:inherit;text-align:center;font-size:90%}.clear_float{clear:both}.table-wrapper{overflow-x:auto}#footer{display:flex;min-height:2rem;max-height:4rem;align-items:center;border-top:1px solid #d3d3d3;padding:0 2rem}@media screen and (max-width:50em){#footer{text-align:center}}#footer .copyright{font-size:1rem;color:#666;flex-grow:1}#footer .copyright a{color:#666}#PostList .list-title{margin:0;text-align:center;font-size:1.75rem}@media screen and (max-width:70em){#PostList .list-title{font-size:1.5rem}}#PostList .list{display:flex;flex-direction:column}#PostList .load .loading{padding:5rem 0;text-align:center}#PostList .load .load-point{height:1px}#PostList .blink{-webkit-animation:blink-animation .5s infinite alternate;animation:blink-animation .5s infinite alternate}@-webkit-keyframes blink-animation{0%{color:#000}to{color:#d3d3d3}}@keyframes blink-animation{0%{color:#000}to{color:#d3d3d3}}.post-link{padding:4rem 0;border-bottom:1px solid #d3d3d3}@media screen and (max-width:70em){.post-link{padding:3rem 0}}@media screen and (max-width:50em){.post-link{padding:2rem 0}}.post-link a{color:#424242;text-decoration:none}.post-link a:hover{color:#000}.post-link .title{display:inline-block;margin-bottom:.5rem;font-size:1.2rem}.post-link .sub{display:flex;font-size:.9rem;margin-bottom:.75rem;align-items:center;color:#666}.post-link .sub a{color:#666}.post-link .sub .date{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:.5rem}.post-link .sub .date span{margin-left:.2rem}.post-link .sub .tags-list{display:flex;flex-direction:row;border-left:1px solid #d3d3d3}.post-link .sub .tags-list .tag{margin:0 .5rem}.post-link .excerpt{display:block;color:#4d5256;word-break:break-all}.hover{-webkit-transition:.3s;transition:.3s}.hover:hover{color:#000}body{padding:0;margin:0}.result a{color:#424242;-webkit-transition:.3s;transition:.3s}.result a:hover{color:#000}.no-result{text-align:center}.page-list{margin:0;border-top:1px solid #d3d3d3;width:100%;display:flex;padding:1rem 2rem}@media screen and (max-width:50em){.page-list{padding:.5rem 0}}.page-list .page-nav{all:unset;cursor:pointer;font-size:1.5rem;width:2rem;display:flex;color:#d3d3d3}.page-list .page-nav:hover{-webkit-transition:all .3s;transition:all .3s;color:#000!important}.page-list .page-nav>*{margin:0 auto}.page-list .page-number{color:#666;border:0;background-color:transparent;text-align:center;display:inline-block;flex-grow:1;-webkit-transition:.3s;transition:.3s}.page-list .page-number:focus{outline:none}.page-list .page-number:hover{cursor:pointer;color:#000}.page-list .page-dummy{pointer-events:none}.page-list .page-number.select-number{color:#000;font-weight:700}#search input:focus,#search select:focus{outline:none}#search .search-bar-wrap{margin:1rem auto 3rem;width:100%}#search .search-bar-wrap .search-bar{width:inherit;display:flex;font-size:1rem;align-items:center;margin-bottom:.5rem}#search .search-bar-wrap .search-bar svg{color:#666}#search .search-bar-wrap .search-bar #searchInput{width:80%;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;background-color:transparent;border:0;border-bottom:1px solid #d3d3d3;font-size:1.2rem;flex-grow:1;margin-left:1rem;text-align:center}#search .search-bar-wrap .search-type{font-size:.9rem;text-align:right}#search .search-bar-wrap .search-type>div{display:inline-flex;align-items:center}#search .search-bar-wrap .search-type input{margin-left:.5rem}#search .search-bar-wrap .search-type input:hover{cursor:pointer}#search .search-bar-wrap .search-type input[type=radio],#search .search-bar-wrap .search-type input[type=radio]:checked{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:.9rem;height:.9rem;border-radius:100%;margin-right:.1rem}#search .search-bar-wrap .search-type input[type=radio]{background-color:transparent;border:2px solid #d3d3d3}#search .search-bar-wrap .search-type input[type=radio]:checked{background-color:#666}</style><meta name="generator" content="Gatsby 2.15.4"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="manifest" href="/manifest.webmanifest"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=f081fa739c9c8df01963bc93e8c99786"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/component---src-templates-blog-post-index-js-172538d6fe4304382b0d.js"/><link as="script" rel="preload" href="/app-db03a0907d81bdadaeb6.js"/><link as="script" rel="preload" href="/commons-c340fe5b683fbbbfa1cd.js"/><link as="script" rel="preload" href="/styles-3c150c08dec695428583.js"/><link as="script" rel="preload" href="/webpack-runtime-545b151ab0b9a68d5920.js"/><link as="fetch" rel="preload" href="/page-data\Garbage_Collection\page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div id="wrap"><header id="header"><div class="title"><div class="title-wrap"><a style="float:left" href="/profile"><div class="logo-img" style="display:inline-block"><img src="/static/profile-314c16d718a18b1ab9bfa6d4482cfc6a.jpg" alt="logo"/></div></a><a href="/"><div><h1 id="header_title">DRcode</h1><span class="sub_header_title">DoRyeong Code Factory</span><p class="bio">Deokhwa Kim</p></div></a></div></div><div class="menu"><div class="home"><a href="/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" class="svg-inline--fa fa-home fa-w-18 fa-fw " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" style="transform-origin:0.5625em 0.5625em"><g transform="translate(288 256)"><g transform="translate(0, 32)  scale(1, 1)  rotate(0 0 0)"><path fill="currentColor" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z" transform="translate(-288 -256)"></path></g></g></svg><span>Home</span></a></div><div class="tags"><a href="/tags"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-w-20 fa-fw " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" style="transform-origin:0.625em 0.5625em"><g transform="translate(320 256)"><g transform="translate(0, 32)  scale(1, 1)  rotate(0 0 0)"><path fill="currentColor" d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z" transform="translate(-320 -256)"></path></g></g></svg><span>Tags</span></a></div><div class="search"><a href="/search"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16 fa-fw " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="transform-origin:0.5em 0.5625em"><g transform="translate(256 256)"><g transform="translate(0, 32)  scale(1, 1)  rotate(0 0 0)"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z" transform="translate(-256 -256)"></path></g></g></svg><span>Search</span></a></div></div></header><article id="article"><div class="blog-post-container"><div class="blog-post"><div class="post-header"><h1 class="title">[JVM] Garbage Collection</h1><div class="date"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="calendar-alt" class="svg-inline--fa fa-calendar-alt fa-w-14 fa-fw " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"></path></svg>2019-10-01</div><div class="tags"><a href="/tags/java">#<!-- -->Java</a><a href="/tags/kotlin">#<!-- -->Kotlin</a></div></div><div class="blog-post-content"><h1>JVM Garbage Collection</h1>
<p>얼마전 JDK 버젼이야기를 하다가 GC의 대해서 이야기 하는 자리가 생겼습니다<br>
C++같은 언어들에 비해 JVM기반 언어들은 GC가 알아서 메모리 관리를 해주기 때문에 자세히 알아보지 않은 부분들이라 적지않게 당황했습니다<br>
그래서 JVM기반 언어들을 사용한다면 내부 구현의 대해서 어느정도 알아야겠다고 생각했고 GC에 대해 정리 하게되었습니다  </p>
<h3>JVM 메모리 영역</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 618px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 58.7378640776699%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABqUlEQVQozz2SSY+CQBCF+///CePFqOPgAmgUNCIu6ODgrhH3xMR48KLx7DddYd6hU3R11XuvCtXpdPL5/HeCWq12OByCICA2TbNarRqGQcDnl0Y2m83lcpZlua6rwjD0fX8wGPgalD2fzziO+/3+aDSKouhHYzgckup2u71ej5PUZDJRlDWbTXoXi0WatVqt4/G4XC4dx6nX67ZtcyLHSsDLdrv9q6FOp9Nut9tut7EGmt/v9/l8RtF4PIZQmCGkBk7UwTmdTufz+Z9sriCEH6nk9vs9adggwTDknI1Gg2LaUSa0uFCLxYJILEUar9frcrkIs7jFITybzWa1WuGIeqrW67WiEmZoMUkAOZp5amrYGthmIpVKhb2gCHUySMU70QCD6GHaDIIbCCHnHZcEfNKaT0ogR4XCSSaTMTQKhQL8MNOVlcJWKpXYcLlcZhHMzPM8tiN2CBTSQw3a0xVLeJZ6bmTU3LMOVogiUgQsiLkqDOCKBXLCA8Pj8aAslUqhKJ1OE+AZTleDsXsJFDYcjf8Eq8YPTflz5RHMs9kMUSLter3ebrf7/f4BYqkuFtFTsU0AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="jvm_memory"
        title="jvm_memory"
        src="/static/2c79409f6b1bbcf8d7d026ef336db283/f16ef/jvm_memory.png"
        srcset="/static/2c79409f6b1bbcf8d7d026ef336db283/07e12/jvm_memory.png 240w,
/static/2c79409f6b1bbcf8d7d026ef336db283/5ca43/jvm_memory.png 480w,
/static/2c79409f6b1bbcf8d7d026ef336db283/f16ef/jvm_memory.png 618w"
        sizes="(max-width: 618px) 100vw, 618px"
        loading="lazy"
      />
    </span><br>
<span class='img_caption'>source <a href="https://yckwon2nd.blogspot.com/2014/04/garbage-collection.html" target="_blank" rel="nofollow noopener noreferrer">jvm_memory</a></span></p>
<h3>GC의 역할</h3>
<p><strong>GC의 역할은</strong> Heap 메모리에 대한  </p>
<blockquote>
<ol>
<li>참조가 없는 객체들을 메모리에서 탐색하고 제거 하여 메모리를 확보하는 작업  </li>
<li>단편화된 메모리 공간을 조각 모음하여 압축하는 작업   </li>
</ol>
</blockquote>
<p>을 담당하게 됩니다</p>
<p><strong><em>GC를 수행하면 일반적으로 Stop The World(STW)가 되며 application이 멈추게 되는데 위의 작업을 얼마나 빠르게 할 것인가</em></strong>  </p>
<br/>
<h3>GC의 종류</h3>
<blockquote>
<ol>
<li>마이너 GC : Young 영역에서 발생하는 GC</li>
<li>메이저 GC : Old 영역이나 Perm 영역에서 발생하는 GC / (FULL GC)</li>
</ol>
</blockquote>
<h3>Heap 메모리 구조 (JDK8까지)</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 45.520833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAXEQFnlpcGAAACAUlEQVQoz5WSXU8TQRSG+yM1EgkpMXqpN96aqIkXUFiKUikXGJQoUaPojSCQGL5saYNJKZV+uLRd2+5suy1LS1mg2+3jlILGxBvf5DmZc2bmzcnM8XSAjuvS6XRwmk1ah9Y5TvMIV9Zc91+4cq/9F937XXm4WHTl1hucpH9g76VolXT+V11TT9eupmnosRg/N79Q2PiMtrZIbnWReEojka+QyAp2JYmsIakQz6nsGlskRJSEEWVHD2E2RK/DlgzWxw+cKn6qyh3sgBdzpJ+CcgP/isFE2CEQPuNppM1EyCawCb7oMuN2H5PuTYISX/MqW7VPPcO2DMb8e8pDPg4e3+Vg3EtldABNucXUxiHTO/Bkrc7wQoFg5ITpbzKPrzPpePEVvCilQfzH/Ww3lnqGjgwH8/McD49QH7uNPX4dy3cNoQwSWG8QjEmDkIOyekQg6jK1DWPxNSbow98cOGfUuUK0sfCnQ7G8hHg+S352DH3uEbmZB6SmHzKzkuZVWPB6S/AmUmYuXOTlZpVnoWXm9Pu8NYd4V/XxoniPuPn14pel7FoNS1Wxkilqu9+p7+eolwRVs0LJMEnldNL5IvlSmZo8WxB5NKHKPE22mETTVRrHVs/wcn7OikVOMmk5NpJ99fco2PJNVLNF2jglW21d1Gz2RJJMOYNaUUmKFJZ9eL73C1yNe1ycE5bCAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="jdk8_heap"
        title="jdk8_heap"
        src="/static/cb1574dfa7c192ac8243964adcefcb54/4d297/Java_heap.png"
        srcset="/static/cb1574dfa7c192ac8243964adcefcb54/07e12/Java_heap.png 240w,
/static/cb1574dfa7c192ac8243964adcefcb54/5ca43/Java_heap.png 480w,
/static/cb1574dfa7c192ac8243964adcefcb54/4d297/Java_heap.png 960w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
    </span>
<span class='img_caption'><strong>JDK8까지의 java heap</strong> <br/> source <a href="https://javarevisited.blogspot.com/2011/05/java-heap-space-memory-size-jvm.html" target="_blank" rel="nofollow noopener noreferrer">Java Heap</a></span></p>
<br/>
<p><strong>Heap 메모리 영역</strong></p>
<blockquote>
<ol>
<li>
<p>Young</p>
<blockquote>
<ol>
<li>Edem : 메모리에 올라가는 객체가 생성됨</li>
<li>Survivor 1</li>
<li>Survivor 2 </li>
</ol>
</blockquote>
</li>
<li>Old</li>
<li>Perm : 클래스 정보와 메소드 정보 java 언어 레벨에서 사용되지 않음</li>
</ol>
</blockquote>
<p><strong>JDK8 까지의 GC 방식</strong></p>
<blockquote>
<ol>
<li>Edem에 새로운 객체가 생성됨  </li>
<li>Edem에서 GC(마이너)가 발생하면 Survivor1쪽으로 객체가 이동하거나 참조가 없는 개체들은 해제된다  </li>
<li>Survivor1도 객체가 차게 되면 GC가 실행되면서 Edem과 Survivor1에 객체가 Survivor2영역으로 이동하고 Survivor1은 빈영역이 된다   </li>
<li>이런식으로 계속해서 마이너 GC를 반복하여 메모리를 확보한다  </li>
<li>더 이상 Young영역에서 공간이 남지 않으면 객체들은 Old 영역으로 이동하게 된다     </li>
<li>이때 Old영역는 512byte의 Chunk에 Card Table이라는 구역에 Old영역에서 Young 영역의 참조를 표시하는 데이터를 표시한다   </li>
<li>Old 영역도 객체가 차게되면 FULL GC가 일어나게 된다  </li>
</ol>
</blockquote>
<br/>
<p><strong>FULL GC 방식</strong></p>
<ol>
<li>Serial Collector</li>
<li>Parallel Collector <img class="emoji-icon" alt="emoji-point_right" data-icon="emoji-point_right" style="display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px" src="data:image/png;base64, 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" title="emoji-point_right"> <code class="language-text">JDK7, JDK8</code></li>
<li>Concurrent Collector</li>
<li>Concurrent Mark Waeep(CMS) Collector</li>
</ol>
<p>위의 방식들은 일반적으로 여러 블로그에 남아 있습니다<br>
자세히 알고 싶으신분들은 여기를 참고해 주세요 <img class="emoji-icon" alt="emoji-point_right" data-icon="emoji-point_right" style="display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px" src="data:image/png;base64, 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" title="emoji-point_right">  <a href="https://d2.naver.com/helloworld/1329" target="_blank" rel="nofollow noopener noreferrer">Naver D2 블로그</a>   </p>
<hr>
<h3>Heap 메모리 구조 (JDK9부터 JDK13까지)</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 456px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 27.412280701754383%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAABFklEQVQY03WHbU+CUABG+dP1L1q1tnK5teZWrFhquIlamJAIm4FWhF4p5F7eAsErMvmQQrnW156dnZ2H+P5nm/X6r/J8q+Uydlzn92Z5luV5lqYpoYwVAMFsMYM+HLmjsTdGGK3WSY3rn1X5altu9V6EAVA0Q53Aroq6mjv8CKYetoOIKFwUmEdGMzVWYmmJJu9JTuXjzfyYuts5LB+Q7HlNvOWeeUUf6u4J9UAJ0y6IgJcEyRdRvC6SDNkUm4zI0E90RawIEwEtzaOr+u4+tVdqnd50LhsS3Rk0e2+ler8sTtuvnmKEIxsTuqmbjolcBAwgq7LlWwEOHN9+hxZ0Z5YXOn7kBfPPEPshDuM0XGxZ4SSNk/QHn1n9w6tRkH8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Java Heap"
        title="Java Heap"
        src="/static/9a70a64d916e81165e93bd1f5b256c7e/6119c/jdk9_heap.png"
        srcset="/static/9a70a64d916e81165e93bd1f5b256c7e/07e12/jdk9_heap.png 240w,
/static/9a70a64d916e81165e93bd1f5b256c7e/6119c/jdk9_heap.png 456w"
        sizes="(max-width: 456px) 100vw, 456px"
        loading="lazy"
      />
    </span>
<span class='img_caption'><strong>JDK9부터의 java heap</strong> <br/> source <a href="https://docs.oracle.com/javase/9/gctuning/garbage-collector-implementation.htm" target="_blank" rel="nofollow noopener noreferrer">Java Heap</a> </span></p>
<br/>
<p>JDK9부터는 기본적으로 Garbage First Garbage Collector(G1GC)가 기본 GC방식으로 변경되었습니다<br>
<code class="language-text">G1GC</code>의 경우 Heap memory의 Young이나 Old가 논리적으로 분할되어 있으며 동적으로 영역 사이즈를 변경하게 됩니다  </p>
<p>아래의 이미지 처럼 어느 구역을 나눠서 메모리를 관리하지 않고 Region이라는 작은 크기로 Heap을 분할하여 메모리를 관리 합니다<br>
또한 이전 참조 표시를 담당하던 <code class="language-text">Card Table</code>이 Reginon의 객체참조에 대한 관리 형태인 <code class="language-text">Remembered Set</code>로 변경됩니다  </p>
<p><img src="/39e2996d0b708259ab6a9d36aec87ae8/G1GC.gif" alt="G1GC"></p>
<p><span class='float_left'> source <a href="https://imp51.tistory.com/entry/G1-GC-Garbage-First-Garbage-Collector-Tuning" target="_blank" rel="nofollow noopener noreferrer">G1GC Image</a> </span></p>
<p class="clear_float"></p>
<p><strong>Minor GC</strong></p>
<blockquote>
<ol>
<li>Heap Structure : 대략 2000개의 Region으로 분할</li>
<li>
<p>Heap Allocation : Region을 논리적으로 Young과 Old로 나누고 Parallel 하게 collection 할 수 있도록 설계된다</p>
<blockquote>
<ol>
<li>Young Generatio : Region을 대략 2000개로 나누며 크기는 1~32MB 크기로 할당된다</li>
</ol>
</blockquote>
</li>
<li>Young GC : Minor GC(Evacuation Pauses)가 일어나면 <code class="language-text">STW</code>(Stop The World)되며 Multi-thread로 동작한다</li>
</ol>
</blockquote>
<br/>
<p><strong>Full GC</strong></p>
<blockquote>
<ol>
<li>Initial Mark(<code class="language-text">STW</code>) : Old Generation내의 객체에서 참조를 가지는 Survivor Regions(Root Region)을 Mark</li>
<li>Root Region Scanning : Old Generation이 참조하는 Survivor Regions을 탐색한다. YoungGC전에 완료되어야 하며 Multi Thread로 동작한다</li>
<li>Concurrent Marking : Heap내의 모든 reachable/ live 개체를 마킹하며, Multi Thread이고 Young GC와 동시에 실행 가능하다</li>
<li>Remark(<code class="language-text">STW</code>) : live 객체의 마킹 완료 단계로 G1은 Snapshot-At-The-Beginning(SATB) 알고리즘으로 CMS collector보다 빠르다 <img class="emoji-icon" alt="emoji-point_right" data-icon="emoji-point_right" style="display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px" src="data:image/png;base64, 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" title="emoji-point_right"> Remembered Set의 마킹된(GC시작점) Live 객체만 빠르게 탐색하는 방식 </li>
<li>Cleanup(<code class="language-text">부분 STW</code>) : live 객체에 대해서 병렬처리를 하고 free regions(STW)에 대해서 Empty Region을 추가하고 Remembered Set을 정리(STW)</li>
<li>Copying(<code class="language-text">STW</code>) : live객체가 새로운 unused region으로 복사</li>
</ol>
</blockquote>
<br/>
<p><strong><em>보다 자세함 G1GC의 동작방식은</em></strong> <img class="emoji-icon" alt="emoji-point_right" data-icon="emoji-point_right" style="display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px" src="data:image/png;base64, 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" title="emoji-point_right"> <a href="https://imp51.tistory.com/entry/G1-GC-Garbage-First-Garbage-Collector-Tuning" target="_blank" rel="nofollow noopener noreferrer">imp51 블로그</a></p>
<hr>
<h3>Z Garbage Collectors (ZGC)</h3>
<p>이 방식은 Oracle에서 개발했으며 JDK11에 early access로 포함되었습니다<br>
일반적으로 <strong><em>Pause시간은 &#x3C;10ms로 application performance는 &#x3C;15%의 성능을 이끌어 냈다고 발표 했습니다</em></strong><br>
ZGC는 처럼 Region 구조를 가져가지만 G1GC와는 다른 메모리 구조를 가져 가게됩니다  </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 63.62425049966689%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAC4jAAAuIwF4pT92AAACJklEQVQoz22S6W7bMBCE/f7PVKRpEzuK5atOIluSddu6D96kzq2dND+CZjBYLAh+WHA5s/ppXptHTEi9Wr6dIj1Ga79YB+W7r02xCaulE1MhAWCCL5rBfjNoj3C5gO9lh1Nwac4CzvzmSNwcSziVnHJxvT1O//QJp4na6mi7YIPg1l4ERwVKDbwFNTI0UNSCRLwRUsB/moHvyrH1iOfVdkQin4Ye9tzK9kmAXnVkbBwe2onJOWNSlU1TliXG+BMOvP511/dKruZdmfQAHcdS+y0W931yHgF6juuHO4HxlMQqTSjnlNKu626wkdJDWJqlOjjJMecmmcxCHtyczOfjVu+NF7CPPEmkUq1liihkUl4nS3nb38zPiOucfT76A7hB6vqpT3rXcGR4nvTnQXuCKOKnU8uoScFHimLEGKuqqu/7GSTx+HgPTQ2cTtsVvGyhLqbdUnaU+kcamLzj2dNPiVEgqpiUjFDKKELoHc6zVpvzxYNYPPBroy/VZsMUd3BoY99uHK+x7czigqOuRrLBmHAhrs8ehmEGjiWGSU/4KhOrVOgJ089Ez+RzIeZ1Z5yCdnFX/fohELrtd5q+flUc9/t9vd7Vmz/1ctO4IRkByxEZdv28ZqYDjIu8kO8huUbsIyEfdVbUQfqmFYdlZa7yN62MjKqtGlkW7i5/neeXI2obYh8kpd9MtjLbLlyr8NwyvFYrd6zUdjLPuh26ZuF64SHWHr+F/wLr7s7iLSeU1AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="ZGC Heap"
        title="ZGC Heap"
        src="/static/147a2d7091baaa008da781a0cdc57523/4d297/zgc_heap.png"
        srcset="/static/147a2d7091baaa008da781a0cdc57523/07e12/zgc_heap.png 240w,
/static/147a2d7091baaa008da781a0cdc57523/5ca43/zgc_heap.png 480w,
/static/147a2d7091baaa008da781a0cdc57523/4d297/zgc_heap.png 960w,
/static/147a2d7091baaa008da781a0cdc57523/09904/zgc_heap.png 1440w,
/static/147a2d7091baaa008da781a0cdc57523/24664/zgc_heap.png 1501w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>source <a href="https://hub.packtpub.com/getting-started-with-z-garbage-collectorzgc-in-java-11-tutorial/" target="_blank" rel="nofollow noopener noreferrer">ZGC_Heap</a></span></p>
<h3>ZGC의 주요 개념</h3>
<p>ZGC에는 속도와 안정성을 위해 <code class="language-text">Colored pointers</code>와 <code class="language-text">Load barriers</code>라는 주요한 알고리즘 2가지가 들어가 있습니다   </p>
<p><strong>1. Colored pointers</strong><br>
Colored pointers는 객체를 가리키는 변수의 포인터에서 64bit라는 메모리를 활용하여 Mark를 진행하여 객체의 상태값을 저장하여 사용하는 방식입니다  </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 31.722880583409303%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA5ElEQVQY03VQu07DMBTNFyP+oB+AQAwgsSCxsLEjujGxsDAxJmrzMk3rR66fiWNOGtEBqWe48rHP48pZOoJzXtd1VVVKKdBpmjBjjMMwYEopN5stY6woCghwM44jNFnf90IIa+0PHnc7R+rr+f7uaX2zunjLP1NMLni8CiGRDqUxxnvvnNNaZyAIQ4Mmss5Owb8/3l4/vFytLl+/P1KIXAgUHP1iseEM12xe1l42Ad8fDoIMaVJkFJfILbclAP8iO2FeO/0BkU3TzDoiNLC2bVkbQkjnkf3j6C/LKs/zrutOP3cOv1g4U37v0q5yAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="colored pointers"
        title="colored pointers"
        src="/static/fa61612bb6ea395ae4c437f00bdfcd8f/4d297/colored%20pointers.png"
        srcset="/static/fa61612bb6ea395ae4c437f00bdfcd8f/07e12/colored%20pointers.png 240w,
/static/fa61612bb6ea395ae4c437f00bdfcd8f/5ca43/colored%20pointers.png 480w,
/static/fa61612bb6ea395ae4c437f00bdfcd8f/4d297/colored%20pointers.png 960w,
/static/fa61612bb6ea395ae4c437f00bdfcd8f/39c1e/colored%20pointers.png 1097w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
    </span>
<span class='img_caption'> sources <a href="https://hub.packtpub.com/getting-started-with-z-garbage-collectorzgc-in-java-11-tutorial/" target="_blank" rel="nofollow noopener noreferrer">colored pointers</a></span></p>
<br/>
<p>위에 이미지 처럼 42bit는 객체를 가르키는 주소값으로 사용하였고, 나머지 22bit중 4bit를 4가지 <code class="language-text">Finalizable</code>, <code class="language-text">Remapped</code>, <code class="language-text">Marked 1</code>, <code class="language-text">Marked 0</code>로 나눠서 표시하였습니다<br>
이 때문에 ZGC는 64bit 운영체제에서만 작동하며 JDK11 ~ JDK12까지는 4TB의 메모리만 지원하였고 현재 JDK13에서 16TB까지 메모리 확대가 이루어 졌습니다</p>
<p>4bit에 대해서 하나하나 살펴 보면  </p>
<ol>
<li>Finalizable : finalizer을 통해서만 참조되는 Object로 garbage로 보시면 됩니다  </li>
<li>Remapped : 재배치 여부를 판단하는 Mark</li>
<li>Marked 1 : Live Object   </li>
<li>Marked 0 : Live Object  </li>
</ol>
<br/>
<p><strong>2. Load barriers</strong><br>
Load barriers은 Thread에서 참조 객체를 Load할때 실행되는 코드입니다<br>
ZGC는 재배치에 대해서 STW없이 동시적으로 재배치를 실행하기 때문에 참조를 수정해야 하는 일이 일어나게 됩니다<br>
이때 Load barriers가 RemapMark와 RelocationSet을 확인하며 참조와 Mark를 업데이트하고 올바른 참조값으로 인도해줍니다  </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 666px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 60.210210210210214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACmUlEQVQoz2NggIKkDSVMIDpidbZyzvba/62np/5vPDrxf/PFqf+BcvNAcmmbKlgYiAHzj65gCFuTxQhiR67OEcrfXt/afHBiZ8vBSe01+7qnpGwsCwQbuLmCKWtzNchymCMwDcMqCAXi3UYi2MRhepI3lGLXeOrqGQaGAgamg5ePSt+9c1c8bHVWQMH2huuVezp/JG4onlO9o1PpzJVz0s7LozgnHp3DUrKzhSl8TTbjpcuXGBcfWcVgvjgAYtFGqOMKtzawuq2M5d9+ao/snhP7ZEPXZNpkb63ZAjT0Rvz6wvKMjZWSN85eEwOp9VuWpIDVVZMUEez4DUWsmZureDAUFbGAI+Hp5YeCEWtz5IGRMrF0V+vDrC3VqyLWZBucu3RedubBRWKuq2NYm/dNYEpYX8QECYuNJaxAr4ENXHhwBSMwgphaDkxiTN9cIZS8sZTv5PlTCtmbanTTNpWvqNnb/QHo+t0ey+OM3j94Lfv//39W1Wn2/OiBzArEPMgBDrQAFCb86I62nx8qwmDPwPj/+38eh2XhgkB16cU7m88BXT0TGDx6DOmbgElhSzUn0DUCzQcnMQIVMAPZTECvsQC9KASMAJa6HT0sOVtrWev29bDkbqvlLdnVInL28jnDvM11WikbS7fUHuj9n7et7mHcusIwBmqA6XsWWMA5qZvK84p2NpcDnd1QtKOpDOjCQGACDi/b1VYJFGsEurACGI6hBdsbg8t3t5cB1TYAxauBKSAOKO5dsKOxumZ3d3PFrvZSYBiXMGTvqv3ffnb6/47T0/93Xpn9H2jgwfTNlRf6rs//335y2v+ea3P/AzWeARpybML1Bf9bTkz5339t/n+gRQ+AQbK+7+b8/60np/7vOjfzf9mRjv8A9I0+wCGPPGwAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="zgc-remap-flow"
        title="zgc-remap-flow"
        src="/static/9d8a5eca92ca56c5bac3e3231c8ff677/6dc8b/zgc-remap-flow.png"
        srcset="/static/9d8a5eca92ca56c5bac3e3231c8ff677/07e12/zgc-remap-flow.png 240w,
/static/9d8a5eca92ca56c5bac3e3231c8ff677/5ca43/zgc-remap-flow.png 480w,
/static/9d8a5eca92ca56c5bac3e3231c8ff677/6dc8b/zgc-remap-flow.png 666w"
        sizes="(max-width: 666px) 100vw, 666px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>sources <a href="https://www.baeldung.com/jvm-zgc-garbage-collector" target="_blank" rel="nofollow noopener noreferrer">zgc-remap-flow</a></span></p>
<br/>
<h3>ZGC의 동작 방식</h3>
<p>ZGC는 총 3번의 Pause만이 일어납니다  </p>
<ol>
<li><code class="language-text">Pause</code> Mark Start : ZGC의 Root에서 가리키는 객체 Mark 표시 (Live Object)  </li>
<li>Concurrent Mark/Remap : 객체의 참조를 탐색하며 모든 객체에 Mark를 표시 한다  </li>
<li><code class="language-text">Pause</code> Mark End : 새롭게 들어온 객체들의 대해서 Mark를 표시한다  </li>
<li>Concurrent Pereare for Reloc : 재배치 하려는 영역을 찾아 RelocationSet에 배치한다  </li>
<li><code class="language-text">Pause</code> Relocate Start : 모든 루트참조의 재배치를 진행하고 업데이트한다  </li>
<li>Concurrent Relocate : 이후 Load barriers를 사용하여 모든 객체를 재배치 및 참조를 수정한다  </li>
</ol>
<p><strong><em>보다 자세한 설명을 원하시면</em></strong> <img class="emoji-icon" alt="emoji-point_right" data-icon="emoji-point_right" style="display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px" src="data:image/png;base64, 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" title="emoji-point_right"> <a href="https://dinfuehr.github.io/blog/a-first-look-into-zgc/" target="_blank" rel="nofollow noopener noreferrer">A FIRST LOOK INTO ZGC</a></p>
<hr>
<h3>Shenandoah GC</h3>
<p><strong><em>Shenandoah GC는 JDK 12에서 정식으로 추가되었으며  JDK8/JDK11에서도 추가되어 있어 사용이 가능합니다</em></strong></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 24.406047516198704%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAABPElEQVQY0wExAc7+APHw7/X19P///+bv+IS88na18q3Q9L3brJ7LlrPXptPlx5zGjqXJleHpzrTVpajRiNfkxpjKz6jQrrzbvgDL4fLE1eP///zQ4/UIfu8AePFeqOJ3u3J0sHhirmmLtoF4nFxepV2OxpiCvYNkrVV6vIF6u4GMvI9mtHIAwuLLyd3R////3+ryW6Lkg7Tdy9vck8eVi7aZh77uu7SJeZdwg7ndrMq/f7Fwibi7lsTeabOZWJ/GR5voAN3pwtbaxe3s8fr6+fLx7e7w7PXp6Onn6Nje4enf4fDGuMXT3Nzg5vPe0snLytXd5u3f38vf9rfV9Mbe9wD7+u3t7ejt7e79/f319fXx8vLy5+fw7Ozt8O/w5eXv1tnx8/Lu7e3w5uny7u7v7+7w5eb58+/69PD9+vd+m+pVrPhk4AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="shenandoah-gc-cycle"
        title="shenandoah-gc-cycle"
        src="/static/6a39666233856f7ae1396fdecdee0444/4d297/shenandoah-gc-cycle.png"
        srcset="/static/6a39666233856f7ae1396fdecdee0444/07e12/shenandoah-gc-cycle.png 240w,
/static/6a39666233856f7ae1396fdecdee0444/5ca43/shenandoah-gc-cycle.png 480w,
/static/6a39666233856f7ae1396fdecdee0444/4d297/shenandoah-gc-cycle.png 960w,
/static/6a39666233856f7ae1396fdecdee0444/09904/shenandoah-gc-cycle.png 1440w,
/static/6a39666233856f7ae1396fdecdee0444/795c0/shenandoah-gc-cycle.png 1852w"
        sizes="(max-width: 960px) 100vw, 960px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>source <a href="https://wiki.openjdk.java.net/display/shenandoah/Main" target="_blank" rel="nofollow noopener noreferrer">shenandoah-gc-cycle</a></span></p>
<ol>
<li>
<p>Init Mark initiates the concurrent marking. It prepares the heap and application threads for concurrent mark, and then scans the root set. This is the first pause in the cycle, and the most dominant consumer is the root set scan. Therefore, its duration is dependent on the root set size.</p>
</li>
<li>
<p>Concurrent Marking walks over the heap, and traces reachable objects. This phase runs alongside the application, and its duration is dependent on the number of live objects and the structure of object graph in the heap. Since the application is free to allocate new data during this phase, the heap occupancy goes up during concurrent marking.</p>
</li>
<li>
<p>Final Mark finishes the concurrent marking by draining all pending marking/update queues and re-scanning the root set. It also initializes evacuation by figuring out the regions to be evacuated (collection set), pre-evacuating some roots, and generally prepares runtime for the next phase. Part of this work can be done concurrently during Concurrent precleaning phase. This is the second pause in the cycle, and the most dominant time consumers here are draining the queues and scanning the root set. </p>
</li>
<li>
<p>Concurrent Cleanup reclaims immediate garbage regions – that is, the regions where no live objects are present, as detected after the concurrent mark.</p>
</li>
<li>
<p>Concurrent Evacuation copies the objects out of collection set to other regions. This is the major difference against other OpenJDK GCs. This phase is again running along with application, and so application is free to allocate. Its duration is dependent on the size of chosen collection set for the cycle.</p>
</li>
<li>
<p>Init Update Refs initializes the update references phase. It does almost nothing except making sure all GC and applications threads have finished evacuation, and then preparing GC for next phase. This is the third pause in the cycle, the shortest of them all.</p>
</li>
<li>
<p>Concurrent Update References walks over the heap, and updates the references to objects that were moved during concurrent evacuation. This is the major difference against other OpenJDK GCs. Its duration is dependent on number of objects in heap, but not the object graph structure, because it scans the heap linearly. This phase runs concurrently with the application.</p>
</li>
<li>
<p>Final Update Refs finishes the update references phase by re-updating the existing root set. It also recycles the regions from the collection set, because now heap does not have references to (stale) objects to them. This is the last pause in the cycle, and its duration is dependent on the size of root set.</p>
</li>
<li>
<p>Concurrent Cleanup reclaims the collection set regions, which now have no references to.</p>
</li>
</ol>
<hr>
<h2>참고 사이트</h2>
<p><a href="https://d2.naver.com/helloworld/1329" target="_blank" rel="nofollow noopener noreferrer">Java Garbage Collection</a><br>
<a href="https://imp51.tistory.com/entry/G1-GC-Garbage-First-Garbage-Collector-Tuning" target="_blank" rel="nofollow noopener noreferrer">JVM 튜닝</a><br>
<a href="https://b.luavis.kr/server/g1-gc" target="_blank" rel="nofollow noopener noreferrer">G1: Garbage first garbage collector</a><br>
<a href="https://johngrib.github.io/wiki/java-gc-tuning/" target="_blank" rel="nofollow noopener noreferrer">Java GC 튜닝</a><br>
<a href="https://johngrib.github.io/wiki/jvm-memory/" target="_blank" rel="nofollow noopener noreferrer">JVM 메모리 구조와 GC</a><br>
<a href="https://yckwon2nd.blogspot.com/2014/04/garbage-collection.html" target="_blank" rel="nofollow noopener noreferrer">오랜만에 Garbage Collection 정리</a><br>
<a href="https://www.baeldung.com/jvm-zgc-garbage-collector" target="_blank" rel="nofollow noopener noreferrer">An Introduction to ZGC</a><br>
<a href="https://www.opsian.com/blog/javas-new-zgc-is-very-exciting/" target="_blank" rel="nofollow noopener noreferrer">Java's new Z Garbage Collector (ZGC) is very exciting</a><br>
<a href="https://dzone.com/articles/java-garbage-collection-3" target="_blank" rel="nofollow noopener noreferrer">Java Garbage Collection</a><br>
<a href="https://hub.packtpub.com/getting-started-with-z-garbage-collectorzgc-in-java-11-tutorial/" target="_blank" rel="nofollow noopener noreferrer">Getting started with Z Garbage Collector (ZGC) in Java 11</a><br>
<a href="https://dinfuehr.github.io/blog/a-first-look-into-zgc/" target="_blank" rel="nofollow noopener noreferrer">A FIRST LOOK INTO ZGC</a><br>
<a href="https://wiki.openjdk.java.net/display/shenandoah/Main" target="_blank" rel="nofollow noopener noreferrer">OpenJDKWiki / shenandoah</a><br>
<a href="https://wiki.openjdk.java.net/display/zgc/Main#Main-SettingHeapSize" target="_blank" rel="nofollow noopener noreferrer">OpenJDKWiki / JDK13</a></p></div></div><hr class="endLine_hr"/><div class="blog-post-profile" style="display:block"><div class="author"><a href="/profile"><div class="blog-post-logo-img"><img src="/static/profile-314c16d718a18b1ab9bfa6d4482cfc6a.jpg" alt="logo"/></div></a><div class="author-description"><div class="author-name"><a class="author-name-tag" href="/profile">Deokhwa Kim</a><p class="author-introduction">검색엔진 &amp; Spring &amp; Data를 다루고 있습니다 / 요즘은 Kotlin, Reactive Programing에 관심이 많습니다</p><p class="author-socials"><a href="https://github.com/renuevo">GitHub</a></p></div></div></div></div><div class="blog-post-nav"><div class="prev"><div class="nav-wrap"><div class="angle"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-left" class="svg-inline--fa fa-caret-left fa-w-6 fa-fw " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"></path></svg></div><a rel="prev" href="/closure_java_and_kotlin/"><div><p>Previous Post</p><span>[Kotlin] java와 kotlin의 closure에 관하여</span></div></a></div></div></div></div><div class="comments"><div id="disqus_thread"></div></div></article></div><footer id="footer"><div class="copyright"><span>© <a href="mailto:novelty0110@gmail.com">Deokhwa Kim</a> 2019, All rights reserved. Powered by <!-- --> <a href="https://www.gatsbyjs.org/">Gatsby</a></span></div><div class="submenu"></div></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-147163050-1', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/Garbage_Collection/";window.webpackCompilationHash="17264c3036e1795b1b10";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-db03a0907d81bdadaeb6.js"],"component---src-templates-blog-post-index-js":["/component---src-templates-blog-post-index-js-172538d6fe4304382b0d.js"],"component---src-templates-tag-list-index-js":["/component---src-templates-tag-list-index-js-e60d2b8ecf188436db54.js"],"component---src-pages-404-js":["/component---src-pages-404-js-73e2b2732f7209710c55.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b453c2c7db22401e05ee.js"],"component---src-pages-search-js":["/component---src-pages-search-js-6342f14cb4a28e280e0e.js"]};/*]]>*/</script><script src="/webpack-runtime-545b151ab0b9a68d5920.js" async=""></script><script src="/styles-3c150c08dec695428583.js" async=""></script><script src="/commons-c340fe5b683fbbbfa1cd.js" async=""></script><script src="/app-db03a0907d81bdadaeb6.js" async=""></script><script src="/component---src-templates-blog-post-index-js-172538d6fe4304382b0d.js" async=""></script></body></html>