<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="google-site-verification" content="_rVJuueG9dPQsjnBpN7bhY8QW5HU9HQz-7xYVzRUBaM"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, minimum-scale=1, maximum-scale=2"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:Catamaran;font-weight:800;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.2;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:56px;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:20px;color:inherit;font-family:Catamaran;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.2;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:6px;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:2px;}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#0687f0;text-decoration:none;box-shadow:none;}a:hover,a:active{text-decoration:underline;}a.gatsby-resp-image-link{box-shadow:none;text-decoration:none;}a:hover{text-decoration:none;}</style><style data-href="/styles.1eba1bcc5d7fd3a7e784.css" id="gatsby-global-css">@import url(https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css);@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:100;src:local("Noto Sans KR Thin "),local("Noto Sans KR-Thin"),url(/static/noto-sans-kr-latin-100-2de137ca3e12ea146ee47485a97f1e78.woff2) format("woff2"),url(/static/noto-sans-kr-latin-100-b965647685dd9fc531d1f8a1cc25e024.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:300;src:local("Noto Sans KR Light "),local("Noto Sans KR-Light"),url(/static/noto-sans-kr-latin-300-4f773a0fce88aa857d70b56c5b0a1d26.woff2) format("woff2"),url(/static/noto-sans-kr-latin-300-ee87751dac814562bac316d848e35748.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:400;src:local("Noto Sans KR Regular "),local("Noto Sans KR-Regular"),url(/static/noto-sans-kr-latin-400-be09f2ced7ff9fa6eda5f0416e2fc840.woff2) format("woff2"),url(/static/noto-sans-kr-latin-400-4c50be0fe5b21a153b8e40a392c2d3fe.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:500;src:local("Noto Sans KR Medium "),local("Noto Sans KR-Medium"),url(/static/noto-sans-kr-latin-500-416698c2fc4b3951f8d63d3d2ae23900.woff2) format("woff2"),url(/static/noto-sans-kr-latin-500-28601458e118110e494903a1fcd6dcf5.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:700;src:local("Noto Sans KR Bold "),local("Noto Sans KR-Bold"),url(/static/noto-sans-kr-latin-700-04e782e08729f3725ae5a9c95da0c8ba.woff2) format("woff2"),url(/static/noto-sans-kr-latin-700-b9e989a96027f839a9569d2d011e0b71.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:900;src:local("Noto Sans KR Black "),local("Noto Sans KR-Black"),url(/static/noto-sans-kr-latin-900-c41f1395489a117ca36d550142a1695f.woff2) format("woff2"),url(/static/noto-sans-kr-latin-900-589f5fbf84d9dc9984a969bae969fd60.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:100;src:local("Catamaran Thin "),local("Catamaran-Thin"),url(/static/catamaran-latin-100-6473cfe10b779f968c3d41708e4dfa70.woff2) format("woff2"),url(/static/catamaran-latin-100-a2eb4ef6ac1cc8ff5a51d62c01fe2fea.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:200;src:local("Catamaran Extra Light "),local("Catamaran-Extra Light"),url(/static/catamaran-latin-200-d005aac0ee52a3cb2261ea79a93d4e04.woff2) format("woff2"),url(/static/catamaran-latin-200-fbc8307e859bc6f8866a36e084fdcb3b.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:300;src:local("Catamaran Light "),local("Catamaran-Light"),url(/static/catamaran-latin-300-62b414e71a1f15fa797f91bbf8a3f124.woff2) format("woff2"),url(/static/catamaran-latin-300-7c000b951ef8e9a2b791e70d678dd263.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:400;src:local("Catamaran Regular "),local("Catamaran-Regular"),url(/static/catamaran-latin-400-2175f69a7b7f93cc707ffb96264af4aa.woff2) format("woff2"),url(/static/catamaran-latin-400-2de7e6f54ec70b29a1b4541beba00c89.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:500;src:local("Catamaran Medium "),local("Catamaran-Medium"),url(/static/catamaran-latin-500-f1dd472e80352ac073661af4c1f612dc.woff2) format("woff2"),url(/static/catamaran-latin-500-b7668eb8c9c0df2d0cbe5f77616a8ea8.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:600;src:local("Catamaran SemiBold "),local("Catamaran-SemiBold"),url(/static/catamaran-latin-600-15d0af50791a8286c40ffd0e51bd94c7.woff2) format("woff2"),url(/static/catamaran-latin-600-10467dab56671e7aa6f043987d44dcb8.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:700;src:local("Catamaran Bold "),local("Catamaran-Bold"),url(/static/catamaran-latin-700-4a133d839202a1733fd3e50dab1597dc.woff2) format("woff2"),url(/static/catamaran-latin-700-09314a5449726c9e36e6453e9661fe46.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:800;src:local("Catamaran ExtraBold "),local("Catamaran-ExtraBold"),url(/static/catamaran-latin-800-f6053867cb0122b6897b017da49d0009.woff2) format("woff2"),url(/static/catamaran-latin-800-cb812de767a624c9d405058e05731b3f.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:900;src:local("Catamaran Black "),local("Catamaran-Black"),url(/static/catamaran-latin-900-0e80350f234f47318f42c4ef8f4f47b9.woff2) format("woff2"),url(/static/catamaran-latin-900-6f7344e59325277678d79578eb0a2554.woff) format("woff")}.custom-hr{margin:64px;background:linear-gradient(72deg,#2c6975,#edecde);border:none;height:2px}.github{float:right;padding:14px;opacity:.6}.top{position:relative;width:100%;height:60px;background:linear-gradient(72deg,#2c6975,#edecde)}.top .link{display:inline-block;font-size:28px;padding-top:8px;color:#fff;opacity:.7;margin-left:20px;font-family:Catamaran;font-weight:800}.home-header{margin-top:0;border-bottom:none;font-weight:900;font-size:48px;letter-spacing:-2px}.link{box-shadow:none;text-decoration:none;color:inherit}.switch-container{text-align:right}.switch-container .icon{text-align:center;color:#222;font-size:14px;font-weight:900}.footer{padding-top:52px;text-align:center;font-size:12px}.footer a{text-decoration:none!important}body .main-container{max-width:60vw}@media screen and (max-width:50em){body .main-container{max-width:39rem}}body .main-container .code_header{margin-top:1rem;display:inline-block;font-weight:600}body .main-container .sub_header{font-size:.8rem}body .main-container .img_caption{font-style:normal;display:inherit;text-align:center;font-size:90%;margin-bottom:2rem}body .main-container .category-container{margin-bottom:1.5rem}body .main-container .category-container .MuiInputBase-input{padding:6px 0 5px}.post-date{text-align:right;font-size:12px;font-style:italic}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:active,.resp-sharing-button--facebook:hover{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:active,.resp-sharing-button--twitter:hover{background-color:#2795e9;border-color:#2795e9}.social-share{text-align:right;height:100%}.resp-sharing-button__icon,.resp-sharing-button__link{display:inline-block;vertical-align:middle;border:none}.resp-sharing-button__link{text-decoration:none;color:#fff;margin:4px;height:33px}.resp-sharing-button__link .service-label{font-size:12px;padding-right:4px}.resp-sharing-button{height:33px;border-radius:6px;transition:25ms ease-out;padding:3px 8px 3px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1.5em;margin-right:.4em;vertical-align:top}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid{fill:#fff;stroke:none}.sponsor-button{text-align:right;margin:4px}.sponsor-button .bmc-button{display:inline-block;padding:0 7px;width:133px;height:33px;text-decoration:none;background-color:#bb5794;color:#fff;border:1px solid transparent;border-radius:6px;letter-spacing:-.08px;box-sizing:border-box;font-size:12px;line-height:30px;text-align:left}.sponsor-button .bmc-button:active,.sponsor-button .bmc-button:hover{background-color:#a0457d}.sponsor-button .bmc-button img{width:20px;margin-bottom:1px;box-shadow:none;border:none;vertical-align:middle}.sponsor-button .bmc-button span{margin-left:6px}.bio{margin-bottom:24px}.bio .author-description{display:flex}.bio .author-image{margin-top:12px;margin-right:12px;margin-bottom:0;min-width:72px}.bio .author-name-prefix{font-size:90%;margin-right:4px}.bio .author-name-content{display:inline-block;font-size:95%;padding:2px 6px;font-weight:bolder;border-radius:8px;-webkit-transform-origin:center;transform-origin:center;-webkit-animation:flutter 2s linear infinite;animation:flutter 2s linear infinite}.bio .author-introduction{margin-top:4px;font-size:80%;line-height:1.4}.bio .author-socials{margin-top:4px}.bio a{margin-right:8px;font-size:80%}.bio a.visited{text-decoration:none}@-webkit-keyframes flutter{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}35%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}40%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}65%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes flutter{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}35%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}40%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}65%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.category-container{display:flex;top:0;line-height:0;white-space:nowrap;-ms-overflow-style:none;overflow:-moz-scrollbars-none;z-index:1;padding:6px 20px;box-sizing:content-box;margin-top:50px}.category-container .filter-button{width:15rem;background:linear-gradient(45deg,#fe6b8b 30%,#ff8e53 90%);border-radius:3px;border:0;color:#fff;height:40px;padding:0 30px;box-shadow:0 3px 5px 2px rgba(255,105,135,.3)}.category-container .search-filter{margin-top:5px;margin-bottom:0;margin-left:5vw}.category-container .search-filter>label{top:-13px}.category-container .search-filter>div{margin-top:5px}.category-container .search-filter .MuiFormLabel-root.Mui-focused{color:#fe6b8b}.category-container .search-filter .MuiInput-underline:after{border-bottom:2px solid #fe6b8b}.category-container .search-filter .MuiInputLabel-shrink{-webkit-transform:translateY(8px) scale(.7);transform:translateY(8px) scale(.7)}.category-container .search-filter .MuiInputBase-input{padding:6px 0 5px}.category-container .search-filter .MuiAppBar.root{box-sizing:border-box}.category-container::-webkit-scrollbar{display:none}.thumbnail-container{min-height:calc(100vh - 3.5rem)}.thumbnail{display:block;margin-bottom:12px;padding:4px 4px 12px;box-shadow:none;transition:text-shadow .3s,opacity .4s;opacity:0}.thumbnail p{font-size:90%;line-height:1.4}.thumbnail.visible{opacity:1}.navigator{margin:40px 0;display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0}.navigator li{margin-bottom:12px}.navigator a{padding:7px 16px 8px;border-radius:6px;font-size:12px;opacity:.8}.gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1.2em;margin-left:-1.2em;padding-right:1em;padding-left:.75em;border-left:.35em solid #ff609a}.gatsby-highlight .language-textbox code{border-radius:5px;color:#383838}.gatsby-highlight pre[class*=language-textbox]{background-color:#f8f8f8;border:1px solid #ccc}.gatsby-highlight pre[class*=language-]{border-radius:5px;display:flex;margin-top:0}.gatsby-highlight pre[class*=language-] code[class*=language-]{flex:1 1}code[class*=language-],pre[class*=language-]{color:#e0e0e0;background:none;font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.6;font-size:15px;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;-ms-overflow-style:none;overflow:-moz-scrollbars-none}li code[class*=language-text],p code[class*=language-text]{font-weight:600}pre[class*=language-]::-webkit-scrollbar{display:none}pre[class*=language-]{padding:1.2em;margin:1.5em 0;overflow:auto;border-radius:.6em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#212121}:not(pre)>code[class*=language-]{padding:.1em .6em;border-radius:.2em;white-space:normal;background:#e0ecde;color:#205072;border:1px solid}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#616161}.token.punctuation{color:#e0e0e0}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#ff9100}.token.class-name,.token.constant,.token.property,.token.symbol{color:#ff0}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#b388ff}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#00e676}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}body.light{background-color:#fff;text-shadow:0 0 .1px rgba(0,0,0,.3);padding-right:0!important}body.light .home-header{color:#333}body.light .bio .author-name-content{background-color:#ecf0f2}body.light .bio .author-introduction{color:#7d7d7d}body.light .bio a{color:navy}body.light .thumbnail h3{color:#333}body.light .thumbnail p{color:#7d7d7d}body.light .thumbnail:hover{text-shadow:0 0 6px rgba(0,0,0,.2)}body.light .footer{color:#aaa}body.light .footer a{color:#333}body.light .navigator a{background-color:#fceff7;color:#cc007a}body.light blockquote{color:rgba(0,0,0,.8)}body.light .red_font{color:#cc007a;font-weight:700}body.dark{background-color:#282c35;text-shadow:0 0 .1px hsla(0,0%,100%,.3);padding-right:0!important}body.dark,body.dark .home-header{color:#eee}body.dark .bio .author-name-content{background-color:#383636}body.dark .bio .author-introduction{color:#d8d7d7}body.dark .bio a{color:#bb72ec}body.dark .category-container .MuiInputBase-input{color:#eee}body.dark .category-container .MuiFormLabel-root{color:#fff}body.dark .category-container .MuiInput-underline:before{border-bottom:1px solid #fff}body.dark .thumbnail h3{color:#eee}body.dark .thumbnail p{color:#d8d7d7}body.dark .thumbnail:hover{text-shadow:0 0 6px hsla(0,0%,100%,.2)}body.dark .footer{color:#d8d7d7}body.dark .footer a{color:#fff}body.dark blockquote{border-left:4px solid hsla(0,0%,100%,.822);color:#d8d7d7}body.dark h1,body.dark h2{border-bottom-color:hsla(0,0%,100%,.3)}body.dark .navigator a{background-color:#fceff7;color:#cc007a}body.dark .red_font{color:#cc007a;font-weight:700}body{font-family:Noto Sans KR,sans-serif;font-size:108%;background-color:#fff;-webkit-text-size-adjust:antialiased;-moz-osx-font-smoothing:grayscale;transition:background-color .3s,color .3s}body .about{max-width:60vw}body .about td:first-child{font-weight:700;font-family:Noto Sans KR,sans-serif;width:10rem;text-align:right}@media screen and (max-width:50em){body .about{max-width:39rem}}body .about .code_header{margin-top:1rem;display:inline-block;font-weight:600}body .about .sub_header{font-size:.8rem}body .about .img_caption{font-style:normal;display:inherit;text-align:center;font-size:90%;margin-bottom:2rem}body .about .category-container{margin-bottom:1.5rem}body .about .category-container .MuiInputBase-input{padding:6px 0 5px}body .about li{color:#333}body .about .red_font{color:#cc007a;font-weight:700}</style><meta name="generator" content="Gatsby 2.32.13"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32.png?v=7de2c6419ac8527cc802fdc3ca98acd0" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=7de2c6419ac8527cc802fdc3ca98acd0"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=7de2c6419ac8527cc802fdc3ca98acd0"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=7de2c6419ac8527cc802fdc3ca98acd0"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=7de2c6419ac8527cc802fdc3ca98acd0"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=7de2c6419ac8527cc802fdc3ca98acd0"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=7de2c6419ac8527cc802fdc3ca98acd0"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=7de2c6419ac8527cc802fdc3ca98acd0"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=7de2c6419ac8527cc802fdc3ca98acd0"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">[Elastic] 1. Elastic 자동완성 가이드 (Autocomplete Guide) - Prefix Queries | renuevo blog</title><meta data-react-helmet="true" name="description" content="Elastic Autocomplete Guide 시리즈 Autocomplete Prefix Queries Autocomplete Index Search Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다 Elastic 7.x 버젼을 기준으로 진행합니다    Prefix Queries를 활용한 자동완성   Index 색인을 통한 Search   Completion Suggester…"/><meta data-react-helmet="true" property="og:title" content="[Elastic] 1. Elastic 자동완성 가이드 (Autocomplete Guide) - Prefix Queries"/><meta data-react-helmet="true" property="og:description" content="Elastic Autocomplete Guide 시리즈 Autocomplete Prefix Queries Autocomplete Index Search Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다 Elastic 7.x 버젼을 기준으로 진행합니다    Prefix Queries를 활용한 자동완성   Index 색인을 통한 Search   Completion Suggester…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="deokhwa kim"/><meta data-react-helmet="true" name="twitter:title" content="[Elastic] 1. Elastic 자동완성 가이드 (Autocomplete Guide) - Prefix Queries"/><meta data-react-helmet="true" name="twitter:description" content="Elastic Autocomplete Guide 시리즈 Autocomplete Prefix Queries Autocomplete Index Search Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다 Elastic 7.x 버젼을 기준으로 진행합니다    Prefix Queries를 활용한 자동완성   Index 색인을 통한 Search   Completion Suggester…"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-903f659ab042168d7448.js"/><link as="script" rel="preload" href="/framework-9252bfa5ea71b588207d.js"/><link as="script" rel="preload" href="/app-ebf0294f0ed7a67bde7b.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/133dca110fad53aa1997b630637bbac3134a2d14-a18cb3de793a9cd4c3b2.js"/><link as="script" rel="preload" href="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-2ebf920bd49eb6dc674f.js"/><link as="script" rel="preload" href="/cd7d5f864fc9e15ed8adef086269b0aeff617554-6341a6960d46b1cc0197.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-f135ee67b10d289fc836.js"/><link as="fetch" rel="preload" href="/page-data\elastic\autocomplete\elastic-autocomplete-1\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3128451518.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/96099027.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="top"><a class="link" href="/">renuevo blog</a><a href="https://github.com/renuevo" class="github" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div><div style="margin-left:auto;margin-right:auto;padding:2.4375rem 1.21875rem" class="main-container"><div class="switch-container"><label for="normal-switch"><div style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:12px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:24px;width:48px;margin:0;position:relative;background:#d9dfe2;border-radius:12px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:24px;width:26px;position:relative;opacity:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon checkedIcon">D</div></div><div style="height:24px;width:26px;position:absolute;opacity:1;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon uncheckedIcon">L</div></div></div><div class="react-switch-handle" style="height:22px;width:22px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(1px);top:1px;outline:0;border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px" id="normal-switch"/></div></label></div><h1>[Elastic] 1. Elastic 자동완성 가이드 (Autocomplete Guide) - Prefix Queries</h1><p class="post-date">April 18, 2020</p><div><h3 id="elastic-autocomplete-guide-시리즈" style="position:relative;"><a href="#elastic-autocomplete-guide-%EC%8B%9C%EB%A6%AC%EC%A6%88" aria-label="elastic autocomplete guide 시리즈 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Elastic Autocomplete Guide 시리즈</h3>
<ol>
<li><a href="https://renuevo.github.io/elastic/autocomplete/elastic-autocomplete-1/" target="_blank" rel="nofollow noopener noreferrer">Autocomplete Prefix Queries</a></li>
<li><a href="https://renuevo.github.io/elastic/autocomplete/elastic-autocomplete-2/" target="_blank" rel="nofollow noopener noreferrer">Autocomplete Index Search</a></li>
</ol>
<br/>
<hr>
<br/>
<p><em>Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다</em><br>
<em>Elastic 7.x 버젼을 기준으로 진행합니다</em>   </p>
<ol>
<li>Prefix Queries를 활용한 자동완성  </li>
<li>Index 색인을 통한 Search  </li>
<li>Completion Suggester를 활용한 자동완성  </li>
</ol>
<p>해당 포스팅에서는 <code class="language-text">Prefix Queries</code>를 활용한 가장 단순한 자동완성을 만드는 방법 소개합니다  </p>
<br/>
<hr>
<h2 id="example-data-setting" style="position:relative;"><a href="#example-data-setting" aria-label="example data setting permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example Data Setting</h2>
<p>먼저 테스트 데이터를 준비해 줍니다<br>
간단한 Index Mapping 정보를 작성합니다  </p>
<p><span class="code_header"><strong>Autocomplete Example Mapping</strong></span>  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">PUT autocomplete_test_1
<span class="token punctuation">{</span>
  <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"index"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"number_of_shards"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">"number_of_replicas"</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">"mappings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span>
          <span class="token property">"fields"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"keyword"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"keyword"</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>word에 2가지 속성으로 색인을 하였습니다  </p>
<ol>
<li>
<p><code class="language-text">text</code> type은 형태소 분석를 통해서 색인 키를 가지게 됩니다<br>
따로 설정이 없으면 Standard Analyzer로 색인되는데 기본적으로 <code class="language-text">불용어, lowercase, whitespace</code>로 색인 됩니다<br>
<strong>스팀게임 추천 :</strong> <code class="language-text">스팀게임</code> <code class="language-text">추천</code>  두개의 단어로 키가 잡힙니다
호출로 색인 키를 확인 할 수 있습니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">   GET autocomplete_test_1/_analyze
   <span class="token punctuation">{</span>
     <span class="token property">"text"</span> <span class="token operator">:</span> <span class="token string">"스팀게임 추천"</span>
   <span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 448px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 80.34682080924856%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByklEQVQ4y6VUyW7bMBT0/39Uj700KIIESbwksS1ZG7WRFBctlqaPbKPCRRILqYCBdHicN5oZaTWOE4y1qHkD3lhU0oKrFsp0Htr2hLf7daymaYLWBkq3OOUcu7hAIQ1Eo2mBhm3PM9yBt0UfwRNa6xS1qIUihRp7xsG4hqaBU8WwzQI8s5CU65n0Q4XjOP4h7IhQI+MKP/cpnpMKj2GBpzhHUlV4STMIZRcStn8JGRHeBYwIamyTAgeW0XNKixryuv/H23cJpwvCtG5wQwpfiTCtnKch1kmEXAg05PMihU2j/FBZS1QubU3PLhhKu2uBtnVLB6grZJ5wGAaqjJgJCyLMhfYVsm2PuM7BBF+UsE/5fD5DkkJDh7nzkHB7zHCkpMNc4C4KERaM0jc0M1zvoaHSVrXwCeaVRFxI3O4zPIQ5bl5iHDKOtJRISoGSAhOk/DOsUirzPkgRMYFjVGBLVfl2f8D9a4pNkODH7gnfN2tswhjrXeDnIloSsffhPeRC+kq4YjsVISk6kdJS/A5GUkh2wevOoXAKRSrjE3bGusPOUzMPdosC8aH0fY+S+saluujZV+FTdsW23XDxFVzr26d/G3f54v4nmcMvrUTOcvd7j6kAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="analyzer-test"
        title="analyzer-test"
        src="/static/4cc296054549f55d9120ec605c1456e3/33b38/analyzer-test.png"
        srcset="/static/4cc296054549f55d9120ec605c1456e3/991de/analyzer-test.png 173w,
/static/4cc296054549f55d9120ec605c1456e3/e4d6b/analyzer-test.png 345w,
/static/4cc296054549f55d9120ec605c1456e3/33b38/analyzer-test.png 448w"
        sizes="(max-width: 448px) 100vw, 448px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Standard Analyzer</span>  </p>
 <br/>
</li>
<li><code class="language-text">keyword</code> type은 텍스트 자체를 키로 색인을 합니다<br>
<strong>스팀게임 추천 :</strong> <code class="language-text">스팀게임 추천</code>이라는 문장으로 키가 잡힙니다</li>
</ol>
<h2 id="br" style="position:relative;"><a href="#br" aria-label="br permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><br/></h2>
<p>이제 기본 개념을 알아봤으니 예제의 사용할 데이터를 생성하겠습니다<br>
<span class="code_header"><strong>Autocomplete Example Data</strong></span>  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">POST _bulk
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임 추천"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"3"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임 추천 2019"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"4"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임 환불"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"5"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임 싸게"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"6"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임 순위"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"7"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임 추천 2020"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"8"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임 환불하는법"</span><span class="token punctuation">}</span></code></pre></div>
<p>자동완성 데이터는 Google에 스팀게임을 검색해서 나오는 자동완성을 가져왔습니다  </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 64.73988439306359%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABB0lEQVQoz5WRbW+DIBSF+f//rp3L7LrExmmHiiBcFIq87Lq5bPui7ZMbQiCHeziXSNDG2hBiigmJMeF2msxb8V7WzXYRP8/B+3EaAZQ1E2P8XHbe4xne7EDczRgtve3K8nJ6PR8Ox+NTlud5lj2/5KeiuGwUiUiKIQSttVKqbdvr9YPSxlo7juO0CQlx+Suu7su/1qAApFTGmLQHWaJacoo3tyDEwFhPKQWAO8RxFaNynr1SwHreMZbugPjwY9s5TBhAD8MglXxAvNqeHSoZjkuIu8Thf2e0jY3x24KLhwPDzn3Pq6rCmeFbcZNVjOCcMSfU0Kap6hpn3XOO/jfqV/zd/6+ruMcnMx7wSfia2ZUAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="google-search"
        title="google-search"
        src="/static/adb13c086f0589274d824a31187fa134/1f083/google-search.png"
        srcset="/static/adb13c086f0589274d824a31187fa134/991de/google-search.png 173w,
/static/adb13c086f0589274d824a31187fa134/e4d6b/google-search.png 345w,
/static/adb13c086f0589274d824a31187fa134/1f083/google-search.png 660w"
        sizes="(max-width: 660px) 100vw, 660px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Google Search</span>  </p>
<br/>
<br/>
<p>만약 7.X보다 밑의 버젼을 쓰신다면 type을 추가해주셔야합니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">POST _bulk
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_1"</span><span class="token punctuation">,</span><span class="token property">"_type"</span> <span class="token operator">:</span> <span class="token string">"_doc"</span><span class="token punctuation">,</span> <span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"스팀게임"</span><span class="token punctuation">}</span></code></pre></div>
<br/>
<br/>
<h2 id="prefix-query" style="position:relative;"><a href="#prefix-query" aria-label="prefix query permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prefix Query</h2>
<p>먼저 Prefix Query를 살펴보겠습니다<br>
<code class="language-text">Prefix Query</code>는 Elastic에서 제공하는 앞글자 일치 검색기능 입니다<br>
간단한 쿼리를 통해서 <code class="language-text">text</code>와<code class="language-text">keyword</code> type들에 대해 어떻게 검색이 다르게 되는지 살펴 보겠습니다  </p>
<br/>
<p><strong><em>여기서 부터 차례로 text와 keyword을 번갈아 가면서 어떻게 다르게 검색되는지 살펴보겠습니다</em></strong>  </p>
<p>형태소 분석이된 <code class="language-text">Text Type</code>에 대한 검색입니다<br>
띄어쓰기 기준으로 키워드가 색인된 것을 앞서 확인했습니다<br>
예를 들어 <code class="language-text">스팀게임 추천</code>이라는 문장은 <code class="language-text">스팀게임</code>과 <code class="language-text">추천</code> 이라는 2개의 키워드를 통해 검색됩니다  </p>
<br/>
<p>Prefix쿼리로 먼저 앞글자 단어 일치를 확인해보겠습니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스팀게"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 98.26589595375724%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB50lEQVQ4y6WUW3PaMBCF8/9/Wx86zaUJoWDAYFt3yZJ8gfR05QBTUhrsyYNmx+PVmbP77equLASsNKiVRTA1gnYIlmLs4Jt+iCHFT46nnNjuMV/muGPfviN7mIHPFnCLFUJeIL7MEZiE7w7TBd3zK7JSYZYLcOnAnINZbxB3DL5/G5L9UdT/R/xCsPzxhPX9M/LHGdTrAozcOYrRenhKCh/EroleCpqAlXBQdQMbWtTNfii1PiZOdqiNh3YRGTNgOqDUEstqi42osFUCBX0L68Y71DaAk8vZTkIS3a0UQ0yJdXIc25surwo+bDiySmMnyCk5siFevXizZDWUHMiZG0pWdY1fPMdGsXPyJIeCBlkT0Z5GpGl7+nHAvge67jciAUpnkkNJDhWVveKGSo9gRiPjO6y/AoWR6CP1sCK3K16hUIp62Ax9tD6ewYwSVEcoP2lTEpRSWupjhIsNHImeLzXdeChJNKfhZiQsafUWfItMFAOYk+gEKDUMQen6wxHKHm339n7aBOpwBjMOCgkmh2tuqfnvUFa8+NqmnKCU9CauBygShmCkk6CksidDmZea+mhJlJ4vn/r2L4SRUMKwKcvKkJin8uwRSomtFthIRtQ99bG/2JhPe5g25e+ENHen2bs1gx8F/wAd4P4tiewB/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="search-prefix-text"
        title="search-prefix-text"
        src="/static/86783b78d8a731062ae5c2c491c7049f/8c76f/search-prefix-text.png"
        srcset="/static/86783b78d8a731062ae5c2c491c7049f/991de/search-prefix-text.png 173w,
/static/86783b78d8a731062ae5c2c491c7049f/e4d6b/search-prefix-text.png 345w,
/static/86783b78d8a731062ae5c2c491c7049f/8c76f/search-prefix-text.png 612w"
        sizes="(max-width: 612px) 100vw, 612px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Prefix Text Search</span><br>
정상적으로 모든 <code class="language-text">스팀게임</code>의 키워드를 기준 앞글자가 일치하는 모든 결과가 검색된걸 확인할 수 있습니다  </p>
<br/>
<br/>
<p>다음은 <code class="language-text">Keyword Type</code>에대해 Prefix쿼리로 검색합니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word.keyword"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스팀게"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 98.26589595375724%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB50lEQVQ4y6WUW3PaMBCF8/9/Wx86zaUJoWDAYFt3yZJ8gfR05QBTUhrsyYNmx+PVmbP77equLASsNKiVRTA1gnYIlmLs4Jt+iCHFT46nnNjuMV/muGPfviN7mIHPFnCLFUJeIL7MEZiE7w7TBd3zK7JSYZYLcOnAnINZbxB3DL5/G5L9UdT/R/xCsPzxhPX9M/LHGdTrAozcOYrRenhKCh/EroleCpqAlXBQdQMbWtTNfii1PiZOdqiNh3YRGTNgOqDUEstqi42osFUCBX0L68Y71DaAk8vZTkIS3a0UQ0yJdXIc25surwo+bDiySmMnyCk5siFevXizZDWUHMiZG0pWdY1fPMdGsXPyJIeCBlkT0Z5GpGl7+nHAvge67jciAUpnkkNJDhWVveKGSo9gRiPjO6y/AoWR6CP1sCK3K16hUIp62Ax9tD6ewYwSVEcoP2lTEpRSWupjhIsNHImeLzXdeChJNKfhZiQsafUWfItMFAOYk+gEKDUMQen6wxHKHm339n7aBOpwBjMOCgkmh2tuqfnvUFa8+NqmnKCU9CauBygShmCkk6CksidDmZea+mhJlJ4vn/r2L4SRUMKwKcvKkJin8uwRSomtFthIRtQ99bG/2JhPe5g25e+ENHen2bs1gx8F/wAd4P4tiewB/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="search-prefix-keyword"
        title="search-prefix-keyword"
        src="/static/86783b78d8a731062ae5c2c491c7049f/8c76f/search-prefix-keyword.png"
        srcset="/static/86783b78d8a731062ae5c2c491c7049f/991de/search-prefix-keyword.png 173w,
/static/86783b78d8a731062ae5c2c491c7049f/e4d6b/search-prefix-keyword.png 345w,
/static/86783b78d8a731062ae5c2c491c7049f/8c76f/search-prefix-keyword.png 612w"
        sizes="(max-width: 612px) 100vw, 612px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Prefix Keyword Search</span><br>
Text Type과 같이 모든 단어가 검색된걸 확인할 수 있습니다  </p>
<p>둘의 검색을 비교해 보면 다음과 같습니다  </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 27.167630057803464%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcRAAAXEQHKJvM/AAABnElEQVQY02PQrFvGLNa1nWWpmjIjLwODKAMDgywnA4NEFD83c3LnJtaiimlsRbVz2FLLZrB6VS9gyWtazvafgYGJjYFBHKhWUYCBgR9IM8RktrEXlUwBCs+9LMioacvA0LvPkbdv12rnrXemiU/et5yhfbvbfxFhBob//xn/g3QAaYbNvzk+u/kzMPTsDxGdvH+528arU/h6dsxhWPJM6b+qOERNn52HlqqQiOhu/7iIozGZN2819Jw7mph385xnRMh/Z6+8/3Gpi/4nps//7xlQ/z8w0vO/T9Dsh0HxW/cnF908W91+/UBezaU/EUlL/3sFzPjvGzKbwdzaR5ubh1/WKzA90jMs95FbbMnNyMSy2/HVE7YlF7afC0qsuOcVV/7UO6Jgq09kYbJPZNFTz9Dcq+GJZdeKa3pv5JR2XAyOL7vlFV5w1zuy6C4Dg28WBwMHDxtDep8wQ2qPMUNEgz5D1VwD0+o+F6XuJWYMad36DFENRgwpneoMSR2iDMkdRgyJ7YYMFbOMFCt67fhzW+wZsvoMGBLbDIByBgCb8pg+Kz2tIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="elastic-search-index"
        title="elastic-search-index"
        src="/static/c009d0460c0bf063d7e2def06c54b256/1e043/elastic-search-index.png"
        srcset="/static/c009d0460c0bf063d7e2def06c54b256/991de/elastic-search-index.png 173w,
/static/c009d0460c0bf063d7e2def06c54b256/e4d6b/elastic-search-index.png 345w,
/static/c009d0460c0bf063d7e2def06c54b256/1e043/elastic-search-index.png 690w,
/static/c009d0460c0bf063d7e2def06c54b256/e3189/elastic-search-index.png 1035w,
/static/c009d0460c0bf063d7e2def06c54b256/b1001/elastic-search-index.png 1380w,
/static/c009d0460c0bf063d7e2def06c54b256/fb937/elastic-search-index.png 1820w"
        sizes="(max-width: 690px) 100vw, 690px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Elastic Index Search</span>  </p>
<p>그래서 둘 모두 같은 결과를 내놓았습니다<br>
만약 Text Type에 형태소에서 <code class="language-text">스팀게임</code>이라는 단어를 <code class="language-text">Index Key</code>로 잡지 않았다면 전혀 다른 결과가 나오게 됩니다  </p>
<br/>
<br/>
<p>다음으로 <code class="language-text">Text Type</code>에 <code class="language-text">추천</code>으로 검색해 보겠습니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"추천"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 625px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 98.84393063583813%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8klEQVQ4y51Uy27bMBDM//9RLynQ3hsgt6RxrdixZEl8vyTLQadDulCciyv1sCAkLoezM7u8EybipVHotIfzCXE4MyaEdCrr0sj5ieudjyNq6fBcS7TKQ/sIGxITcuJpMfAMaF1CT3ZVZ1CrAGkDOmPnpOu4xXwGdGHA80HgTThI42H8CBcnDOM7E85z/EuGD4bUTZoAYSMa6Uu5teoZgkEZjIZwbjnDDKhdxK9WY8eyOwK89scCImOCipGs43JAQ0BDHV97iy1BW2UhTMLIkgdpkXhZHFlyOi0vWbPcg7B0WhUdt+KITV1hd/8F+ukJcfqNwG5YWPIAQVaZwXg6fyTlg51AoutpLUPBtsmmHHVAlqDREg1NaSw1ZfTWwqdxnYYb6lcxegJUXQPpfDFFM0xp9JUub+lwnpZGZqcjUk5oBaJ2/2dKoxxdNlDUrFItNrsXvH27x/7xB47e8YLp08TcNKXPpnBup+m9bOYpGTgdA/8P3M/fqxhKmtKbzDJ8nhQ2eWv1xZTlbXMx5SefsA2j1YpTUxdTVBqKKXa1KdRwx0nJoEeW2fM7klHYHxCkRhinNSUPBbBl2bveFcf3usd2v0H9/SsOjw80xS83xfzV8DrxcpCa8aLA5y0MKxhqtkl+E68f1DlpPM9jGK4O3gL8A+vGBEx/PFIuAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="search-prefix-text2"
        title="search-prefix-text2"
        src="/static/5423fa975b866c8462f7ee1ede430215/80d71/search-prefix-text2.png"
        srcset="/static/5423fa975b866c8462f7ee1ede430215/991de/search-prefix-text2.png 173w,
/static/5423fa975b866c8462f7ee1ede430215/e4d6b/search-prefix-text2.png 345w,
/static/5423fa975b866c8462f7ee1ede430215/80d71/search-prefix-text2.png 625w"
        sizes="(max-width: 625px) 100vw, 625px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Prefix Text2 Search</span><br>
예상한것과 같이 추천이 뒤에 포함된 결과들이 검색된걸 확인할 수 있습니다  </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.06936416184971%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVQoz32Su24TQRSG/RIUPAANPAB9GpAokCwQFSBBlaeBkp4CKSAuUoK5xwVNFJE4IhAKREhsxWuvd3ZnL7P3/Ti7No4VEkb6ZzSjme/8Z85p+aMDtkdfWNGbPFMbPHY+0zMHqMDDMz4ZJTEFcZmdqrBIIC95ZH+g/eshLaNt+t4+O8mAXdNvNMw9XOXiepoojCiDEOFSldVMzFWUMuWwrr/zwOrQ4u+oFiTDnkxQ/T5GayoTUVXV6WqeVHNMS1eGSBLzJLE6tUjCeaVhYA0Z9weg1HGss6CiUpQVBa3dvZ+svvtE532X12/X6XzsMrQdlDgLDg/BmGn8mZt6PTmq2VmeC7C73eXW7WWutu+wdOUmFy5dZufrD+EYLEm5cJz65pmwRWBWAzd6m1xv32P5/l1utK9x7vxFtnrf8H2f3wK0j44oLEuKUv437Tlwq7fHk5WXrL16w4vnqzwVWSNJWaqsBRgFAblo7pKTLo/3DTCOE5Ikmf6BfGp9wZi4aZliPG6cLab2r6R1pH+aotRAP4gY2za+uLBGI5TrYSSI1oGcO0wcF0tPGAQWduiSpgVpNlWS5rLPsSPFOHTESCqNLY8DgWVZJhBNHMdNtWqgCjShuK8fxWk2BWT5bJU7foijPGpTtRE/NPwBikE8YhvcSWUAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="naver-recommend"
        title="naver-recommend"
        src="/static/a6c4c7abca1ed89696b5394fc390c3c1/1e043/naver-recommend.png"
        srcset="/static/a6c4c7abca1ed89696b5394fc390c3c1/991de/naver-recommend.png 173w,
/static/a6c4c7abca1ed89696b5394fc390c3c1/e4d6b/naver-recommend.png 345w,
/static/a6c4c7abca1ed89696b5394fc390c3c1/1e043/naver-recommend.png 690w,
/static/a6c4c7abca1ed89696b5394fc390c3c1/8ae3e/naver-recommend.png 756w"
        sizes="(max-width: 690px) 100vw, 690px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Naver Autocomplete</span><br>
다음과 같이 뒤에 단어까지 확장된 검색이 필요하다면 Text Type의 색인된 검색결과를 입력하는게 효율적입니다  </p>
<br/>
<br/>
<p>다음으로 <code class="language-text">Keyword Type</code>에 <code class="language-text">추천</code> 키워드로 검색해 보겠습니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word.keyword"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"추천"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 427px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.97687861271676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFklEQVQoz6WRcU+DMBTE+f5fy8QMtxlCFhwiGzgsm4y2o6+FOeP5cJkuxjiMf1zeNen9evC8PIiQjEPoeQIdxaD7FG26hH1YwPJ0cQIrNag7wLo9bPvyqzw9GmORFpjPElS5gMoeoYs13LpCJ3dw4QwuzUCvgLXdZaAKI2i+HOQbhEKikAZPivDcEDZdC8twm69Ah7dhDeU0gOKLZd1AMEzwNHYP2fCZuGG2gl3mx4aDPtmfILvyUU0ClP4U9W0ICkJU1z40+3Z0wy3L4Q2VaXFXbBGLGmKrISoJtSMoTZDawPIyTguhC7AjsA+xIQ44noZ//IdnSK/ef8KGNDRnm6OzQO9PZ/oLkNxX+FzfHxgq7z/hn/QOk9D+izCx+JcAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="search-prefix-keyword2"
        title="search-prefix-keyword2"
        src="/static/124f7b7122e57fc9095fea6badfc50d8/a7c74/search-prefix-keyword2.png"
        srcset="/static/124f7b7122e57fc9095fea6badfc50d8/991de/search-prefix-keyword2.png 173w,
/static/124f7b7122e57fc9095fea6badfc50d8/e4d6b/search-prefix-keyword2.png 345w,
/static/124f7b7122e57fc9095fea6badfc50d8/a7c74/search-prefix-keyword2.png 427w"
        sizes="(max-width: 427px) 100vw, 427px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Prefix Keyword2 Search</span><br>
추천과 관련된 word가 3개가 있는데 검색 결과는 <span class='red_font'>0건</span>이 나왔습니다  </p>
<br/>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 27.167630057803464%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcRAAAXEQHKJvM/AAABmElEQVQY02PQbFzJIta0hsWlZhFLccV0tvyO5WyZRf1srQ//M6kwMHBxMzBIsjMwyCszMHAv+f+fqbZmHpuGrS9HIQODyH+g3FkGBlUZBgaetTvfsmRmtbMxMCy4zi+0/hU7w93/rEAFDAz//zNAaTaG5k0tMvNOz1dYcGYuQ8vmfoaz/7n+CwLlpp6VYGjfPlNjxdUpItOOLGRo3pwI1cPIMNHGXVNOXl3ylYuP+/+wmAX/q+pn/I9OWvjfwcNxn2/s9LOpxTcuZJRePRiYsPJ/SKznf9/guX+8gxfujcu9cq6m88qB/Nqbl0MT9/73CZ7+3zdkNoO5jY82Fye3jEdwdoxPTOkzz9TaWzHpdffjaybuSs5vPhYQVXDHIyL/sVdI9jrfyKJkn8iiJx5h+bciEstultX23cgqar3uH1100yui8K53ZNFdBgbfLA4GbgE2hrQeYYaENiOGoAoDhtLp+iZVvc6qPUvNGXIm6TMktBsxpPdqMiS1izEkdxgB+QYMFbMM5ct77Pjz2+0YcicZAPUaAOUMAKUBnc48HIq3AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="elastic-search-index2"
        title="elastic-search-index2"
        src="/static/17a51ebc717ffeb8bc102da4c48b93e0/1e043/elastic-search-index2.png"
        srcset="/static/17a51ebc717ffeb8bc102da4c48b93e0/991de/elastic-search-index2.png 173w,
/static/17a51ebc717ffeb8bc102da4c48b93e0/e4d6b/elastic-search-index2.png 345w,
/static/17a51ebc717ffeb8bc102da4c48b93e0/1e043/elastic-search-index2.png 690w,
/static/17a51ebc717ffeb8bc102da4c48b93e0/e3189/elastic-search-index2.png 1035w,
/static/17a51ebc717ffeb8bc102da4c48b93e0/b1001/elastic-search-index2.png 1380w,
/static/17a51ebc717ffeb8bc102da4c48b93e0/fb937/elastic-search-index2.png 1820w"
        sizes="(max-width: 690px) 100vw, 690px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Elastic Index Search2</span><br>
Type Type과 달리 들어오는 키워드 자체로 색인되기 때문에 추천이라는 글자가 포함되더라도 검색되지 않습니다  </p>
<br/>
<br/>
<p><strong>그럼 무조건 Text Type의 검색일 사용하면 되는 걸까요?</strong><br>
Text Type으로 설정시 <span class='red_font'>치명적인 단점</span>을 가지고 있습니다<br>
다음과 같이 각각의 키워드는 있으나 결합된 키워드로 검색시 결과가 나오지 않을 수 있습니다   </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스팀게임 추"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 448px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 52.02312138728323%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVQoz52SywrCMBBF+/+fpxsFFR9oX0nzTtq6uF6rFBUXxsWlgXQOZzJTaBtQSwNhI4SJcKGHZXwcENI4f39NYX3CtuywqRQ67aGNny9naAZ4Airarc4C64uEILSisQ0D4hOUY1lol+AIvUiL5bHBjqYlz8IYnLo2u3Ua9qiFRqMcJOGl8iweobSjrZ1hPwMdgXe7Be32jcahkpCENUKhbrvHjzlA4yKUCWg54Wm6IcHwCWJ/nZI9ZcW1uR9S/37x2mZWy59Fr/lrD9/2LbP4W27NVAXoE/1DFAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="search-prefix-text3"
        title="search-prefix-text3"
        src="/static/867001024aabe2448998c7c9263cf186/33b38/search-prefix-text3.png"
        srcset="/static/867001024aabe2448998c7c9263cf186/991de/search-prefix-text3.png 173w,
/static/867001024aabe2448998c7c9263cf186/e4d6b/search-prefix-text3.png 345w,
/static/867001024aabe2448998c7c9263cf186/33b38/search-prefix-text3.png 448w"
        sizes="(max-width: 448px) 100vw, 448px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Prefix Text3 Search</span>    </p>
<p>자동완성처럼 한글자씩 치면서 아래 계속해서 list를 펼쳐줘야 하는데<br>
이는 치명적인 단점으로 다가오게 됩니다  </p>
<br/>
<br/>
<p>반면 Keyword Type의 경우 색인된 결과와 앞글자를 일치 시켜주면 검색이 됩니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word.keyword"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스팀게임 추"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 623px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 99.42196531791907%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQ4y52U6XKjQAyE8/4vuEnltB0MzD3DMICTVG/PBFPxbg7ID5UpLLpa+iRdad/jtjZodEDoEvrhVCKmaXleEzk/8feq60e0NuJPpVBT1IQeLvZMYCKT1govgp6ulO1wUAENhbOgcH5J+hjfOV8EQxxwe9TYSw/tOrhuhI8ThvGVCS9L/NSGC4fGRUjXo6LLEBMqLRgKR6PQOgvpPXJrVjnMgi4kPApXXLbWsnwBHTrYLsLGc09XluxmwSz22FoIGxiRJb+XeS53U8mWo3Mk4ZtKw/iIJ1njXlbYqYZOw4XYipIHKOPLiIzT7Gp8uUhOWx0a0hUuu8yUCUfLAqQ2+ndQ/AxlxxAU2Kv2Aoon+c1QsuAN57Fl+a3p3pP+EdgEpeW2PDQWlpvypGrciQP2ui1uG2sK7fjNKn4K5XR6LX+O0xsmxshtGeeNyW77dNoOxZdNkcumNOypcG49lNzDLHrHcu8bw6G27GcN7WcopO77YTuUHTflmiesyVC4KTmhSyNjKrEBylC2Q/BAPPM4ZLcHwniQRzwbyWeBehuUVM7W+cV5XL766EeHlu7Ch4aXj9L/x3VtD/8CqVkGtZ1dKJgAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="search-prefix-keyword3"
        title="search-prefix-keyword3"
        src="/static/b8fd34642ace5bc20a8e873dad1582ac/6114d/search-prefix-keyword3.png"
        srcset="/static/b8fd34642ace5bc20a8e873dad1582ac/991de/search-prefix-keyword3.png 173w,
/static/b8fd34642ace5bc20a8e873dad1582ac/e4d6b/search-prefix-keyword3.png 345w,
/static/b8fd34642ace5bc20a8e873dad1582ac/6114d/search-prefix-keyword3.png 623w"
        sizes="(max-width: 623px) 100vw, 623px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Prefix Keyword3 Search</span>    </p>
<p>이 때문에 높은 <code class="language-text">recall(재현율)</code>을 위해서 두가지 타입을 <code class="language-text">OR</code>로 사용해서 서비스 할 수도 있습니다  </p>
<br/>
<p>하지만 아직 위의 구현으로는 쓸만한 자동완성을 만들 수 있지만 잘 만든 자동완성은 아닙니다<br>
다음으로 <code class="language-text">오타교정 자동완성</code>과 <code class="language-text">형태소 분석</code>을 통한 자동완성을 살펴 보겠습니다   </p>
<br/>
<hr>
<br/>
<h2 id="fuzzy-query" style="position:relative;"><a href="#fuzzy-query" aria-label="fuzzy query permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fuzzy Query</h2>
<p>다음으로 알아볼것은 Elastic에서 제공하는 <strong>Fuzzy Query</strong>를 통한 자동완성입니다<br>
Fuzzy Query를 사용하게 되면 <code class="language-text">편집거리 알고리즘</code>을 사용하여 오타를 교정하는 검색이 가능해 집니다<br>
간단히 설명드리면 <strong>fuzziness</strong>설정 값 이하로 <strong>글자를 바꾸거나, 넣거나, 빼는 횟수</strong>를 측정하여 검색합니다<br>
<strong>편집거리 알고리즘(Levenshtein distance)</strong>에 대한 자세한 설명은 제 다른 포스팅을 확인해 주세요 👉 <a href="https://github.com/renuevo/data-modeling-algorithm/tree/master/levenshtein-distance" target="_blank" rel="nofollow noopener noreferrer">편집거리 알고리즘</a>   </p>
<br/>
<p>Fuzzy Query에 경우에도 아까 설명드린 <code class="language-text">Text</code>와 <code class="language-text">Keyword</code>에 대한 검색방식은 같습니다  </p>
<p><strong>Text Type Fuzzy Query</strong><br>
먼저 Text Type에 대해 검색을 하는 쿼리를 실행해 보겠습니다   </p>
<p><span class='code_header'>Fuzzy Query Text Type Search</span>  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">## 바꾸거나
GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fuzzy"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스게팀임"</span><span class="token punctuation">,</span>  </span>        <span class="token property">"fuzziness"</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fuzzy"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스팀께임"</span><span class="token punctuation">,</span>  </span>        <span class="token property">"fuzziness"</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


## 넣거나
GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fuzzy"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스게임"</span><span class="token punctuation">,</span>  </span>        <span class="token property">"fuzziness"</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

## 빼거나
GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fuzzy"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스!팀게임"</span><span class="token punctuation">,</span>  </span>        <span class="token property">"fuzziness"</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">fuzziness</code>를 <strong>1</strong>로 설정해서 1글자의 대해서 교정을 해주었습니다<br>
그래서 <strong>한글자를 바꾸거나, 넣거나, 빼는</strong> 경우에 대해서 아래와 같이 모두 같은 결과가 나옵니다  </p>
<br/>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 609px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 95.3757225433526%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQ4y52UbW+jMBCE8///YHVq2qSFQLGNX8FAWmlu1spV6V2ag36wYixntDvPrHdhmPDY9Dh2DtYPGPKCcTqX36/7c9nfWn/uhZSxSxTsw4jH1qLSAYaiNkXk+Yx8dfnekjvT8oFWWexEVdmI1g54cwMcv+veX/bTzWq/E3wTwWGcsWfLL6W6BM+KTZgoOMJTME/v/7R2VzBSQLzTfqSPnoIZlWlx6jtUvUJjDcUtAs9XVSiCLo6lwqPyFPYU1PR1KNWmPCOO0/qWhbIjlLqPeCbpjn5W2uNVi4/pJs3/V0jBjn8W0kL8ZDX2qiLt9El6dYVxmKFtgMBZeCgX8vz+BcbmCntCUVwv9FBiU5mOFigujZZAOu8g1qz38AJFBHUIeDWK0UlwJBsIJIwZiR2sFvQUrE3EL+ZRoAiQowo8Cz9r2TIiilD2Fyi1VdjrGkfmUdq9FvsRlGn+KOtvOOuhsDotcWEWPaE0jM2JUE4yJX4rlCQeZkLxeGLLhlAOquXEROZwKKMoY5e2TkpFAA+1QWNcof2sfDkbp6WEe/PjoPhcHfg42JDLpBxMgyeCaZwpPm6AwufKxZKzebkGcJ/sd4K/ARaftWlOyxL4AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="search-fuzzy-text"
        title="search-fuzzy-text"
        src="/static/d6163360a94cad4d522a5a194188d280/d0d8c/search-fuzzy-text.png"
        srcset="/static/d6163360a94cad4d522a5a194188d280/991de/search-fuzzy-text.png 173w,
/static/d6163360a94cad4d522a5a194188d280/e4d6b/search-fuzzy-text.png 345w,
/static/d6163360a94cad4d522a5a194188d280/d0d8c/search-fuzzy-text.png 609w"
        sizes="(max-width: 609px) 100vw, 609px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Fuzzy Text Search</span>  </p>
<br/>
<p>이처럼 간단한 <code class="language-text">Fuzzy Query</code>만으로 오타에 대한 자동완성을 대처할 수 있습니다  </p>
<br/>
<p><strong>Keyword Type Fuzzy Query</strong><br>
Keyword Type은 Key가 전체의 문자으로 잡히기 때문에 Fuzzy Query로 긴 자동완성을 풀기엔 무리가 있습니다  </p>
<p><span class='code_header'>Fuzzy Query Keyword Type Search</span>  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fuzzy"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word.keyword"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스팀게임"</span><span class="token punctuation">,</span>  </span>        <span class="token property">"fuzziness"</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 352px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 88.43930635838151%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaElEQVQ4y42TWXPaMBSF8///SV/63ul0nSlTmoYwIYQYs4TY8SZblrXZEOjplUMzbqCkD2euvOjTuYvO6tkCqzdv4X3soej1Ib59b9VcDGHPB7A/B09xeIX6/QfYGw96BxjTwNSbA51pfwGxuIevtxhnEoFsUG12yM0a5hdaOYAGreMM1vNPA9V0DjH2wO0Gk1WK61WCIBWohELEBLSysLqBXm9hlvewt/7rDktvBklO/KTEMGAYRyUWTCKXNXKlMElW4I871GEM03GojwIJJn5cgEUpTJpDJgxllEHEDDYrYLIcIoqheQU7nsBOXqmhYhySiu596mH6pY9V7xz+1z7i/gDq8goJRfc8oqaN3n1GESawVGNt1wdqgZIWguozzyWGlGqi10ilQWFq2C0gaXNJ30WzbaNyTo6A2nW9JqCuUQoNXlTgFN3PhmCK3mvqtKbULL2raVO9hzmA7aSp9uk76Jl74JUhaQjqaEhOR9Tt26iAO6yoKlyHM4zDOUaBj8uVh5toiUUWYfwwxx1LEBXsGfoMLEkVAZaZwOUyQVio1iUTvIVF/OkAbRsoktC2dVQZS8+dGv4FVDX8mGNK7tw64jke8qw9yAEERWU3R7t7kLIDupSdQ4+AUwILZZCWCncppR3kVAqGJc2qbfZNsJvDLr90uEhL2swweSgQc0XfFIKM0ZArkgSn2O3s4Rw6IHW33EML0iRklDbNJx3gXE7Te1wENxiQZlnQdrjr6ihQSAtGt8EV/uVPtn58Vrdex2/Kn7ERNIc00N0Np3Qy5ZJmMC/lf4FOwVqgm/ycbol5UZd/bXhNvwF94lp9xHSQJQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="search-fuzzy-keyword"
        title="search-fuzzy-keyword"
        src="/static/48bba78d840c63e1345818ef5d2dea4c/ba1c3/search-fuzzy-keyword.png"
        srcset="/static/48bba78d840c63e1345818ef5d2dea4c/991de/search-fuzzy-keyword.png 173w,
/static/48bba78d840c63e1345818ef5d2dea4c/e4d6b/search-fuzzy-keyword.png 345w,
/static/48bba78d840c63e1345818ef5d2dea4c/ba1c3/search-fuzzy-keyword.png 352w"
        sizes="(max-width: 352px) 100vw, 352px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Fuzzy Keyword Search</span>  </p>
<p>그래서 검색하면 다음과 같이 <code class="language-text">스팀게임</code>만 결과로 나옵니다<br>
<code class="language-text">스팀게임 추천</code>과 <code class="language-text">스팀게임</code>을 비교하면 빈공간과 추천이란 단어로 3개의 차이점이 보입니다<br>
때문에 <code class="language-text">fuzziness</code>의 1의 값과 맞지 않아 검색결과가 오로지 1건만 노출됩니다   </p>
<br/>
<hr>
<br/>
<h2 id="match-phrase-prefix" style="position:relative;"><a href="#match-phrase-prefix" aria-label="match phrase prefix permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Match Phrase Prefix</h2>
<p>마지막으로 알아볼 것은 <code class="language-text">Match Phrase Prefix</code>입니다<br>
Match Phrase Prefix는 많은 자동완성에서 실제로 많이 사용되고 있습니다<br>
기본적으로 Text Type에 검색을 하며 앞색인어와 뒷색인어 둘 모두 만족해야만 검색이 되는 형식입니다<br>
말로 하면 어려우니 실제 예제를 통해 살펴 보겠습니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"match_phrase_prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"스팀게임 추"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 579px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 106.35838150289018%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJ0lEQVQ4y52U227bMBBE/f+/1oeiKRo4TlxL1tWUxLsulutOh0zS2g+p5TwsBAjg4ezOLFeubpB++Ybi+xr26QV+s8W4yzD8WKPPK/j5jH44oh/nRbVySQZVCjzWGjuh0SgHOU1wosGQlZ8A7gs0jxuUSYH0OYWmqkOWQ1ChT3P40xm+n+AJ9W9g/58LVt4N2G8S7J4SdAFQ1pBZjXZXwlHteDxjHE8YWLdgEWh5e2MHyGFGoXtoHpTDgNoZFErioFWsztplCq0fobSPs3tIBYQ0SESJvaggCGqMQUuYcv4OoOmpwhNkIFQoj1qO0O6Ief6Ncfp1R8sESgI71tfkgKyxqLoO6zpD0tTIpIDtxyvYDYUTOrarbQ/Debr+GAGds5De8+uuQMtM4dwM3XZvB0KF/9oPEf7+XTxDSXfb2HId55c2Jbb1Hvv2gEK2sYTWd5qi/plSUbHQVOVnHJnDUMEYv2Bj/poSFD7sBfI2mKLwchDI2paRMYyOhWHbS+YYTZGMTDAl7ywDzJDTkEyyXdWg0h2yTkBaF6NzG3hhyol7O0xzbG8+AtN0jhVafoctaJmxoUJJZY85WzQDCiraHjK+PiVVi6gwrN+dpjisi46maM6uicYY//rKXMZpMVAwOs+VpCGWa2cZHY1ahQdhugIsWL1XUwL0iQpr6SGMwrbJkXYVcq7eT7YeHollphDYUklQOk7h3fv49kWmBHcVI3OZsY9qCfQP8QtOMN+fS54AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="match-phrase-prefix1"
        title="match-phrase-prefix1"
        src="/static/6bf48a0387a2a1dacd9a3f857a64f1a8/c08bc/match-phrase-prefix1.png"
        srcset="/static/6bf48a0387a2a1dacd9a3f857a64f1a8/991de/match-phrase-prefix1.png 173w,
/static/6bf48a0387a2a1dacd9a3f857a64f1a8/e4d6b/match-phrase-prefix1.png 345w,
/static/6bf48a0387a2a1dacd9a3f857a64f1a8/c08bc/match-phrase-prefix1.png 579w"
        sizes="(max-width: 579px) 100vw, 579px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>  </p>
<p>보시는 것과 같이 이전 Prefix를 Keyword에 검색하는 것과 같은 결과가 나옵니다  </p>
<br/>
<p><strong>그럼 어떠한 경우에 다르게 나올까요?</strong>    </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"match_phrase_prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"추천 20"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 488px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 95.3757225433526%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACK0lEQVQ4y41U2ZLaMBDc//+uPCR5SDZQLGBgDRjbsq3LliwZNlWdkTkWb4XjYWokl6bdrR7NS60MVj9ekf6eQI3fYKcRfLSCm0Votyls94HW7Y/hDw/jpclLVOMpxtsSmx2tCwElarRNi3Yygz0BhWzdE4A6ZTCrGIk9IGIaibKQtkNmFMx0Ch/AnmB2ATRcgX37jpJYFn8m4COSTXKzXyMkP19R1sTU708M91dM9xf2Q8C2Q8IkRjFDSnKFrGGMA5cGhXaQpkPX/YU/xbHwtvwX3TgoYqEJRBjfMwqHlbXgjQZTEkxr+q7pB5rOtfcZKgIMoJyA3nYVZimnIot5vkZc7JArjkwJyqLPTwNKcnWeUaFowKRETtJzaVHVvpd8lu0eSb5muGQKEYGGdc411pXCttKoWw/juudM0SdARQzXhcIikyTLIxEFFuUGMd9RZIirDAuWQFt3ty8vpnBVw3WHPoaHPkjmOQ4XsNuNHe5PWwhtSNYeDbVRiCCxIanatn3UxCzk8O2T4V3Jrnc4OG2oaJ5v6D6D0yk2vKQrKLHlBZlnnm+biO6PUUOXWiEjp4Pzofha7kPJZ0BxAlzmEiVNoIw3eC80MdQ9QA9Kk+fajIcux8WxbSTtE5K3rBKsRY6NYNiS6+9lNnD5pik9QzKltp7eru/lhULeNPQcTb8+PsVmMM7+C1gTQA9GbzlIcqfDIfvus11CDvuHd1g3x8EwaAX3dVwN4x7oP3EwsLnAsNoYAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="match-phrase-prefix2"
        title="match-phrase-prefix2"
        src="/static/5fe74e129df9478e08dfd9a1a40b2f1b/bd48c/match-phrase-prefix2.png"
        srcset="/static/5fe74e129df9478e08dfd9a1a40b2f1b/991de/match-phrase-prefix2.png 173w,
/static/5fe74e129df9478e08dfd9a1a40b2f1b/e4d6b/match-phrase-prefix2.png 345w,
/static/5fe74e129df9478e08dfd9a1a40b2f1b/bd48c/match-phrase-prefix2.png 488w"
        sizes="(max-width: 488px) 100vw, 488px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Match Phrase Prefix</span>  </p>
<p>이전과 다르게 2가지의 결과만 나왔습니다<br>
<strong>추천과 20</strong>이라는 키워드를 차례대로 포함하고 있어서 입니다<br>
일반적인 <span class='red_font'>like</span>검색과는 차이가 있습니다  </p>
<br/>
<p>색인키 <strong>스팀게임, 추천, 2019</strong>를 각각 가지고 있고 해당 색인키가 <code class="language-text">차례대로 나올때에만</code> 검색이 됩니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"fuzzy"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"20 추천"</span><span class="token punctuation">,</span>
        <span class="token property">"fuzziness"</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 230px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 62.42774566473989%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABxklEQVQoz22T63KbMBCF/f4v1k5mGnfspnGapOBgMEggLpK42jk9UiiTCz92ZMzut+fsik3XT7DdiFjWuHmMsXsREHULa1pkQuGcKXTDBaYdlnD5/8/PsemZXDYWxvZIlMY2yLCLJHbHjM8GmmBVNh4+jFfYBbreYNOPBNbWR2M6hFmJ+zjHnkBRWd9EqAZ5USHjc2MHtCzUbb+oeq/2DdhQRWU81HUOUuWBTuX9mZYdQFts/yZIiwaGOePw6qHrCmdgxbOiyl+0fBuk2IaZ/70LUxxOhbfvmp4KiW9PWxxlSsj0wfpi2cHcrDRfSFqLqeSFi4oLjYhn0XS+qNadVxaIBEob2p++WlYEai7lGMUoCb1cXjHy/+t0xYUxMfRc5DbecznDcEXXX9Ytq3khCVV9f4hwiAtEeY39vO3bUCDlSFzTVEjc3f3B43OINC/R9iuWPZBWRGnw4znBT0IOiULAjZ9khWNacCQWUtW0zHGcJTLCBDffzurMx3vYeoXu/E1V+0gglA06zqqqDWReeFhWlN6us+2jn75ccA+sdYs4kW/zGSbOZ2LyuHR1Vl28/1o+X+pFYcdil1xyRsvLlaK1S7wW/wAlcJY+B6zEEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="match-phrase-prefix3"
        title="match-phrase-prefix3"
        src="/static/a4a56520d8773bbf550987a52f168f5d/81c8e/match-phrase-prefix3.png"
        srcset="/static/a4a56520d8773bbf550987a52f168f5d/991de/match-phrase-prefix3.png 173w,
/static/a4a56520d8773bbf550987a52f168f5d/81c8e/match-phrase-prefix3.png 230w"
        sizes="(max-width: 230px) 100vw, 230px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Match Phrase No Match</span><br>
따라서 다음과 같이 색인키의 순서가 다를 때에는 검색에서는 결과가 나오지 않습니다  </p>
<br/>
<hr>
<br/>
<h2 id="combine-query" style="position:relative;"><a href="#combine-query" aria-label="combine query permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Combine Query</h2>
<p>마지막은 위에서 언급한 것들을 적절하게 섞어서 쓰는 방식입니다<br>
Elastic에 bool 쿼리를 사용하여 쉽게 작성 가능합니다<br>
예를 들어 아래 예제는 Fuzzy와 Prefix를 혼합하여 쓰는 방식입니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_1/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"bool"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"should"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"fuzzy"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"word.keyword"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스팀게임 불"</span><span class="token punctuation">,</span>
              <span class="token property">"fuzziness"</span><span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"word.keyword"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"스팀게임 "</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 605px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 95.95375722543352%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVQ4y51U2W7bMBD0/39U0QJODyNJ07RA09ixopsyT5EiJdlJp0sjR9OHRsrDeA3YHMzsDLlwfkDS6COkdnBhROgP6GhG+H7/NKdgEQm19biuFdKdgWo9pG3px/lkR0Lb9Whki0o5VNLBuJ6+G3AiflQ5R+2ii5aZwi2p49oSYYBoA7jx8P8cnqKWFA5QpoOguRUWmg6VRiDXHJkSKBUnCEQnj6TdfwnjDomwSnIk6wwiz1EkW6i8RCcUHO0y7nmy5SMhWd19+IjNuxPITytUy88o3i9hL3+gG+iPYa5lCoDbgF+NgXADCiOR6AYbUSEVDP1DjSYpjHa4amGpOuNwQIg9JEWhf8bsUCTtkFNdUtlBewqlVcjlDoXkqLUkKFg/JxTaYZVWuImhFCXyZAMhJYwPaLsAQ4hOphHSh8kqNKcXuDo5A7/4DrY6h88r+P39sYthlmX/0EMmsN6WkDSLMsWmyZBQKKUWT3d7cihC2eOOxsNvhPGOcI9+uCNQSBFEOEthfGVEvMPa095GNNbQfRYECWYUWAxlzk0xhh6GnOHqOoOsGZJkjYbvIF0H5Rw0TfeX5QmhlKhXX/FzeQp2/g3syxnCbY4QVxD2bwglWq52uKFQVE1WixRbllEvG+pjg1KKFwpfDUWS5ZZmiDWhUBwFER+FeNiFlw/Da4R/AKwmsmnhk6TzAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="combine-1"
        title="combine-1"
        src="/static/ecc314c38e3b4921a0b7e08c3943750f/90cbd/combine-1.png"
        srcset="/static/ecc314c38e3b4921a0b7e08c3943750f/991de/combine-1.png 173w,
/static/ecc314c38e3b4921a0b7e08c3943750f/e4d6b/combine-1.png 345w,
/static/ecc314c38e3b4921a0b7e08c3943750f/90cbd/combine-1.png 605w"
        sizes="(max-width: 605px) 100vw, 605px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Fuzzy와 Prefix의 혼합</span>  </p>
<br/>
<p>결과를 보시면 Should를 사용하여 Fuzzy와 Prefix 중 한가지라도 조건이 맞으면 결과로 노출됩니다<br>
여기서 확인해야 할것은 <code class="language-text">score</code>에 의한 <code class="language-text">정렬</code>입니다<br>
맨처음 <strong>스팀게임 환불</strong>만 Fuzzy와 Prefix를 모두 만족시켜서 높은 스코어로 맨 위에 노출되었습니다  </p>
<br/>
 
실제로 Fuzzy쿼리만 검색해보시면 다음과 같은 score 확인이 가능합니다  
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 389px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 78.03468208092485%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVQ4y42U65OaMBTF/f//qU47/dBu66OuLowPFEWRQAIk4SG6Pb2Jj6WrbvvhDBkm/Dj33Jt0VLHHYicwXsdgqQYXEpksUFSNlS73Vpf15f0jdVRRI8sLzLYcoxXDTigIntl3BQHq6mifmvbZp/nwA3AnVxWErpFUB/Q3AoOtgMc1NnmFpKgQKII3ryiOgN4f36CPgJJKFnMfauqBuTPEpHA8gZwtoOcewpch9MJHTSoSAV0fPnaoY4Hk0xcseyNwA3t2ERFQTebgzhTLvoPl4AVh7xnVtx/Q5PaS6718OzJVkE9djD9/h/v1J7ZPPVIX5dhFPhwj6g6RDEZIu79QjhwUpvx3Di2svJZcIyXFmbZZ1s2RMqI/15QXZVYToGxO63vuzF4LrS4ONYVPo5LTqPBLt31G65LGR8HdLDDZ+nADDw6tPbbBLArgxSGCJEIqNUpqqD436wSksnNVIpElhn5EAIFUFdilCSbhEqHgULqEpK4b5eenqa6d4S2QHE7IoZnFJM/JAUOUFojpfUKO2yXeZHgdmxaQ0YfO5jTgodBITQRhilWs4DMJc6oODd5KvNvlFlBQyU4QU9kM60QSUGFBmU3ZiuQjEAz9wMWaM1TUtDbwxmFGsDTXFrrhNEra5FMjzAR8vrNieYZ5HFDW+V8ub4A809aNIGBFJ6E2p+G8wTjZ71+tzLrZ/0ZZHx5eFB2TSyykdde+Xf6l9zfRFWhAPJU3Hfufq+qe/gAnqsV0DQsI4AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="combine-2"
        title="combine-2"
        src="/static/3b46308576045adf23bbda9d6aa05d69/00a4e/combine-2.png"
        srcset="/static/3b46308576045adf23bbda9d6aa05d69/991de/combine-2.png 173w,
/static/3b46308576045adf23bbda9d6aa05d69/e4d6b/combine-2.png 345w,
/static/3b46308576045adf23bbda9d6aa05d69/00a4e/combine-2.png 389w"
        sizes="(max-width: 389px) 100vw, 389px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span><br>
이걸로 이전 결과가 <code class="language-text">prefix 1 + fuzzy 1.4로 2.4</code>로 스코어 집계가 된걸 확인할 수 있습니다<br>
이처럼 여러 조건을 혼합한 설계로 좋은 품질의 자동완성을 만드는 것이 가능합니다  </p></div><div class="social-share"><a class="resp-sharing-button__link" href="#" target="_blank" rel="noopener" aria-label="Share on Facebook"><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"></path></svg></div><span class="service-label">Share on Facebook</span></div></a><a class="resp-sharing-button__link" href="#" rel="noopener" aria-label="Share on Twitter"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"></path></svg></div><span class="service-label">Share on Twitter</span></div></a></div><hr class="custom-hr"/><div class="bio"><div class="author"><div class="author-description"><div class="author-image gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:72px;height:72px;border-radius:100%"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVQ4ywHEBDv7AH6fl5Slt2tgYj8wK1RFQYFiTK+Mba+ReLOXhLiejLyhjL6hisGjisCih7ydgquMdJl7ZauMc6SGb5Z7ZQB+mZCUqb2Rm6N9fXV0YmC4pJi4kXC7mn7AoYjFqI7LrJHQsJTSsZTUspXXtZjYtpfYtpjUtJfRsZXKrJEAgpSKjqW5l5+omLOgoJyg79rRyZpnzJ1p2Kx46r2H88qS882W8MeO88qR8cyS9NSc7MSP5r2L37eG1a6CAIyQmZSkup2jrpStnpKisNG+ttOlcMecbYZiRZdyT9u1g/fUmfnTkvfPkP/Xk+TFj+a/h/nOjuy+gei5fACvuMuyyeWlrMKbus2UqsPd09DTpnZtRi9IKRk6HxI0HhJfQirLpXP82Z771prz2bLz0KD50JP0zJPvw4sAnoyBpqCfoJeZvsvHqbjI49bYoXlkVTImTzEiPCUYOiQWLRQKZUYu/OKt++W0/eCs/dig/Nqk/eCt/dqnALGzv5CJi29dWqqkpoyFhtrP0V5NTS8hISgbGSIUDSgXDisYDjMZC9y5i//lrv3dqP/bpf7ZoP3Yof/cpwCptb3Z2d+Fe4TBx9CqrrjTxMQ9OD0iGx46LC9KMy1HLCBHKBpEJxfEnnTku4fkvIjmvovlu4bku4fswo8A2uXjxNXji4WRx9DVn6Cq2MvKfW1sknNwsIBy3KKMrHZhwYNglmE+VzsrXkM1Y0UzZUc1Y0cyZEgzYUczALjY9aKuv4B4hJaVmYWIk21kZolvbOq9sNGhl+6wmducgO+xi8WCV0AnGUIrGkgvHkYtHEUrG080H0QrGACsoqOLfXlKP0VCSmVPa49ucXl0Y2L8yr7ttqjdoIntpYL9v6CLXDwwHRJCKRgtGg86JBVAJRQ5IhJQLhoAcHF0T1RhTUpSc4GDbX6GfXh7iGlU0aie6baq0IV114tn255wYUUuKBoVPikcJRcPMiEUOCMUOyUWZUQnAEVJUD1ET1VbYZWqpHmKimReYHFUQJd1asGSicF2aMyAU7Z+SbqSYnhcQaF9VXxdO4NgPJRuQY5pQdalZwBaZHAwN0IVFiIiKTctKzFkUUY7MjRaQzu4loq1jXy9eUxnQSa6nHL80ZL/2Jv/3Jv91pf2zI7wxoX1zJAAYnB9GRohKyksLiUoPCwpQDArNCgrNx8YnnBXvp6RsoFkPykeMSEXQy0cTTYljnFR58SQ/dea8syQ+NGWAEU8PEw/OkU1MDcnJSUYGSEVFSgdHRYLCGtAJ7OKdHVaUw0IBhcNCRkODB0REBQJCDwqH7GPZPjPkfXNlQAnGhouHx0oGhgiFBMgFBMeFBMTDw0ICAkmDQ9CEhcRCAgQDQoXFBEZEhAhFhQeFRIgExAlEwutilz/4qAAKx4cIhYUGQ8NHBMRHBQUHBIQGhMRDQ4NGw0QQAgIGQ4LHRQTHRUTFhEOEg0LDgsJGxMOHhEOPCgatJhwABwRDRoQDBAJBg8LCRwWFiAVFBwREBQPDA4QEigMDB8PDR0TEhsSERoSEBUNCwkHCBMODB4TEBwQDCMTCwAZDgoRCQYLBgMJBgUbFBQfFBMZDw0UDgsVEREbDg4kFQ8eExAdExEeExEXDw4IBwcJCAoWEA4kGBEwHxTXF/+1PnzuWAAAAABJRU5ErkJggg==" alt="deokhwa kim" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/3fc5562e6ad25d80970b53e8e9afab0c/e5b88/profile.png 1x,
/static/3fc5562e6ad25d80970b53e8e9afab0c/e7bd6/profile.png 1.5x,
/static/3fc5562e6ad25d80970b53e8e9afab0c/a12fc/profile.png 2x" /><img loading="lazy" width="72" height="72" srcset="/static/3fc5562e6ad25d80970b53e8e9afab0c/e5b88/profile.png 1x,
/static/3fc5562e6ad25d80970b53e8e9afab0c/e7bd6/profile.png 1.5x,
/static/3fc5562e6ad25d80970b53e8e9afab0c/a12fc/profile.png 2x" src="/static/3fc5562e6ad25d80970b53e8e9afab0c/e5b88/profile.png" alt="deokhwa kim" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="author-name"><span class="author-name-prefix">About Me</span><a class="author-name-content" href="/about"><span>@<!-- -->deokhwa kim</span></a><div class="author-introduction">Backend Engineer / Spring / Elastic / Kotlin / Webflux</div><p class="author-socials"><a href="https://github.com/renuevo">GitHub</a></p></div></div></div></div><ul class="navigator"><li><a rel="prev" href="/spring/batch/spring-batch-chapter-3/">← <!-- -->[Spring] 3. Spring Batch의 ItemReader - DB Item Reader</a></li><li><a rel="next" href="/data-science/levenshtein-distance/">[DataScience] Levenshtein Distance (편집거리 알고리즘) - 문장 유사도 분석을 어떻게 하는가?<!-- --> →</a></li></ul><div><div id="disqus_thread"></div></div><footer class="footer">©<a href="https://github.com/renuevo">renuevo</a>, Built with<!-- --> <a href="https://github.com/JaeYeopHan/gatsby-starter-bee">Gatsby-starter-bee</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-147163050-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/elastic/autocomplete/elastic-autocomplete-1/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c5f50f2ad13861331c8a.js"],"app":["/app-ebf0294f0ed7a67bde7b.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-241020a1cf7d0f317bbe.js"],"component---src-pages-404-js":["/component---src-pages-404-js-64b4b10bec6f94406ee7.js"],"component---src-pages-about-js":["/component---src-pages-about-js-f6a62541db39ed415248.js"],"component---src-pages-index-js":["/component---src-pages-index-js-8e0fbdd35a072140de59.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-f135ee67b10d289fc836.js"]};/*]]>*/</script><script src="/polyfill-c5f50f2ad13861331c8a.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-f135ee67b10d289fc836.js" async=""></script><script src="/cd7d5f864fc9e15ed8adef086269b0aeff617554-6341a6960d46b1cc0197.js" async=""></script><script src="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-2ebf920bd49eb6dc674f.js" async=""></script><script src="/133dca110fad53aa1997b630637bbac3134a2d14-a18cb3de793a9cd4c3b2.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-ebf0294f0ed7a67bde7b.js" async=""></script><script src="/framework-9252bfa5ea71b588207d.js" async=""></script><script src="/webpack-runtime-903f659ab042168d7448.js" async=""></script></body></html>