<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="google-site-verification" content="_rVJuueG9dPQsjnBpN7bhY8QW5HU9HQz-7xYVzRUBaM"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, minimum-scale=1, maximum-scale=2"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:Catamaran;font-weight:800;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.2;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:56px;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:20px;color:inherit;font-family:Catamaran;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.2;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:6px;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:2px;}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#0687f0;text-decoration:none;box-shadow:none;}a:hover,a:active{text-decoration:underline;}a.gatsby-resp-image-link{box-shadow:none;text-decoration:none;}a:hover{text-decoration:none;}</style><style data-href="/styles.d29006b75e9df635ea00.css">@import url(https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css);@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:100;src:local("Noto Sans KR Thin "),local("Noto Sans KR-Thin"),url(/static/noto-sans-kr-latin-100-2de137ca3e12ea146ee47485a97f1e78.woff2) format("woff2"),url(/static/noto-sans-kr-latin-100-b965647685dd9fc531d1f8a1cc25e024.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:300;src:local("Noto Sans KR Light "),local("Noto Sans KR-Light"),url(/static/noto-sans-kr-latin-300-4f773a0fce88aa857d70b56c5b0a1d26.woff2) format("woff2"),url(/static/noto-sans-kr-latin-300-ee87751dac814562bac316d848e35748.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:400;src:local("Noto Sans KR Regular "),local("Noto Sans KR-Regular"),url(/static/noto-sans-kr-latin-400-be09f2ced7ff9fa6eda5f0416e2fc840.woff2) format("woff2"),url(/static/noto-sans-kr-latin-400-4c50be0fe5b21a153b8e40a392c2d3fe.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:500;src:local("Noto Sans KR Medium "),local("Noto Sans KR-Medium"),url(/static/noto-sans-kr-latin-500-416698c2fc4b3951f8d63d3d2ae23900.woff2) format("woff2"),url(/static/noto-sans-kr-latin-500-28601458e118110e494903a1fcd6dcf5.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:700;src:local("Noto Sans KR Bold "),local("Noto Sans KR-Bold"),url(/static/noto-sans-kr-latin-700-04e782e08729f3725ae5a9c95da0c8ba.woff2) format("woff2"),url(/static/noto-sans-kr-latin-700-b9e989a96027f839a9569d2d011e0b71.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:900;src:local("Noto Sans KR Black "),local("Noto Sans KR-Black"),url(/static/noto-sans-kr-latin-900-c41f1395489a117ca36d550142a1695f.woff2) format("woff2"),url(/static/noto-sans-kr-latin-900-589f5fbf84d9dc9984a969bae969fd60.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:100;src:local("Catamaran Thin "),local("Catamaran-Thin"),url(/static/catamaran-latin-100-6473cfe10b779f968c3d41708e4dfa70.woff2) format("woff2"),url(/static/catamaran-latin-100-a2eb4ef6ac1cc8ff5a51d62c01fe2fea.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:200;src:local("Catamaran Extra Light "),local("Catamaran-Extra Light"),url(/static/catamaran-latin-200-d005aac0ee52a3cb2261ea79a93d4e04.woff2) format("woff2"),url(/static/catamaran-latin-200-fbc8307e859bc6f8866a36e084fdcb3b.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:300;src:local("Catamaran Light "),local("Catamaran-Light"),url(/static/catamaran-latin-300-62b414e71a1f15fa797f91bbf8a3f124.woff2) format("woff2"),url(/static/catamaran-latin-300-7c000b951ef8e9a2b791e70d678dd263.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:400;src:local("Catamaran Regular "),local("Catamaran-Regular"),url(/static/catamaran-latin-400-2175f69a7b7f93cc707ffb96264af4aa.woff2) format("woff2"),url(/static/catamaran-latin-400-2de7e6f54ec70b29a1b4541beba00c89.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:500;src:local("Catamaran Medium "),local("Catamaran-Medium"),url(/static/catamaran-latin-500-f1dd472e80352ac073661af4c1f612dc.woff2) format("woff2"),url(/static/catamaran-latin-500-b7668eb8c9c0df2d0cbe5f77616a8ea8.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:600;src:local("Catamaran SemiBold "),local("Catamaran-SemiBold"),url(/static/catamaran-latin-600-15d0af50791a8286c40ffd0e51bd94c7.woff2) format("woff2"),url(/static/catamaran-latin-600-10467dab56671e7aa6f043987d44dcb8.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:700;src:local("Catamaran Bold "),local("Catamaran-Bold"),url(/static/catamaran-latin-700-4a133d839202a1733fd3e50dab1597dc.woff2) format("woff2"),url(/static/catamaran-latin-700-09314a5449726c9e36e6453e9661fe46.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:800;src:local("Catamaran ExtraBold "),local("Catamaran-ExtraBold"),url(/static/catamaran-latin-800-f6053867cb0122b6897b017da49d0009.woff2) format("woff2"),url(/static/catamaran-latin-800-cb812de767a624c9d405058e05731b3f.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:900;src:local("Catamaran Black "),local("Catamaran-Black"),url(/static/catamaran-latin-900-0e80350f234f47318f42c4ef8f4f47b9.woff2) format("woff2"),url(/static/catamaran-latin-900-6f7344e59325277678d79578eb0a2554.woff) format("woff")}.custom-hr{margin:64px;background:linear-gradient(72deg,#86e3ce,#d0e6a5);border:none;height:2px}.post-date{text-align:right;font-size:12px;font-style:italic}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:active,.resp-sharing-button--facebook:hover{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:active,.resp-sharing-button--twitter:hover{background-color:#2795e9;border-color:#2795e9}.social-share{text-align:right;height:100%}.resp-sharing-button__icon,.resp-sharing-button__link{display:inline-block;vertical-align:middle;border:none}.resp-sharing-button__link{text-decoration:none;color:#fff;margin:4px;height:33px}.resp-sharing-button__link .service-label{font-size:12px;padding-right:4px}.resp-sharing-button{height:33px;border-radius:6px;-webkit-transition:25ms ease-out;transition:25ms ease-out;padding:3px 8px 3px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1.5em;margin-right:.4em;vertical-align:top}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid{fill:#fff;stroke:none}.sponsor-button{text-align:right;margin:4px}.sponsor-button .bmc-button{display:inline-block;padding:0 7px;width:133px;height:33px;text-decoration:none;background-color:#bb5794;color:#fff;border:1px solid transparent;border-radius:6px;letter-spacing:-.08px;box-sizing:border-box;font-size:12px;line-height:30px;text-align:left}.sponsor-button .bmc-button:active,.sponsor-button .bmc-button:hover{background-color:#a0457d}.sponsor-button .bmc-button img{width:20px;margin-bottom:1px;box-shadow:none;border:none;vertical-align:middle}.sponsor-button .bmc-button span{margin-left:6px}.bio{margin-bottom:24px}.bio .author-description{display:flex}.bio .author-image{margin-top:12px;margin-right:12px;margin-bottom:0;min-width:72px}.bio .author-name-prefix{font-size:90%;margin-right:4px}.bio .author-name-content{display:inline-block;font-size:95%;padding:2px 6px;font-weight:bolder;border-radius:8px;-webkit-transform-origin:center;transform-origin:center;-webkit-animation:flutter 2s linear infinite;animation:flutter 2s linear infinite}.bio .author-introduction{margin-top:4px;font-size:80%;line-height:1.4}.bio .author-socials{margin-top:4px}.bio a{margin-right:8px;font-size:80%}.bio a.visited{text-decoration:none}@-webkit-keyframes flutter{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}35%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}40%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}65%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes flutter{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}35%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}40%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}65%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.navigator{margin:40px 0;display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0}.navigator li{margin-bottom:12px}.navigator a{padding:7px 16px 8px;border-radius:6px;font-size:12px;opacity:.8}.gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1.2em;margin-left:-1.2em;padding-right:1em;padding-left:.75em;border-left:.35em solid #ff609a}.gatsby-highlight .language-textbox code{border-radius:5px;color:#383838}.gatsby-highlight pre[class*=language-textbox]{background-color:#f8f8f8;border:1px solid #ccc}.gatsby-highlight pre[class*=language-]{border-radius:5px;display:flex;margin-top:0}.gatsby-highlight pre[class*=language-] code[class*=language-]{flex:1 1}code[class*=language-],pre[class*=language-]{color:#e0e0e0;background:none;font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.6;font-size:15px;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;-ms-overflow-style:none;overflow:-moz-scrollbars-none}li code[class*=language-text],p code[class*=language-text]{font-weight:600}pre[class*=language-]::-webkit-scrollbar{display:none}pre[class*=language-]{padding:1.2em;margin:1.5em 0;overflow:auto;border-radius:.6em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#212121}:not(pre)>code[class*=language-]{padding:.1em .6em;border-radius:.2em;white-space:normal;background:#e0ecde;color:#205072;border:1px solid}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#616161}.token.punctuation{color:#e0e0e0}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#ff9100}.token.class-name,.token.constant,.token.property,.token.symbol{color:#ff0}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#b388ff}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#00e676}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.category-container{display:flex;top:0;line-height:0;white-space:nowrap;-ms-overflow-style:none;overflow:-moz-scrollbars-none;z-index:1;padding:6px 20px;box-sizing:content-box;margin-top:50px}.category-container .filter-button{width:15rem;background:linear-gradient(45deg,#fe6b8b 30%,#ff8e53 90%);border-radius:3px;border:0;color:#fff;height:40px;padding:0 30px;box-shadow:0 3px 5px 2px rgba(255,105,135,.3)}.category-container .search-filter{margin-top:5px;margin-bottom:0;margin-left:5vw}.category-container .search-filter>label{top:-13px}.category-container .search-filter>div{margin-top:5px}.category-container .search-filter .MuiFormLabel-root.Mui-focused{color:#fe6b8b}.category-container .search-filter .MuiInput-underline:after{border-bottom:2px solid #fe6b8b}.category-container .search-filter .MuiInputLabel-shrink{-webkit-transform:translateY(8px) scale(.7);transform:translateY(8px) scale(.7)}.category-container .search-filter .MuiInputBase-input{padding:6px 0 5px}.category-container .search-filter .MuiAppBar.root{box-sizing:border-box}.category-container::-webkit-scrollbar{display:none}.thumbnail-container{min-height:calc(100vh - 3.5rem)}.thumbnail{display:block;margin-bottom:12px;padding:4px 4px 12px;box-shadow:none;-webkit-transition:text-shadow .3s,opacity .4s;transition:text-shadow .3s,opacity .4s;opacity:0}.thumbnail p{font-size:90%;line-height:1.4}.thumbnail.visible{opacity:1}</style><style data-href="/commons.2e95dfffb201bf401f8b.css">.github{float:right;padding:14px;opacity:.6}.top{position:relative;width:100%;height:60px;background:linear-gradient(72deg,#86e3ce,#d0e6a5)}.top .link{display:inline-block;font-size:28px;padding-top:8px;color:#fff;opacity:.7;margin-left:20px;font-family:Catamaran;font-weight:800}.home-header{margin-top:0;border-bottom:none;font-weight:900;font-size:48px;letter-spacing:-2px}.link{box-shadow:none;text-decoration:none;color:inherit}.switch-container{text-align:right}.switch-container .icon{text-align:center;color:#222;font-size:14px;font-weight:900}.footer{padding-top:52px;text-align:center;font-size:12px}.footer a{text-decoration:none!important}body.light{background-color:#fff;text-shadow:0 0 .1px rgba(0,0,0,.3);padding-right:0!important}body.light .home-header{color:#333}body.light .bio .author-name-content{background-color:#ecf0f2}body.light .bio .author-introduction{color:#7d7d7d}body.light .bio a{color:navy}body.light .thumbnail h3{color:#333}body.light .thumbnail p{color:#7d7d7d}body.light .thumbnail:hover{text-shadow:0 0 6px rgba(0,0,0,.2)}body.light .footer{color:#aaa}body.light .footer a{color:#333}body.light .navigator a{background-color:#fceff7;color:#cc007a}body.light blockquote{color:rgba(0,0,0,.8)}body.light .red_font{color:#cc007a;font-weight:700}body.dark{background-color:#282c35;text-shadow:0 0 .1px hsla(0,0%,100%,.3);padding-right:0!important}body.dark,body.dark .home-header{color:#eee}body.dark .bio .author-name-content{background-color:#383636}body.dark .bio .author-introduction{color:#d8d7d7}body.dark .bio a{color:#bb72ec}body.dark .category-container .MuiInputBase-input{color:#eee}body.dark .category-container .MuiFormLabel-root{color:#fff}body.dark .category-container .MuiInput-underline:before{border-bottom:1px solid #fff}body.dark .thumbnail h3{color:#eee}body.dark .thumbnail p{color:#d8d7d7}body.dark .thumbnail:hover{text-shadow:0 0 6px hsla(0,0%,100%,.2)}body.dark .footer{color:#d8d7d7}body.dark .footer a{color:#fff}body.dark blockquote{border-left:4px solid hsla(0,0%,100%,.822);color:#d8d7d7}body.dark h1,body.dark h2{border-bottom-color:hsla(0,0%,100%,.3)}body.dark .navigator a{background-color:#fceff7;color:#cc007a}body.dark .red_font{color:#cc007a;font-weight:700}body{font-family:Noto Sans KR,sans-serif;font-size:108%;background-color:#fff;-webkit-text-size-adjust:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transition:background-color .3s,color .3s;transition:background-color .3s,color .3s}body .main-container{max-width:60vw}@media screen and (max-width:50em){body .main-container{max-width:39rem}}body .main-container .code_header{margin-top:1rem;display:inline-block;font-weight:600}body .main-container .sub_header{font-size:.8rem}body .main-container .img_caption{font-style:normal;display:inherit;text-align:center;font-size:90%}body .main-container .category-container{margin-bottom:1.5rem}body .main-container .category-container .MuiInputBase-input{padding:6px 0 5px}</style><meta name="generator" content="Gatsby 2.15.28"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=2f5579d0a300f616a0d61ad3b7916fd1"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">[Elastic] 2. Elastic 자동완성 가이드 (Autocomplete Guide) - Index Search | renuevo blog</title><meta data-react-helmet="true" name="description" content="Elastic Autocomplete Guide 시리즈 Autocomplete Prefix Queries Autocomplete Index Search Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다 Elastic 7.x 버젼을 기준으로 진행합니다    Prefix Queries를 활용한 자동완성   Index 색인을 통한 Search   Completion Suggester를 활용한 자동완성   해당 포스팅에서는 앞서 소개한 Prefix Queries…"/><meta data-react-helmet="true" property="og:title" content="[Elastic] 2. Elastic 자동완성 가이드 (Autocomplete Guide) - Index Search"/><meta data-react-helmet="true" property="og:description" content="Elastic Autocomplete Guide 시리즈 Autocomplete Prefix Queries Autocomplete Index Search Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다 Elastic 7.x 버젼을 기준으로 진행합니다    Prefix Queries를 활용한 자동완성   Index 색인을 통한 Search   Completion Suggester를 활용한 자동완성   해당 포스팅에서는 앞서 소개한 Prefix Queries…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="deokhwa kim"/><meta data-react-helmet="true" name="twitter:title" content="[Elastic] 2. Elastic 자동완성 가이드 (Autocomplete Guide) - Index Search"/><meta data-react-helmet="true" name="twitter:description" content="Elastic Autocomplete Guide 시리즈 Autocomplete Prefix Queries Autocomplete Index Search Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다 Elastic 7.x 버젼을 기준으로 진행합니다    Prefix Queries를 활용한 자동완성   Index 색인을 통한 Search   Completion Suggester를 활용한 자동완성   해당 포스팅에서는 앞서 소개한 Prefix Queries…"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-db7c9e59d855b4322330.js"/><link as="script" rel="preload" href="/app-3ef2d9e26c0a65fb468a.js"/><link as="script" rel="preload" href="/commons-e3839588b8ec4f06d1d2.js"/><link as="script" rel="preload" href="/styles-e1c233dfb1cd7340e97d.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-2047161ab81a7fa0cbea.js"/><link as="fetch" rel="preload" href="/page-data\elastic\autocomplete\elastic-autocomplete-2\page-data.json" crossorigin="anonymous"/></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="top"><a class="link" href="/">renuevo blog</a><a href="https://github.com/renuevo" class="github" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div><div style="margin-left:auto;margin-right:auto;padding:2.4375rem 1.21875rem" class="main-container"><div class="switch-container"><label for="normal-switch"><div style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:12px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:24px;width:48px;margin:0;position:relative;background:#d9dfe2;border-radius:12px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:24px;width:26px;position:relative;opacity:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon checkedIcon">D</div></div><div style="height:24px;width:26px;position:absolute;opacity:1;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon uncheckedIcon">L</div></div></div><div class="react-switch-handle" style="height:22px;width:22px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(1px);top:1px;outline:0;border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px" id="normal-switch"/></div></label></div><h1>[Elastic] 2. Elastic 자동완성 가이드 (Autocomplete Guide) - Index Search</h1><p class="post-date">November 04, 2020</p><div><h3 id="elastic-autocomplete-guide-시리즈"><a href="#elastic-autocomplete-guide-%EC%8B%9C%EB%A6%AC%EC%A6%88" aria-label="elastic autocomplete guide 시리즈 permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Elastic Autocomplete Guide 시리즈</h3>
<ol>
<li><a href="https://renuevo.github.io/elastic/autocomplete/elastic-autocomplete-1/" target="_blank" rel="nofollow noopener noreferrer">Autocomplete Prefix Queries</a></li>
<li><a href="https://renuevo.github.io/elastic/autocomplete/elastic-autocomplete-2/" target="_blank" rel="nofollow noopener noreferrer">Autocomplete Index Search</a></li>
</ol>
<br/>
<hr>
<br/>
<p><em>Elastic을 활용하여 다음 3가지 방법의 자동완성 서비스를 구현하는 기술을 다룹니다</em><br>
<em>Elastic 7.x 버젼을 기준으로 진행합니다</em>   </p>
<ol>
<li>Prefix Queries를 활용한 자동완성  </li>
<li>Index 색인을 통한 Search  </li>
<li>Completion Suggester를 활용한 자동완성  </li>
</ol>
<p>해당 포스팅에서는 앞서 소개한 <a href="https://renuevo.github.io/elastic/autocomplete/elastic-autocomplete-1/" target="_blank" rel="nofollow noopener noreferrer">Prefix Queries</a>에서는 다룰수 없었던<br>
초성검색과 같은 보다 복잡한 자동완성을 해결할 수 있는 <code class="language-text">Index Search</code>를 활용한 자동완성을 만드는 방법 소개합니다  </p>
<br/>
<hr>
<h2 id="example-data-setting"><a href="#example-data-setting" aria-label="example data setting permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example Data Setting</h2>
<p>먼저 테스트 데이터를 준비해 줍니다<br>
간단한 Index Mapping 정보를 작성합니다  </p>
<p><span class="code_header"><strong>Autocomplete Example Mapping</strong></span>  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">PUT autocomplete_test_<span class="token number">2</span>
<span class="token punctuation">{</span>
  <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"analysis"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"autocomplete"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"tokenizer"</span><span class="token operator">:</span> <span class="token string">"autocomplete"</span><span class="token punctuation">,</span>
          <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"lowercase"</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"autocomplete_search"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"tokenizer"</span><span class="token operator">:</span> <span class="token string">"lowercase"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"tokenizer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"autocomplete"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"edge_ngram"</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">          <span class="token property">"min_gram"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">          <span class="token property">"max_gram"</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">          <span class="token property">"token_chars"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span><span class="gatsby-highlight-code-line">            <span class="token string">"letter"</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">            <span class="token string">"digit"</span></span><span class="gatsby-highlight-code-line">          <span class="token punctuation">]</span></span>        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"mappings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span>
        <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token string">"autocomplete"</span><span class="token punctuation">,</span>
        <span class="token property">"search_analyzer"</span><span class="token operator">:</span> <span class="token string">"autocomplete_search"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>색인을 활용한 자동완성을 위해 커스텀한 형태소 분석을 추가해 줍니다  </p>
<br/>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenizers.html" target="_blank" rel="nofollow noopener noreferrer">Elastic에서 기본적으로 제공하는 Tokenizer reference</a><br>
토큰을 끊는 기준을 Elastic에서 제공하는 edge_ngram으로 작성했습니다<br>
<code class="language-text">edge_ngram</code>은 자동완성과 아주 잘 맞는 Tokenizer 입니다  </p>
<br/>
<p><span class="code_header"><strong>Edge_ngram Tokenizer</strong></span>  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">  <span class="token property">"tokenizer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"autocomplete"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"edge_ngram"</span><span class="token punctuation">,</span>
      <span class="token property">"min_gram"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">"max_gram"</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token property">"token_chars"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"letter"</span><span class="token punctuation">,</span>
        <span class="token string">"digit"</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span></code></pre></div>
<p>edge_ngram는 기본적으로 min_gram과 max_gram을 지정하게 되어있습니다<br>
글자수를 지정하는 단위로 위와 같이 설정할 경우 “2 Quick Foxes”를 <code class="language-text">[ Qu, Qui, Quic, Quick, Fo, Fox, Foxe, Foxes ]</code> 다음과 같이 끊어 줍니다<br>
그래서 실제 검색하는 글자 타이핑에 맞게 알맞은 색인어들이 생성됩니다  </p>
<br/>
<p>token_chars는 글자수에 포함될 형태의 단위로 위에는 문자와 숫자를 추가 하였습니다<br>
문자와 숫자를 제외한 다른 것들(공백, 줄바꿈등)은 새롭게 토큰을 시작하는 기준이 됩니다  </p>
<br/>
<p>자세한 설명은 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-edgengram-tokenizer.html" target="_blank" rel="nofollow noopener noreferrer">Elastic 공식 가이드</a>에서 확인할 수 있습니다!!  </p>
<br/>
<hr>
<br/>
<p>이제 기본 index 설정 개념을 알아봤으니 예제의 사용할 데이터를 생성하겠습니다  </p>
<br/>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 55.1490514905149%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACEklEQVQoz3WT207bQBCG85B9jr5KX6FSVSR6Uyr1otyAKgoSrQTlkAQBOTjGdhw7ttf2+mx/HadASSVG+rU7u/a3c9gdlEVBGseUWlNmCl1oirJG5xVZUT+r93Uu44u1rX1RKvsDdzrlaG+PyZc96tFXfllDpkFLFBdkFQiHRFeEKqVuoKy7/yTflC2BynCijkFaVnhBRLh2WKU2sczzlY8fJCRpyTpMSdOcTKeorKGjt5auk9mjuk78tpUDGwZepXGLFK/WOEWElyXY/hIz8HCSEDPyCZIYFSn8UBHohmZD7XjB/HuMQAeWgOxGY9UScltgVilD32HkOdyuXW5EtgpRYcgyLCiaJ9i2emt6oNs2rGTB7RoB5syziBuB3Qcrxit7A12qgDBKCPVTyt1zVBvv0dlEeBmec+YfcyWj3WbMspAL2+C3ZTBamly7FgspgbuWGpb/AK8Cp5X8pC4YqTFmk2KUip+LCVeOyVhgp8Y9M2+JThIiFUsNW9puO8qtlD8cvOdyNWchtTTqhIXUc7he8uNuzMnkhrOHGXMBqjDAW4vikrzuO9FuInpSD236Lr9994bdk4/MqwhDOm5IU4wq4fD2mv2rM4lwwti6R2f1Y0Netx46+Hz8jZ2DT5w7M6yuYC4pG3XMJA84vLtm9/SI78N9Josps8UM057IHbVwfYMHZ4ppPTA35nKlAlJ5bX8AovZDg25DIHMAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="coupang_autocomplete"
        title="coupang_autocomplete"
        src="/static/7753c6d1c972b63bdcc5f693266ec0a4/36727/coupang_autocomplete.png"
        srcset="/static/7753c6d1c972b63bdcc5f693266ec0a4/acf4b/coupang_autocomplete.png 173w,
/static/7753c6d1c972b63bdcc5f693266ec0a4/fc834/coupang_autocomplete.png 345w,
/static/7753c6d1c972b63bdcc5f693266ec0a4/36727/coupang_autocomplete.png 690w,
/static/7753c6d1c972b63bdcc5f693266ec0a4/2bf51/coupang_autocomplete.png 738w"
        sizes="(max-width: 690px) 100vw, 690px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Coupang Search</span>  </p>
<p>자동완성 샘플 데이터는 쿠팡에 <strong>세트</strong>를 검색해서 나오는 자동완성을 가져왔습니다  </p>
<br/>
<p><span class="code_header"><strong>Autocomplete Example Data</strong></span>  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">POST _bulk
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_2"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"추석 선물 세트"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_2"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"2"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"여성 트레이닝복 세트"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_2"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"3"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"김밥 재료 세트"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_2"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"4"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"여성 속옷 세트"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_2"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"5"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"선물 세트"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_2"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"6"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"설화수 세트"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_2"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"7"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"달고나 만들기 세트"</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"index"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"_index"</span><span class="token operator">:</span><span class="token string">"autocomplete_test_2"</span><span class="token punctuation">,</span><span class="token property">"_id"</span><span class="token operator">:</span><span class="token string">"8"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token property">"word"</span><span class="token operator">:</span><span class="token string">"무선 키보드마우스 세트"</span><span class="token punctuation">}</span></code></pre></div>
<p>이걸로 기본 데이터 설정은 끝났습니다<br>
다음은 검색을 통해 어떠한 결과를 가지고 오는지 살펴 보겠습니다  </p>
<br/> 
<br/>
<h2 id="search를-통한-검색"><a href="#search%EB%A5%BC-%ED%86%B5%ED%95%9C-%EA%B2%80%EC%83%89" aria-label="search를 통한 검색 permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Search를 통한 검색</h2>
<p>이게 샘플 데이터를 가지고 검색을 해보겠습니다<br>
먼저 이해를 돕기 위해 Index에 설정된 analyze로 샘플 데이터가 어떻게 색인되는지 살펴보겠습니다<br>
다음 쿼리로 샘플데이터의 색인 토큰을 확인 하실 수 있습니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_<span class="token number">2</span>/_analyze
<span class="token punctuation">{</span>
  <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token string">"autocomplete"</span><span class="token punctuation">,</span>
  <span class="token property">"text"</span> <span class="token operator">:</span> <span class="token string">"여성 트레이닝복 세트"</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 535px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 140.74766355140187%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAAsSAAALEgHS3X78AAACJklEQVRIx6VV2ZLaMBDk//8uSe2SXe7DxrplybJZqNSkRwayvCHnYUouym56pntas9CdaVUbOppAoRuojYn64Upd/5Ur3s5Xa8YgPiTaSE8H1ZLF86eoqHEWL1woDWU1a+NAtk20bCzNj5reUDvlSdgA8B5sL2UMGdDHnt4B9Flb2itDG3Ei7eMDrIghz9Di49qiTARQIgdmuV3+10LQWUxn0m5sL+B5OF9IBU8udg9xymYIUZjRB5T+qAytMMu3uqKTddSCfSplyDNkwMXJ5hkuTpqO2pLCGJhxMWC4MfwNdgxaa0cHrcCuLwb7N0PbEp/x9nF/vj5emKDy3YeOdjA3t/p+2tNKHvPmTJ7hWrgszLzSaLkl5SL8+R+Av/YSm2JoKzSUrsA0PIG9CpqNbcBGo22Jcsyqv8KPf6b58G7sBqBs7jScqXKKDlaQjfHB7mWGeZfZhw37kI3taCkkbZUg4fxTOBT5kMXgtJkfBcJBkGm7W3x9TTA2Zscqb+WorvRt3pJxhlPCAcbmnQ5pZBMSkhvlUz9F5bHle2Ir3yGxa1qIAy1lVbyC33ZZZy/+2Al40VKDxJ6cNpzYvCVr4QHksYINmdA9JfbLDHmGBj6UroMXO6jbIyguT2IU2gaAnpUdt4QTm01tQpiY2Ldd5kvq507iVDC5xP3inm694oDlcOUt2QiDm09lUeL0xE4ZbI0Sea/9pPgfAaEwA/bffuTZTYkurr+ALW3o5Rs1mAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Analyze Token"
        title="Analyze Token"
        src="/static/67c468bf56bda78f76f596ea6a35a7fc/fd7a0/analyze-token.png"
        srcset="/static/67c468bf56bda78f76f596ea6a35a7fc/acf4b/analyze-token.png 173w,
/static/67c468bf56bda78f76f596ea6a35a7fc/fc834/analyze-token.png 345w,
/static/67c468bf56bda78f76f596ea6a35a7fc/fd7a0/analyze-token.png 535w"
        sizes="(max-width: 535px) 100vw, 535px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Edge_Ngram 색인 토큰</span>   </p>
<br/>
<p>색인어를 보면 2글자 이상을 기준으로 공백으로 끊어서 색인어가 생성된 것을 확인 하실 수 있습니다<br>
이것을 토대로 생성된 자동완성을 일반 검색과 같이 <code class="language-text">match</code>를 써서 자동완성을 서비스 합니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_<span class="token number">2</span>/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"match"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"세트"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 365px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 132.87671232876713%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsSAAALEgHS3X78AAADNUlEQVRIx5VVa3faOhDs//9t99w03JSE0DgY/Jb1svwgJDlzR7JNCYU0/bBnQbZG2p3Z8TfT9Ki0w91O4Kk0sLaFNA264RVt//IhXLf/bW2ObjiE/E2aFtb1yIWB8w/6PTcO4QUfPYGPsX/9+J8xvzeDBkDddDAMYTs8ZhL3Sc21Adq1WBdbPBUx7tMIP5IIqzzGs8jwWPhcoNT6CHi8oSKQbQckssG/zwVBVTikMhp3yU9sRQ7VuHCAbruQDbNi9vt+K1l7QDcgUw1vUfOAHoVW2ImKm3h7PrOt79/hiyUfAR1WvN2KZddcy3njn7kO8d9WIBGOIF8gZQYsdRvYXjJ2dcN1h+cyQ2k1pHNIVAU7ETaDnMcRMAT7FhUqEOPLbrh5mUe4TVaISMQifeTa/s+AXovaenLcJI1fL+z3b4z30C+fPyt3LJllNmSqFDIIdyCgj3MdDgQen/3Ksy5Pb3u8oZA2MFmZDgXJafjbl1xbS30asi5JGoNZcC2nCuqGfaYKruowJavfNyUWcRmELW2Dm3iFh/QJ6yzGY75DVGWI6xIbMeZKG07X4TLLHvCGgLl0EMYgVwIpw7YtXl7e8PYKHA7vodz9VPrFkmfAgv30mvOANW+X1hpJ7bCpDKJSY50rSsv9gZQzYd+ndZjlXLWo+SzKZdBkxkN2BK9Nz9u+X5XOETAQQ0J8/243RQAwnN9l9oRUV8iMwCJbIZY5bpKHMMenFncR0GtRO89sj7YbX6xdEzZXZDphP0VDho0cre7klh9m2fthrW2wsKCt/eGiHwbtTbkbrs3yJOyikmGhP3GP9txgh8PXDVb7TwF/r73bkBjF/6oh6+WOBrulFiMs02dqcUtjzYPxjgarRsDhisH+E+XcLMMhpVFY7NaIKWZpbOilouuMeTRbP02f2pf3Qk9QQWtPJT8F7K/ljNv2ZSLiLw32gYAeVE4G+5AqLKnLVSKDyabUpJ+SLxlsTsBFXOGOMRvstiqhOHo15eLNYJbQqS9e1OH45euxmUbMG6xte9zSVL3JrqstfjBHIsV3Ctv37zrgJGppRoO95MRzv2b5hPWLo3disOdlfGYCx7Uz0P8B1DIPoM53IB4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Match Search"
        title="Match Search"
        src="/static/f39853f427fadda6a6092a960855c738/e8713/match-search.png"
        srcset="/static/f39853f427fadda6a6092a960855c738/acf4b/match-search.png 173w,
/static/f39853f427fadda6a6092a960855c738/fc834/match-search.png 345w,
/static/f39853f427fadda6a6092a960855c738/e8713/match-search.png 365w"
        sizes="(max-width: 365px) 100vw, 365px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Match 검색 결과</span>   </p>
<br/> 
<br/>
<p>오타에 대한 검색을 위해 <code class="language-text">fuzziness</code>를 설정하여 검색도 가능합니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_<span class="token number">2</span>/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"match"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"query"</span><span class="token operator">:</span> <span class="token string">"트레이복"</span><span class="token punctuation">,</span>
        <span class="token property">"fuzziness"</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 389px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.58611825192802%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABWElEQVQoz42R2W6DMBBF8/8fV6lSoqgVIRRIwIB3Y8hS3Y4NqKRNpT4cjRibozvjjfMXKN3jyCR2JYeyA7hQCP1+uH7jr797M0vfEZvwIZQDlxZM2HigjIfpx3jRRsb4vWADcy/UtTQKO5JpkkhKF5K+ZgwnbmHdgKTOsTuleD9n2JYpDqxEMvPR1WBSwQ+3KHRroZqFb6cO27yBsB6tUiQoUPIGrh8owZTWzsndAvXjSp4JD7VExhSE6Slli4bW0WqPitbB6c4y3pp170EoiISEu6JF3hpoSlk0ClljaBUaNXcYxzvxiWG84XKZ6vqxHoThhZOK4+VYx6SKUr7R7grBUEqGfZ0i6yqqR5Sixb5K6ayhHd7/SKhslNbSxRrOmJY4S45GqyipFEfOGbi1UdYZQ8luP4UupumkgacRRsLPIww04sI06lTDyy716cid1E8X/h/W/30BfxD9m7uf3wAAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Match Fuzziness Search"
        title="Match Fuzziness Search"
        src="/static/6481606e666182a57b9e1d30c88d1d90/48001/match-fuzziness-search.png"
        srcset="/static/6481606e666182a57b9e1d30c88d1d90/acf4b/match-fuzziness-search.png 173w,
/static/6481606e666182a57b9e1d30c88d1d90/fc834/match-fuzziness-search.png 345w,
/static/6481606e666182a57b9e1d30c88d1d90/48001/match-fuzziness-search.png 389w"
        sizes="(max-width: 389px) 100vw, 389px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Fuzziness 설정 검색 결과</span>   </p>
<br/>
<p>이것으로 이전에 <a href="https://renuevo.github.io/elastic/autocomplete/elastic-autocomplete-1/" target="_blank" rel="nofollow noopener noreferrer">Autocomplete Prefix Queries</a>에서 첫글자를 기준으로 입력해야 했던 <code class="language-text">Prefix</code>와 <code class="language-text">Whitespace</code>의 단점을 보완하였습니다<br>
이러한 방식으로 <strong>세트</strong>와 같이 중간이나 끝에 나오는 문자도 자동완성으로 제공하는 서비스가 가능합니다   </p>
<br/>
<p>하지만 이러한 자동완성도 어디까지나 영어와 같은 a, b, c 같이 문자가 하나하나일 경우만 효과적일 수 있습니다 ❗<br>
다시 말해 한글과 같이 자음과 모음의 합성으로 만들어지는 문자의 경우는 해당 방법만으로 서비스를 하기엔 부족한 부분이 있습니다<br>
다음은 한글 자동완성의 다른점과 어떻게 서비스를 만들어야 하는지를 설명합니다  </p>
<br/>
<br/>
<h2 id="한글의-자동완성"><a href="#%ED%95%9C%EA%B8%80%EC%9D%98-%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1" aria-label="한글의 자동완성 permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>한글의 자동완성</h2>
<p>한글은 <code class="language-text">자음과 모음</code>의 합성으로 글자가 이루어 집니다<br>
이러한 경우 사람이 이해하기 쉽지만 시스템에서는 이를 서비스하기 위해 약간의 추가적 개발이 필요합니다  </p>
<br/>
<p>먼저 한글로 인해 고려해야할 항목들을 생각해 보겠습니다  </p>
<blockquote>
<ol>
<li><code class="language-text">ㄱ</code>과 <code class="language-text">ㅏ</code>가 만나 <code class="language-text">가</code>가 되는 합성문자 이다  </li>
<li>
<p><code class="language-text">받침</code>을 가지고 있어 <code class="language-text">자음이 이전문자</code>의 <code class="language-text">받침</code>이 될 수 있다  </p>
<blockquote>
<p>🥔<code class="language-text">감자튀김</code>을 입력할 경우 <code class="language-text">감잩</code>같이 중간에 전혀 다른 글자가 된다   </p>
</blockquote>
</li>
<li>서비스적으로 🥔<code class="language-text">감자튀김</code>을 <code class="language-text">ㄱㅈㅌㄱ</code>과 같이 검색 할 수 도 있다  </li>
</ol>
</blockquote>
<br/>
<p>한글 자동완성을 설계할 때는 다음과 같은 상황을 고려해서 설계할 필요가 있습니다<br>
이러한 기능들을 구현하기 위해서는 색인어를 다양한 형태로 저장해야만 합니다<br>
하지만 현재의 Elastic Search가 제공하는 기본 기능만으로는 한계가 있습니다<br>
그래서 추가적으로 Plugin을 설치하여 Elastic의 기능을 확장할 필요성이 있습니다</p>
<br/>
<h2 id="한글-자동완성을-위한-플러그인"><a href="#%ED%95%9C%EA%B8%80-%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8" aria-label="한글 자동완성을 위한 플러그인 permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>한글 자동완성을 위한 플러그인</h2>
<p>자동완성의 경우에는 일반적인 검색에 대한 인덱싱과는 색인어의 차이를 가지고 있습니다<br>
일반적인 검색에서는 <code class="language-text">nori형태소</code>와 같이 검색을 위해 단어에 대해서 색인을 하게 됩니다  </p>
<br/>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 483px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 29.606625258799173%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+UlEQVQY05WRyW6DMABE/f/fVamtmlZqKyRCAiTFbMHglSXEZWpIlCqHHHJ4mpE9hxmb2JMFFwra9I4BujtCtQOM08cYIXUPMk2/UMag3h+QpzWCrIBPc2RMohEdmGhRcXOX2t3TSmAVJwhSAcK4RpwUiH5KeHGBzzDHV5Rjmxzg7RJ3RrHPGuwunH19Q+yKhJQhcpB5al4yFEzhbU3x4lOsXdv3cIPnwMOT/43XjY9VGCx8RFukpURS8BtoKZw2IJgmaG3AuFrqc9lBqHnqec6sldCLLt4talymke1F/z1zT0CstZBSYzhatP14pbvL6SZ3zQ+j+4sBf4uZxUlcxWicAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="nori-analyzer"
        title="nori-analyzer"
        src="/static/57063d6d3b1e70b49029fada69aee808/b1a6d/nori-analyzer.png"
        srcset="/static/57063d6d3b1e70b49029fada69aee808/acf4b/nori-analyzer.png 173w,
/static/57063d6d3b1e70b49029fada69aee808/fc834/nori-analyzer.png 345w,
/static/57063d6d3b1e70b49029fada69aee808/b1a6d/nori-analyzer.png 483w"
        sizes="(max-width: 483px) 100vw, 483px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Fuzziness 설정 검색 결과</span>   </p>
<br/>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 609px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 90.64039408866996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABpklEQVQ4y52U607jMBSE+/5vh5aLdoFCuTRJc/PdDqQa5rgt25WQGu+PUdrIGnu+M/FqnvfwPkC7BEXZMMFRMc0I6RMhfhRpNe/3cDRsR4vnnUJvPHygufc0T/Bc5I6bLNFqnmcaRlgX8dpq3Lx1WDcjbrfvqHqVF51M5XlJqxw5Jmgb8ULDOxreVx2em/Z42n9PcNFwz8gSUduAerDY0LRVjrJ8f+Cy9HTZcJo+oI2Dogbtob1wm9Bbg9ZoGOI453jRMDCudQGGDDccyq+XFg/VgLvtFutdhZEbFRmmNOUpZ8NW4ZYMH8nwqdkRQ/obOSyMfDIUhg2r89YZdIw+2J9rs8hQIgvDXhiy3I5Gg7Xfi4qGEkLMQ7E0OjH8s+1xX7M2mu99YQ8jh2LyUA6G168tHmtyrKtsWDKQM4ZyypD7V42Mzt/Gp/+LnJLUxpOh5zAcRn4xgT2sVM/LIpQbxmMPTwyvNrvM8HdV471TZJjKGIYYYVgRYSi3zQ0ZrmvpYZPrU3zbCEPDyNJDMWiUz7HPGZYoR1ba5u84xzvuJHWR/4fncn0Bev1t++Syc8AAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="nori-analyzer-result"
        title="nori-analyzer-result"
        src="/static/adda5c4a474191219f9315a4eb63ff32/672f7/nori-analyzer-result.png"
        srcset="/static/adda5c4a474191219f9315a4eb63ff32/acf4b/nori-analyzer-result.png 173w,
/static/adda5c4a474191219f9315a4eb63ff32/fc834/nori-analyzer-result.png 345w,
/static/adda5c4a474191219f9315a4eb63ff32/672f7/nori-analyzer-result.png 609w"
        sizes="(max-width: 609px) 100vw, 609px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Fuzziness 설정 검색 결과</span>   </p>
<br/>
<p>이 처럼 일반적인 형태소를 통해서 색인을 하게 되면 검색에 알맞은 색인어가 추출됩니다<br>
<span class='red_font'>하지만 이러한 색인어들로는 자동완성을 하기 부적절 합니다</span>  </p>
<br/>
<p>그래서 한글과 자동완성에 맞는 기능을 위해 Plugin을 설치해야 합니다<br>
일반적으로 해당기능을 위해 많이 알려진 Plugin은 <a href="https://github.com/punxism/elasticsearch-hangul-jamo-plugin" target="_blank" rel="nofollow noopener noreferrer">한글 jamo 플러그인</a>입니다<br>
하지만 개인적으로 아쉽게도 해당 플러그인은 현재 4년전 5.2.2까지만 테스트가 진행 되었고 Maven으로 빌드되어 있습니다<br>
(현재 공식 <a href="https://github.com/elastic/elasticsearch" target="_blank" rel="nofollow noopener noreferrer">Elastic github</a>에서는 Gradle을 기본으로 사용합니다)</p>
<br/>
<p>그래서 이전에 사용하던 6.5.4와 7.3.2버젼의 호환성과 Gradle기반의 Elastic Plugin을 직접 제작하였습니다 👉 <a href="https://github.com/renuevo/elastic-plugin-test" target="_blank" rel="nofollow noopener noreferrer">한글 jamo 7.3.2 Custom 버젼</a><br>
해당 github project는 Plugin 개발을 위한 Test용도이며 개발에는 Lucene과 Elastic의 Plugin 개발 지식이 필요합니다<br>
Plugin 개발에 대해서는 이후 따로 포스팅할 예정이며 Elastic에서 제공하는 <a href="https://github.com/elastic/elasticsearch/tree/master/plugins" target="_blank" rel="nofollow noopener noreferrer">Elastic Plugin</a>의 example을 보고 개발 가능합니다  </p>
<br/>
<p>이제 자소분해 검색을 진행해보겠습니다<br>
먼저 Plugin을 사용해서 신규 형태소 분석을 갖는 인덱스를 생성해 줍니다    </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">PUT autocomplete_test_jamo
<span class="token punctuation">{</span>
  <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"analysis"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"jamo_analyzer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"tokenizer"</span><span class="token operator">:</span> <span class="token string">"ngram_token"</span><span class="token punctuation">,</span>
          <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"lowercase"</span><span class="token punctuation">,</span>
            <span class="token string">"jamo-filter"</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">      <span class="token property">"filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token property">"jamo-filter"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"jamo_filter"</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">          <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"jamo_filter"</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span></span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">"tokenizer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"ngram_token"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"edge_ngram"</span><span class="token punctuation">,</span>
          <span class="token property">"min_gram"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token property">"max_gram"</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
          <span class="token property">"token_chars"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"letter"</span><span class="token punctuation">,</span>
            <span class="token string">"digit"</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"mappings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"properties"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span>
        <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token string">"jamo_analyzer"</span><span class="token punctuation">,</span>
        <span class="token property">"search_analyzer"</span><span class="token operator">:</span> <span class="token string">"jamo_analyzer"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Tokenizer는 이전과 똑같이 Ngram을 사용하였습니다<br>
이후 필터부분에 플러그인으로 제작한 <code class="language-text">jamo_filter</code>를 등록해 줍니다  </p>
<br/>
<p>여기서 Plugin의 코드를 잠시 살펴 보겠습니다  </p>
<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JamoTokenFilter</span> <span class="token keyword">extends</span> <span class="token class-name">TokenFilter</span> <span class="token punctuation">{</span>

    <span class="token class-name">CharTermAttribute</span> charTermAttribute <span class="token operator">=</span> <span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token class-name">CharTermAttribute</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Parser</span> parser<span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token class-name">JamoTokenFilter</span><span class="token punctuation">(</span><span class="token class-name">TokenStream</span> input<span class="token punctuation">,</span> <span class="token class-name">Parser</span> parser<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parser <span class="token operator">=</span> parser<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">incrementToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

<span class="gatsby-highlight-code-line">        <span class="token keyword">if</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">incrementToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">            <span class="token class-name">String</span> result <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parser</span><span class="token punctuation">(</span>charTermAttribute<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">            charTermAttribute<span class="token punctuation">.</span><span class="token function">setEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">        <span class="token punctuation">}</span></span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>코드를 보시면 Ngram으로 파싱해서 가져온 글자를 <code class="language-text">charTermAttribute.toString()</code>으로 받아옵니다<br>
이후 parser로 자음과 모음을 분해해서 <code class="language-text">charTermAttribute.setEmpty()</code>로 기존 색인어를 초기화하고 분해한 색인어 값을 추가해 줍니다  </p>
<br/>
<p>이렇게 등록하면 다음과 같이 자음과모음이 분해된 색인어를 갖게 됩니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_jamo/_analyze
<span class="token punctuation">{</span>
  <span class="token property">"analyzer"</span><span class="token operator">:</span> <span class="token string">"jamo_analyzer"</span><span class="token punctuation">,</span>
  <span class="token property">"text"</span> <span class="token operator">:</span> <span class="token string">"여성 트레이닝복 세트"</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 112.53229974160206%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABmElEQVQ4y6WUbU+DQBCE+f8/z6TGqFVbWgp3cNw72H5Y5xZFMZrw8mFD07SbeZjZyZQJVLaeXOgodleegPHxnZ9LJzOuo1NtqFCOpHGkXBiXrVmaOd/RQWi6Owp6uki6KA213wuXLs0sFhZQeG6gUBvSLlLX37Yhl8pSpQM1NjCycn41NiO/jciCkQ2+C4x7XY+c1xbIlrSP7DQvWmNKQpatoxZPg+hYzE/cVQqP0tAur+m5rPE+zcTlxQrTwlxqeqlaOK1IWU9xm8uRkbXvgdsDOzL2JoUHKLw/1VDZ4GIUZ3HTO8zxDp8uCk4PyBzs1QqhpkKwlRsc1kBO2L+dnjusMJXDY6HoVSgOdoNLcbFfZ4p1Qzk8nGtcjORwx+62WNmosMCyQ1HjWnDPTRr3OcNnoZYN33KBP6d7PiPUldZUW0ut92N8lscGy3a5pH0pSbR28oOvglhkSgmFAvWlUV3pnn03/dGSkLMpRWP4ngvuRQNklIUfejG1T0gqu3khn/ThvhRcDn+hzFXJClOwE3IL5P/ueC7yB0HX79lpLJW4AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Custom Tokenizer Result"
        title="Custom Tokenizer Result"
        src="/static/752adcff1c9cddabfd99114f2dba2020/36727/custom-tokenizer-result.png"
        srcset="/static/752adcff1c9cddabfd99114f2dba2020/acf4b/custom-tokenizer-result.png 173w,
/static/752adcff1c9cddabfd99114f2dba2020/fc834/custom-tokenizer-result.png 345w,
/static/752adcff1c9cddabfd99114f2dba2020/36727/custom-tokenizer-result.png 690w,
/static/752adcff1c9cddabfd99114f2dba2020/6e80e/custom-tokenizer-result.png 774w"
        sizes="(max-width: 690px) 100vw, 690px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Jamo 형태소 분석 결과</span>   </p>
<br/>
<br/>
<p>이후 다음과 같은 쿼리로 자모분해 검색이 가능합니다  </p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">GET autocomplete_test_jamo/_search
<span class="token punctuation">{</span>
  <span class="token property">"query"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"match"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"word"</span><span class="token operator">:</span> <span class="token string">"트레인"</span>
    <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 468px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.23931623931624%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABC0lEQVQoz32R227CMBBE8/+f14eWphXCiMS5+e7YCVSarp1CAwo8jLyyx6Ozu4X1EVVv8MUlrJ9grIePM0K8IE4/K10Qpv+7MZ7hw5zPtQrtAoRyUGZET+LSwY0zBmvBlUAlB5zEgFarrFoK8shb2GNooW0K9DBE98ZafFQCmihLzvDdMHRa5pCGzs7opVZLoH8VqFyktgU6qltFNMpS2EgKq/bvWx43W06Begksa4EdEYrUujBgNNtjr5HGkkhcmBayrHOe9SbhQFRpOftG4v00QNEd6zkOgoOJGmV7xK45YN9X+GwZzBhfLOWPUGp395DMlj5edaVL9bOF5EDjEqEj43QzbRkf9czzCwS/ZjkQ0cAsAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Jamo Search Result"
        title="Jamo Search Result"
        src="/static/d231e224995a27d7c9855ace53eb6ea9/bb106/jamo_search_result.png"
        srcset="/static/d231e224995a27d7c9855ace53eb6ea9/acf4b/jamo_search_result.png 173w,
/static/d231e224995a27d7c9855ace53eb6ea9/fc834/jamo_search_result.png 345w,
/static/d231e224995a27d7c9855ace53eb6ea9/bb106/jamo_search_result.png 468w"
        sizes="(max-width: 468px) 100vw, 468px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>Jamo 검색에 대한 결과</span>   </p>
<br/>
<br/>
<p>이전 Index 생성시 등록한 <code class="language-text">&quot;search_analyzer&quot;: &quot;jamo_analyzer&quot;</code>를 통해 검색에 형태소가 적용되어 검색을 하게 됩니다   </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 690px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 22.058823529411764%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcRAAAXEQHKJvM/AAABF0lEQVQY001PPUvEQBQMWHgiaGFnZ6O/QVALz9NGgkEUBMFGELlfIOKfu0tjYS0iwullNyG3H9nd2002WfPcpHJ4wzTz3swLVtYHO2urg+3AA4AG/wEAvYYXUa8Pj+PN09Ho5Ob6an94PDwLz8OjKIwOnp9edr13IydsK0BfyfQbZ28J5ZOUiTjjMka0iDEtpnPCJktjX23THnYHCZO3GRUwXxQq58KkjJUpo4ZIsZS69FOrQEpT5boBXjaQa+UpgRoNytZQ/0KP2Q+68/f2EpSNhW3hHVH4zDhgLoApA8Y2UFoHlV8IuDIMUwVc6WZGsPNpTunKKVM5n9j4dkC5vOwaLhb8nukaPjB1iPDWN2z9B6339drxDzou6MqN1b5IAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Jamo Search View"
        title="Jamo Search View"
        src="/static/473372a9835f248d43314cbed3061366/36727/jamo_search_view.png"
        srcset="/static/473372a9835f248d43314cbed3061366/acf4b/jamo_search_view.png 173w,
/static/473372a9835f248d43314cbed3061366/fc834/jamo_search_view.png 345w,
/static/473372a9835f248d43314cbed3061366/36727/jamo_search_view.png 690w,
/static/473372a9835f248d43314cbed3061366/17fa4/jamo_search_view.png 1035w,
/static/473372a9835f248d43314cbed3061366/6feaa/jamo_search_view.png 1088w"
        sizes="(max-width: 690px) 100vw, 690px"
        loading="lazy"
      />
    </span>
<span class='img_caption'>실제 내부 검색 형태</span><br>
덕분에 트레인이라고 검색하지만 <code class="language-text">ㅌㅡㄹㅔㅇㅣㄴ</code>으로 검색하여 이후 자음이 받침으로와도 검색되도록 문제를 해결 할 수 있습니다  </p>
<hr>
<br/>
<p>이전에 말씀드린 고려사항 같은 방법을 응용하여 해결할 수 있습니다  </p>
<blockquote>
<ol start="3">
<li>서비스적으로 🥔<code class="language-text">감자튀김</code>을 <code class="language-text">ㄱㅈㅌㄱ</code>과 같이 검색 할 수 도 있다  </li>
</ol>
</blockquote>
<p>이 경우는 따로 설명 드리지 않겠습니다<br>
좋은 서비스를 만들기 위해 직접 실험하고 해보시길 권유 드립니다 🙋‍♂  </p></div><div class="social-share"><a class="resp-sharing-button__link" href="#" target="_blank" rel="noopener" aria-label="Share on Facebook"><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"></path></svg></div><span class="service-label">Share on Facebook</span></div></a><a class="resp-sharing-button__link" href="#" rel="noopener" aria-label="Share on Twitter"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"></path></svg></div><span class="service-label">Share on Twitter</span></div></a></div><hr class="custom-hr"/><div class="bio"><div class="author"><div class="author-description"><div class="author-image gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:72px;height:72px;border-radius:100%"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAEz0lEQVQ4ywHEBDv7AHuZjJKqtnNpb0AuJ05APoJmUquIaayMb6+TfbOYhridibmdh72fhr2ehLeYfp6AaX9jUJJ1X5N3YX5kUgB+m5CQqbSPmKh3dm1dTEuRfXOxjXC6mn67n4rBpZDHq5TLrZXOr5XPsJTSspbWtZjVtJbUtJbSspbNrpMAiJaFiKOxlJ2vnrSkjo2L69rY0qyEwZFh0KZ54LWF5LuL6MOS6MCO6sKQ6sOR68mZ5sGU37iN2rWK0KyGAI+Qj4ufr5yitpisl42kqcW2t9KoetanbrKMYa6GXfHHj//hpPzYl/rRkfzVkfLUlOS+hPnOju3Agua4fACpqLunwN6krMSbs8GGorjMytLjvZCXa0dNLR8+IhRILx91VzzNp3P20JT805Xy0qTlx5/6z5DzyY7twIYApZaNubzApqOuucjLqsPU0MvWy6WLYTkpVTQlQykbNR8TLBMKVjcj8NOe/eey/OKw/dym/Nae/N6p+9ikAJ+Zn5eNjGxaVqqgm46LjdPLzpWAfTslIjkmIS4cFC8cEjgjFi4VCLeWb//msfjYpvrTn/rVn/jUn/rYpACcqrnf5euEeoKxsLior7jMvb1pYWYVDxMmHyQsHRszHxYzGxEpEQexjWb/2J750pj91Jz90pj4z5X/1Z4Av8K53Orwj4qWvMHIqLO+18zPkIOCYUxNlW1kwI1+pnNeo2xSlmE+ZkYxdFZCd1dAelpCeltBeltAfF1DAM3r/6/K4oeDkaSipZOUmImBhHtlY9y0q8maju+1od2egd2hgeCZaFQxID0pHEguH0kwIEQrHEwyH0MsGwCtsL2jl5RiVltPTmJRbJFxdIBeVFbqu7HxvK3fqJjpoXz9waXHiWA8JBU/JhU3IRM2IBJEKBY7IxJQLxkAioWDZ2ZsR0JMV1tjYHeIdHeBfmpexp2S9sO31ZWE2Itq7KuDgls+JRkSPSkeJhcPLBwSOiUWLx0RUDMfAEpPVD1FU09VXpSnoJarpWprb39hTpdyYMmfmcN5b8x6WcSGTrWJWlhCL25RN2ZKLVE4IXZUL2ZGKa6CTQBRWmVFS1QgIy04P0k1PUhVSUNNQD1OOzWuin22i33JhlyDTymtjmb2yY7+1Jn1zI/swYbtw4bku3zyx4kAgJSgHCEsGRogJSEoLSEiVkM6OCwsNSUji2FNtJePuIRmXjsoRDQnak80eVw/poVf8syV+tOX7ceL9M6RAFhUVEhBQkM2MUQ2My0fHiIXFywfHx0TE2E1HcGUeK+JeiseGRgNBxkNCR0QDx0PDE87LMCdcfzTlPjRmQAhFBM1JCExIR4kFhQhFBMgFRMaExIJBwgeDg1TJiUoFxgKBwUUEA4YEg8jFxYdFBIZDgwmEwyhflP/2pkAKx8eJhoYHBEPHxQSHBMTGxEQGRIQDg0NEQsOQAMHGwcGGBEQHhYUFhEOFA4MEAwKGBEOHBANMyAUwqFzAB0RDx8UEBQLCBAMCRkUFCAWFB0SERcQDQwQESkNDyMOCxsSER0SEhkSEBgPDQoHBxIOCx8TECATDyoaEQAbEAwUCwgOCAUIBQMXEREiFhUbEA4WDQsSDw8bDg8kEg4eExAcEhEcExEaEA8LCAgJCAkTDw0hFRArHBKIIAQPpy4qsAAAAABJRU5ErkJggg==" alt="deokhwa kim" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/3fc5562e6ad25d80970b53e8e9afab0c/f4007/profile.png 1x,
/static/3fc5562e6ad25d80970b53e8e9afab0c/c608d/profile.png 1.5x,
/static/3fc5562e6ad25d80970b53e8e9afab0c/d10ce/profile.png 2x" /><img loading="lazy" width="72" height="72" srcset="/static/3fc5562e6ad25d80970b53e8e9afab0c/f4007/profile.png 1x,
/static/3fc5562e6ad25d80970b53e8e9afab0c/c608d/profile.png 1.5x,
/static/3fc5562e6ad25d80970b53e8e9afab0c/d10ce/profile.png 2x" src="/static/3fc5562e6ad25d80970b53e8e9afab0c/f4007/profile.png" alt="deokhwa kim" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="author-name"><span class="author-name-prefix">Written by</span><a class="author-name-content" href="/about"><span>@<!-- -->deokhwa kim</span></a><div class="author-introduction">검색엔진 &amp; Spring &amp; Data를 다루고 있습니다 / 요즘은 Kotlin, Reactive Programing에 관심이 많습니다</div><p class="author-socials"><a href="https://github.com/renuevo">GitHub</a><a href="https://www.facebook.com/deokhwa.kim.75">Facebook</a></p></div></div></div></div><ul class="navigator"><li><a rel="prev" href="/notion/clean-architecture-1/">← <!-- -->[Notion] 1. 클린 아키텍처란? (Clean Architecture)</a></li><li><a rel="next" href="/spring/spring-version-upgrade/">[Spring] Spring Boot 2.3.x Dependency 업그레이드<!-- --> →</a></li></ul><div><div id="disqus_thread"></div></div><footer class="footer">©<a href="https://github.com/renuevo">renuevo</a>, Built with<!-- --> <a href="https://github.com/JaeYeopHan/gatsby-starter-bee">Gatsby-starter-bee</a></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-147163050-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/elastic/autocomplete/elastic-autocomplete-2/";window.webpackCompilationHash="9bc18b594d2407556304";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-3ef2d9e26c0a65fb468a.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-d8ff3142cebda72f471f.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2047161ab81a7fa0cbea.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3ef9908c8ca2bbec57a2.js"],"component---src-pages-about-js":["/component---src-pages-about-js-00cc2684b605b19b0688.js"],"component---src-pages-index-js":["/component---src-pages-index-js-c844c12cd7f5589a4a4b.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-2047161ab81a7fa0cbea.js" async=""></script><script src="/styles-e1c233dfb1cd7340e97d.js" async=""></script><script src="/commons-e3839588b8ec4f06d1d2.js" async=""></script><script src="/app-3ef2d9e26c0a65fb468a.js" async=""></script><script src="/webpack-runtime-db7c9e59d855b4322330.js" async=""></script></body></html>